{"config":{"lang":["ru"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Home","text":""},{"location":"vCenter/","title":"vCenter","text":""},{"location":"vCenter/#_1","title":"\u041a\u0430\u043a \u043f\u0435\u0440\u0435\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u0442\u044c \u0412\u041c","text":"<ol> <li>Rename</li> <li>Migrate</li> <li>Change storage only</li> <li>\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0434\u0440\u0443\u0433\u043e\u0439 storage</li> </ol>"},{"location":"vCenter/#_2","title":"\u041a\u0430\u043a \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432\u043b\u0430\u043d","text":"<ol> <li>\u0427\u0435\u0442\u0432\u0435\u0440\u0442\u0430\u044f \u0432\u043a\u043b\u0430\u0434\u043a\u0430 &gt; DSwitch &gt; Distributed Port Group &gt; New Distributed Port Group</li> <li>Name 3.1 VLAN type: VLAN 3.2 VLAN ID 3.3 \u0413\u0430\u043b\u043e\u0447\u043a\u0443 \u043d\u0430 Customize default policies configuration</li> <li>Teaming and failover. lag \u043f\u043e\u0434\u043d\u0438\u043c\u0430\u0435\u043c \u0432 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0430\u043f\u043b\u0438\u043d\u043a\u0438, \u0430\u043f\u043b\u0438\u043d\u043a\u0438 \u043e\u043f\u0443\u0441\u043a\u0430\u0435\u043c \u0432 Unused</li> </ol>"},{"location":"Coding/Ansible/from_zero_to_hero/","title":"Ansible \u0434\u043b\u044f \u0421\u0435\u0442\u0435\u0432\u043e\u0433\u043e \u041e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u044f: From Zero to Hero","text":"<p>\u041f\u0440\u0435\u0434\u0432\u0430\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f: - \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0435 Ansible: <code>pip install ansible</code> \u0438\u043b\u0438 \u0447\u0435\u0440\u0435\u0437 \u043f\u0430\u043a\u0435\u0442\u043d\u044b\u0439 \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440 (e.g., <code>apt install ansible</code> \u043d\u0430 Ubuntu). - \u0414\u043b\u044f \u0441\u0435\u0442\u0435\u0432\u044b\u0445 \u043c\u043e\u0434\u0443\u043b\u0435\u0439: <code>ansible-galaxy collection install ansible.netcommon</code> (\u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0430\u043b\u044c\u043d\u044b\u0435 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u044b \u0434\u043b\u044f CLI). - \u0414\u043b\u044f \u0432\u0435\u043d\u0434\u043e\u0440-\u0441\u043f\u0435\u0446\u0438\u0444\u0438\u0447\u043d\u044b\u0445: <code>ansible-galaxy collection install cisco.ios</code> (\u0434\u043b\u044f Cisco IOS), <code>junipernetworks.junos</code> \u0438 \u0442.\u0434. - \u0422\u0435\u0441\u0442\u0438\u0440\u0443\u0439\u0442\u0435 \u043d\u0430 \u044d\u043c\u0443\u043b\u044f\u0442\u043e\u0440\u0430\u0445 (e.g., GNS3, Containerlab) \u0438\u043b\u0438 \u0440\u0435\u0430\u043b\u044c\u043d\u044b\u0445 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430\u0445 \u0441 SSH-\u0434\u043e\u0441\u0442\u0443\u043f\u043e\u043c. - ansible.cfg: \u0421\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u0444\u0430\u0439\u043b \u0441 <code>host_key_checking = False</code> \u0434\u043b\u044f \u0443\u043f\u0440\u043e\u0449\u0435\u043d\u0438\u044f \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0439 \u0438 <code>forks=50</code> \u0434\u043b\u044f \u043f\u0430\u0440\u0430\u043b\u043b\u0435\u043b\u0438\u0437\u043c\u0430 \u043d\u0430 \u0441\u043e\u0442\u043d\u044f\u0445 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432.</p>"},{"location":"Coding/Ansible/from_zero_to_hero/#1-playbook-zero-level","title":"\u0428\u0430\u0433 1: \u041f\u0440\u043e\u0441\u0442\u0435\u0439\u0448\u0438\u0439 Playbook \u0434\u043b\u044f \u041e\u0434\u043d\u043e\u0433\u043e \u0423\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430 (Zero Level)","text":"<p>\u041d\u0430\u0447\u043d\u0435\u043c \u0441 \u0431\u0430\u0437\u043e\u0432\u043e\u0433\u043e: \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u043c \u043f\u0440\u043e\u0441\u0442\u0443\u044e \u043a\u043e\u043c\u0430\u043d\u0434\u0443 (e.g., <code>show version</code>) \u043d\u0430 \u043e\u0434\u043d\u043e\u043c \u0441\u0435\u0442\u0435\u0432\u043e\u043c \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0435. \u042d\u0442\u043e \u0432\u0432\u043e\u0434\u0438\u0442 \u043a\u043b\u044e\u0447\u0435\u0432\u044b\u0435 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u044b Ansible: playbook (YAML-\u0444\u0430\u0439\u043b \u0441 \u0438\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u044f\u043c\u0438), inventory (\u0441\u043f\u0438\u0441\u043e\u043a \u0445\u043e\u0441\u0442\u043e\u0432) \u0438 \u043c\u043e\u0434\u0443\u043b\u0438 (\u0433\u043e\u0442\u043e\u0432\u044b\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 \u0434\u043b\u044f \u0437\u0430\u0434\u0430\u0447).</p> <p>\u0421\u043e\u0437\u0434\u0430\u0439\u0442\u0435 inventory (inventory.ini): <pre><code>[switches]\nswitch1 ansible_host=192.168.1.10 ansible_user=admin ansible_password=secret ansible_network_os=ios ansible_connection=network_cli\n</code></pre> - <code>ansible_host</code>: IP-\u0430\u0434\u0440\u0435\u0441 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430. - <code>ansible_user/password</code>: \u0423\u0447\u0435\u0442\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 (\u0432 production \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 ansible-vault \u0434\u043b\u044f \u0441\u0435\u043a\u0440\u0435\u0442\u043e\u0432). - <code>ansible_network_os</code>: \u0423\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442 \u041e\u0421 (e.g., <code>ios</code> \u0434\u043b\u044f Cisco; \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0437\u0430\u0434\u0430\u0432\u0430\u0442\u044c \u0432\u0440\u0443\u0447\u043d\u0443\u044e, \u0442\u0430\u043a \u043a\u0430\u043a \u043d\u0435 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u0442\u0441\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 gather_facts). - <code>ansible_connection=network_cli</code>: \u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u043f\u043e SSH \u0441 CLI (\u0432\u043c\u0435\u0441\u0442\u043e <code>local</code> \u0434\u043b\u044f \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u0432).</p> <p>\u0421\u043e\u0437\u0434\u0430\u0439\u0442\u0435 playbook (simple_show.yml): <pre><code>---\n- name: Show version on switch\n  hosts: switch1  # \u0426\u0435\u043b\u044c: \u0445\u043e\u0441\u0442 \u0438\u0437 inventory\n  gather_facts: false  # \u041d\u0435 \u0441\u043e\u0431\u0438\u0440\u0430\u0435\u043c \u0441\u0438\u0441\u0442\u0435\u043c\u043d\u044b\u0435 \u0444\u0430\u043a\u0442\u044b (\u043d\u0435 \u043d\u0443\u0436\u043d\u044b \u0434\u043b\u044f \u0441\u0435\u0442\u0435\u0432\u043e\u0433\u043e \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u044f)\n\n  tasks:\n    - name: Run show version\n      ansible.netcommon.cli_command:  # \u0423\u043d\u0438\u0432\u0435\u0440\u0441\u0430\u043b\u044c\u043d\u044b\u0439 \u043c\u043e\u0434\u0443\u043b\u044c \u0434\u043b\u044f CLI-\u043a\u043e\u043c\u0430\u043d\u0434\n        command: show version\n      register: output  # \u0421\u043e\u0445\u0440\u0430\u043d\u044f\u0435\u043c \u0432\u044b\u0432\u043e\u0434 \u0432 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e 'output'\n\n    - name: Display output\n      ansible.builtin.debug:  # \u041c\u043e\u0434\u0443\u043b\u044c \u0434\u043b\u044f \u043e\u0442\u043b\u0430\u0434\u043a\u0438 (\u0432\u044b\u0432\u043e\u0434\u0438\u0442 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435)\n        msg: \"{{ output.stdout }}\"  # \u0412\u044b\u0432\u043e\u0434\u0438\u043c \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u043e\u0435 (Jinja2-\u0441\u0438\u043d\u0442\u0430\u043a\u0441\u0438\u0441 \u0434\u043b\u044f \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445)\n</code></pre> - \u0421\u0438\u043d\u0442\u0430\u043a\u0441\u0438\u0441 playbook: \u041d\u0430\u0447\u0438\u043d\u0430\u0435\u0442\u0441\u044f \u0441 <code>---</code>, \u0437\u0430\u0442\u0435\u043c plays (\u0433\u0440\u0443\u043f\u043f\u044b \u0437\u0430\u0434\u0430\u0447). <code>hosts</code> \u2014 \u0446\u0435\u043b\u0438, <code>tasks</code> \u2014 \u0441\u043f\u0438\u0441\u043e\u043a \u0437\u0430\u0434\u0430\u0447. - \u041c\u043e\u0434\u0443\u043b\u044c <code>cli_command</code>: \u0412\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442 \u043a\u043e\u043c\u0430\u043d\u0434\u0443 \u0438 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u0432\u044b\u0432\u043e\u0434. \u041d\u0435 \u043c\u0435\u043d\u044f\u0435\u0442 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e (\u0442\u043e\u043b\u044c\u043a\u043e \"show\"). - register: \u0421\u043e\u0445\u0440\u0430\u043d\u044f\u0435\u0442 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u0432 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e \u0434\u043b\u044f \u0434\u0430\u043b\u044c\u043d\u0435\u0439\u0448\u0435\u0433\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f. - debug: \u0412\u044b\u0432\u043e\u0434\u0438\u0442 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e (\u043f\u043e\u043b\u0435\u0437\u043d\u043e \u0434\u043b\u044f \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f).</p> <p>\u0417\u0430\u043f\u0443\u0441\u043a: <code>ansible-playbook -i inventory.ini simple_show.yml</code> - \u042d\u0442\u043e \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442 <code>show version</code> \u043d\u0430 switch1 \u0438 \u043f\u043e\u043a\u0430\u0436\u0435\u0442 \u0432\u044b\u0432\u043e\u0434. \u0415\u0441\u043b\u0438 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u043e \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e, playbook \u0443\u043f\u0430\u0434\u0435\u0442 \u0441 \u043e\u0448\u0438\u0431\u043a\u043e\u0439.</p> <p>\u0427\u0442\u043e \u043c\u044b \u0434\u043e\u0441\u0442\u0438\u0433\u043b\u0438: \u041f\u0440\u043e\u0441\u0442\u043e\u0435 \u0447\u0442\u0435\u043d\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 \u0441 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430. \u041d\u0435\u0442 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439 \u2014 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e \u0434\u043b\u044f production.</p>"},{"location":"Coding/Ansible/from_zero_to_hero/#2-basic-scaling","title":"\u0428\u0430\u0433 2: \u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u041d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0423\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432 \u0438 \u0413\u0440\u0443\u043f\u043f\u044b (Basic Scaling)","text":"<p>\u0422\u0435\u043f\u0435\u0440\u044c \u043c\u0430\u0441\u0448\u0442\u0430\u0431\u0438\u0440\u0443\u0435\u043c \u043d\u0430 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432. \u0412\u0432\u0435\u0434\u0435\u043c \u0433\u0440\u0443\u043f\u043f\u044b \u0432 inventory \u0434\u043b\u044f \u043b\u043e\u0433\u0438\u0447\u0435\u0441\u043a\u043e\u0439 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438 (e.g., \u043f\u043e \u0432\u0435\u043d\u0434\u043e\u0440\u0430\u043c \u0438\u043b\u0438 \u043f\u043b\u043e\u0449\u0430\u0434\u043a\u0430\u043c) \u0438 loops \u0434\u043b\u044f \u043f\u043e\u0432\u0442\u043e\u0440\u044f\u044e\u0449\u0438\u0445\u0441\u044f \u0437\u0430\u0434\u0430\u0447.</p> <p>\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u0435 inventory.ini: <pre><code>[switches]\nswitch1 ansible_host=192.168.1.10 ansible_user=admin ansible_password=secret ansible_network_os=ios ansible_connection=network_cli\nswitch2 ansible_host=192.168.1.11 ansible_user=admin ansible_password=secret ansible_network_os=junos ansible_connection=network_cli\n\n[cisco_switches]\nswitch1\n\n[juniper_switches]\nswitch2\n\n[all_switches:children]  # \u0413\u0440\u0443\u043f\u043f\u0430, \u0432\u043a\u043b\u044e\u0447\u0430\u044e\u0449\u0430\u044f \u043f\u043e\u0434\u0433\u0440\u0443\u043f\u043f\u044b\ncisco_switches\njuniper_switches\n</code></pre> - \u0413\u0440\u0443\u043f\u043f\u044b \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u044e\u0442 \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0442\u044c playbook \u043d\u0430 \u043f\u043e\u0434\u043c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u0430\u0445 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432 (e.g., <code>hosts: cisco_switches</code>). \u0414\u043b\u044f \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u043f\u043b\u043e\u0449\u0430\u0434\u043e\u043a \u0434\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0433\u0440\u0443\u043f\u043f\u044b \u0432\u0440\u043e\u0434\u0435 <code>[site_a]</code> \u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 NetBox \u0434\u043b\u044f \u0434\u0438\u043d\u0430\u043c\u0438\u043a\u0438 (\u0441\u043c. \u0428\u0430\u0433 7).</p> <p>\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044b\u0439 playbook (multi_show.yml): <pre><code>---\n- name: Show version on multiple switches\n  hosts: all_switches\n  gather_facts: false\n\n  tasks:\n    - name: Run show commands\n      ansible.netcommon.cli_command:\n        command: \"{{ item }}\"  # Loop \u043f\u043e \u0441\u043f\u0438\u0441\u043a\u0443 \u043a\u043e\u043c\u0430\u043d\u0434\n      register: outputs\n      loop:  # \u0426\u0438\u043a\u043b: \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442 \u0437\u0430\u0434\u0430\u0447\u0443 \u0434\u043b\u044f \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u0430\n        - show version\n        - show interfaces brief\n\n    - name: Display outputs\n      ansible.builtin.debug:\n        msg: \"Command '{{ item.item }}' output: {{ item.stdout }}\"\n      loop: \"{{ outputs.results }}\"  # Loop \u043f\u043e \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0430\u043c\n</code></pre> - loop: \u041f\u043e\u0432\u0442\u043e\u0440\u044f\u0435\u0442 \u0437\u0430\u0434\u0430\u0447\u0443 \u0434\u043b\u044f \u0441\u043f\u0438\u0441\u043a\u0430 (\u0437\u0434\u0435\u0441\u044c \u2014 \u043a\u043e\u043c\u0430\u043d\u0434\u044b). \u041f\u043e\u043b\u0435\u0437\u043d\u043e \u0434\u043b\u044f \u043f\u043e\u0432\u0442\u043e\u0440\u044f\u044e\u0449\u0438\u0445\u0441\u044f \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0439 \u043d\u0430 \u0441\u043e\u0442\u043d\u044f\u0445 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432. - register \u0441 loop: \u0421\u043e\u0445\u0440\u0430\u043d\u044f\u0435\u0442 \u043c\u0430\u0441\u0441\u0438\u0432 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432 (<code>outputs.results</code>).</p> <p>\u0417\u0430\u043f\u0443\u0441\u043a: <code>ansible-playbook -i inventory.ini multi_show.yml --limit switch1</code> (\u043e\u043f\u0446\u0438\u044f <code>--limit</code> \u0434\u043b\u044f \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u0433\u043e \u0445\u043e\u0441\u0442\u0430). - \u042d\u0442\u043e \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442 \u043a\u043e\u043c\u0430\u043d\u0434\u044b \u043d\u0430 \u0432\u0441\u0435\u0445 switches, \u043d\u043e \u043c\u0430\u0441\u0448\u0442\u0430\u0431\u0438\u0440\u0443\u0435\u043c\u043e: Ansible \u043f\u0430\u0440\u0430\u043b\u043b\u0435\u043b\u0438\u0437\u0438\u0440\u0443\u0435\u0442 (\u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e 5 \u0444\u043e\u0440\u043a\u043e\u0432; \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u0442\u0435 \u0432 ansible.cfg \u0434\u043b\u044f \u0441\u043e\u0442\u0435\u043d \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432).</p> <p>\u0427\u0442\u043e \u043c\u044b \u0434\u043e\u0441\u0442\u0438\u0433\u043b\u0438: \u0411\u0430\u0437\u043e\u0432\u043e\u0435 \u043c\u0430\u0441\u0448\u0442\u0430\u0431\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435. \u0414\u043b\u044f production: \u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 <code>serial: 10%</code> \u0432 play \u0434\u043b\u044f \u043f\u043e\u0441\u0442\u0435\u043f\u0435\u043d\u043d\u043e\u0433\u043e rollout (e.g., 10% \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432 \u0437\u0430 \u0440\u0430\u0437, \u0447\u0442\u043e\u0431\u044b \u0438\u0437\u0431\u0435\u0436\u0430\u0442\u044c \u0441\u0431\u043e\u0435\u0432 \u0432 \u0441\u0435\u0442\u0438).</p>"},{"location":"Coding/Ansible/from_zero_to_hero/#3-safe-changes","title":"\u0428\u0430\u0433 3: \u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 \u0441 \u0418\u0434\u0435\u043c\u043f\u043e\u0442\u0435\u043d\u0442\u043d\u043e\u0441\u0442\u044c\u044e (Safe Changes)","text":"<p>\u0422\u0435\u043f\u0435\u0440\u044c \u043f\u0435\u0440\u0435\u0439\u0434\u0435\u043c \u043a \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f\u043c (e.g., \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 VLAN). \u0412\u0432\u0435\u0434\u0435\u043c \u0438\u0434\u0435\u043c\u043f\u043e\u0442\u0435\u043d\u0442\u043d\u043e\u0441\u0442\u044c (playbook \u043d\u0435 \u043c\u0435\u043d\u044f\u0435\u0442 \u0442\u043e, \u0447\u0442\u043e \u0443\u0436\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043d\u043e) \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e <code>register</code>, <code>when</code> (\u0443\u0441\u043b\u043e\u0432\u043d\u044b\u0435 \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0438) \u0438 \u043c\u043e\u0434\u0443\u043b\u044f <code>cli_config</code>.</p> <p>Playbook (vlan_create.yml): <pre><code>---\n- name: Create VLAN if not exists\n  hosts: switches\n  gather_facts: false\n\n  tasks:\n    - name: Check if VLAN 100 exists\n      ansible.netcommon.cli_command:\n        command: show vlan id 100\n      register: vlan_check\n      ignore_errors: true  # \u0418\u0433\u043d\u043e\u0440\u0438\u0440\u0443\u0435\u043c \u043e\u0448\u0438\u0431\u043a\u0443, \u0435\u0441\u043b\u0438 VLAN \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\n\n    - name: Create VLAN 100\n      ansible.netcommon.cli_config:  # \u041c\u043e\u0434\u0443\u043b\u044c \u0434\u043b\u044f \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0445 \u043a\u043e\u043c\u0430\u043d\u0434\n        config: |\n          vlan 100\n          name \"Guest\"\n      when: vlan_check.failed or \"not found\" in vlan_check.stdout  # \u0423\u0441\u043b\u043e\u0432\u0438\u0435: \u0442\u043e\u043b\u044c\u043a\u043e \u0435\u0441\u043b\u0438 \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442\n\n    - name: Verify VLAN\n      ansible.netcommon.cli_command:\n        command: show vlan id 100\n      failed_when: \"'VLAN 100' not in result.stdout\"  # \u041f\u0440\u043e\u0432\u0430\u043b, \u0435\u0441\u043b\u0438 \u043d\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\n      register: result\n</code></pre> - cli_config: \u0412\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442 \u043a\u043e\u043c\u0430\u043d\u0434\u044b \u0432 \u0440\u0435\u0436\u0438\u043c\u0435 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 (e.g., <code>conf t</code>). - when: \u0423\u0441\u043b\u043e\u0432\u043d\u043e\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 (Jinja2-\u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u0435). \u0414\u0435\u043b\u0430\u0435\u0442 \u0437\u0430\u0434\u0430\u0447\u0443 \u0438\u0434\u0435\u043c\u043f\u043e\u0442\u0435\u043d\u0442\u043d\u043e\u0439. - failed_when: \u041a\u0430\u0441\u0442\u043e\u043c\u043d\u0430\u044f \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0443. - ignore_errors: \u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0430\u0435\u0442 playbook \u0434\u0430\u0436\u0435 \u043f\u0440\u0438 \u043e\u0448\u0438\u0431\u043a\u0435 (\u043f\u043e\u043b\u0435\u0437\u043d\u043e \u0434\u043b\u044f \u043f\u0440\u043e\u0432\u0435\u0440\u043e\u043a).</p> <p>\u0417\u0430\u043f\u0443\u0441\u043a \u0441 dry-run: <code>ansible-playbook vlan_create.yml --check</code> (\u0441\u0438\u043c\u0443\u043b\u0438\u0440\u0443\u0435\u0442 \u0431\u0435\u0437 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439). - \u0414\u043b\u044f production: \u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 <code>check_mode: yes</code> \u0432 \u0437\u0430\u0434\u0430\u0447\u0438 \u0434\u043b\u044f \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0433\u043e \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f.</p> <p>\u0427\u0442\u043e \u043c\u044b \u0434\u043e\u0441\u0442\u0438\u0433\u043b\u0438: \u0411\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u044b\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f. \u042d\u0442\u043e \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0441 CLI \u043b\u044e\u0431\u044b\u0445 \u0432\u0435\u043d\u0434\u043e\u0440\u043e\u0432 (\u0430\u0434\u0430\u043f\u0442\u0438\u0440\u0443\u0439\u0442\u0435 \u043a\u043e\u043c\u0430\u043d\u0434\u044b \u0432 <code>command</code>/<code>config</code>).</p>"},{"location":"Coding/Ansible/from_zero_to_hero/#4","title":"\u0428\u0430\u0433 4: \u041c\u0443\u043b\u044c\u0442\u0438\u0432\u0435\u043d\u0434\u043e\u0440\u043d\u043e\u0441\u0442\u044c \u0441 \u0423\u0441\u043b\u043e\u0432\u043d\u043e\u0439 \u041b\u043e\u0433\u0438\u043a\u043e\u0439","text":"<p>\u0414\u043b\u044f \u043c\u0443\u043b\u044c\u0442\u0438\u0432\u0435\u043d\u0434\u043e\u0440\u043d\u043e\u0441\u0442\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c \u0444\u0430\u043a\u0442 <code>ansible_network_os</code> (\u0437\u0430\u0434\u0430\u0435\u0442\u0441\u044f \u0432\u0440\u0443\u0447\u043d\u0443\u044e \u0432 inventory) \u0438 <code>when</code> \u0434\u043b\u044f \u0432\u044b\u0431\u043e\u0440\u0430 \u0437\u0430\u0434\u0430\u0447. \u042d\u0442\u043e \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u043e\u0434\u0438\u043d playbook \u0434\u043b\u044f \u0440\u0430\u0437\u043d\u044b\u0445 \u0432\u0435\u043d\u0434\u043e\u0440\u043e\u0432 (e.g., Cisco SG \u0431\u0435\u0437 \u043c\u043e\u0434\u0443\u043b\u0435\u0439 vs. IOS \u0441 \u043c\u043e\u0434\u0443\u043b\u044f\u043c\u0438). \u0412\u0430\u0436\u043d\u043e: <code>ansible_network_os</code> \u043d\u0435 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u0442\u0441\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438; \u0432\u0441\u0435\u0433\u0434\u0430 \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0439\u0442\u0435 \u0435\u0433\u043e \u0432 inventory.</p> <p>Playbook (multi_vendor_vlan.yml): <pre><code>---\n- name: Multi-vendor VLAN creation\n  hosts: all_switches\n  gather_facts: false  # \u0418\u0437\u0431\u0435\u0433\u0430\u0435\u043c \u043e\u0448\u0438\u0431\u043e\u043a \u0434\u043b\u044f \u043d\u0435\u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u043c\u044b\u0445 \u041e\u0421 (\u0441\u043c. \u043d\u0438\u0436\u0435)\n\n  tasks:\n    - name: Create VLAN (Cisco IOS module)\n      cisco.ios.ios_vlans:  # \u0412\u0435\u043d\u0434\u043e\u0440-\u0441\u043f\u0435\u0446\u0438\u0444\u0438\u0447\u043d\u044b\u0439 \u043c\u043e\u0434\u0443\u043b\u044c (\u0438\u0434\u0435\u043c\u043f\u043e\u0442\u0435\u043d\u0442\u043d\u044b\u0439!)\n        config:\n          - vlan_id: 100\n            name: Guest\n        state: merged\n      when: ansible_network_os == 'cisco.ios.ios'  # \u0423\u0441\u043b\u043e\u0432\u0438\u0435 \u043f\u043e \u041e\u0421\n\n    - name: Create VLAN (Juniper module)\n      junipernetworks.junos.junos_vlans:\n        config:\n          - vlan_id: 100\n            name: Guest\n        state: merged\n      when: ansible_network_os == 'junipernetworks.junos.junos'\n\n    - name: Create VLAN (Generic CLI for others)\n      ansible.netcommon.cli_config:\n        config: \"vlan 100 name Guest\"  # \u0410\u0434\u0430\u043f\u0442\u0438\u0440\u0443\u0439\u0442\u0435 \u0434\u043b\u044f \u0432\u0435\u043d\u0434\u043e\u0440\u0430\n      when: ansible_network_os not in ['cisco.ios.ios', 'junipernetworks.junos.junos']\n</code></pre> - gather_facts: false: \u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u0434\u043b\u044f \u043c\u0443\u043b\u044c\u0442\u0438\u0432\u0435\u043d\u0434\u043e\u0440\u043d\u043e\u0441\u0442\u0438, \u0447\u0442\u043e\u0431\u044b \u0438\u0437\u0431\u0435\u0436\u0430\u0442\u044c \u043e\u0448\u0438\u0431\u043e\u043a \u043d\u0430 \u043d\u0435\u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u043c\u044b\u0445 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430\u0445. - \u0412\u0435\u043d\u0434\u043e\u0440-\u0441\u043f\u0435\u0446\u0438\u0444\u0438\u0447\u043d\u044b\u0435 \u043c\u043e\u0434\u0443\u043b\u0438: \u0414\u0435\u043a\u043b\u0430\u0440\u0430\u0442\u0438\u0432\u043d\u044b \u0438 \u0438\u0434\u0435\u043c\u043f\u043e\u0442\u0435\u043d\u0442\u043d\u044b (\u043f\u0440\u0435\u0434\u043f\u043e\u0447\u0442\u0438\u0442\u0435\u043b\u044c\u043d\u044b, \u0435\u0441\u043b\u0438 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b). \u0421\u043c. Ansible Network Modules. - when \u0434\u043b\u044f \u043c\u0443\u043b\u044c\u0442\u0438\u0432\u0435\u043d\u0434\u043e\u0440\u043d\u043e\u0441\u0442\u0438: \u0412\u044b\u0431\u0438\u0440\u0430\u0435\u0442 \u043b\u043e\u0433\u0438\u043a\u0443 \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 \u0444\u0430\u043a\u0442\u043e\u0432.</p> <p>\u0427\u0442\u043e \u043c\u044b \u0434\u043e\u0441\u0442\u0438\u0433\u043b\u0438: \u041e\u0434\u0438\u043d playbook \u0434\u043b\u044f \u0441\u043c\u0435\u0448\u0430\u043d\u043d\u043e\u0439 \u0441\u0440\u0435\u0434\u044b. \u0414\u043b\u044f \u043d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u0445 \u0432\u0435\u043d\u0434\u043e\u0440\u043e\u0432 (e.g., Zyxel) fallback \u043d\u0430 <code>cli_config</code> \u0441 \u0440\u0443\u0447\u043d\u043e\u0439 \u0438\u0434\u0435\u043c\u043f\u043e\u0442\u0435\u043d\u0442\u043d\u043e\u0441\u0442\u044c\u044e (\u043a\u0430\u043a \u0432 \u0428\u0430\u0433\u0435 3).</p>"},{"location":"Coding/Ansible/from_zero_to_hero/#_1","title":"\u041f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b: \u0420\u0430\u0431\u043e\u0442\u0430 \u0441 \u0424\u0430\u043a\u0442\u0430\u043c\u0438 \u0438 \u041d\u0435\u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u043c\u044b\u043c\u0438 \u0423\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430\u043c\u0438","text":"<p><code>gather_facts</code> \u0432 Ansible \u0434\u043b\u044f \u0441\u0435\u0442\u0435\u0432\u043e\u0433\u043e \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u044f \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0442\u043e\u043b\u044c\u043a\u043e \u0434\u043b\u044f \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u043c\u044b\u0445 \u041e\u0421 (e.g., Cisco IOS \u0441 <code>ios_facts</code>, Juniper Junos \u0441 <code>junos_facts</code>). \u041e\u043d \u0441\u043e\u0431\u0438\u0440\u0430\u0435\u0442 \u0434\u0435\u0442\u0430\u043b\u0438 \u0432\u0440\u043e\u0434\u0435 \u043c\u043e\u0434\u0435\u043b\u0438, \u0432\u0435\u0440\u0441\u0438\u0438, \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u043e\u0432. \u0414\u043b\u044f \u043d\u0435\u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u043c\u044b\u0445 (e.g., Zyxel, D-Link) gather_facts \u043d\u0435 \u043f\u0440\u0438\u043c\u0435\u043d\u0438\u043c \u0438 \u043c\u043e\u0436\u0435\u0442 \u0432\u044b\u0437\u0432\u0430\u0442\u044c \u043e\u0448\u0438\u0431\u043a\u0438.</p> <ul> <li>\u041f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u0441 <code>gather_facts: true</code> \u043d\u0430 \u043d\u0435\u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u043c\u043e\u043c \u0445\u043e\u0441\u0442\u0435: Playbook \u043f\u043e\u043f\u044b\u0442\u0430\u0435\u0442\u0441\u044f \u0441\u043e\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u043a\u0442\u044b, \u043d\u043e \u0431\u0435\u0437 \u043f\u043e\u0434\u0445\u043e\u0434\u044f\u0449\u0435\u0433\u043e \u043c\u043e\u0434\u0443\u043b\u044f (e.g., <code>_facts</code>) \u0443\u043f\u0430\u0434\u0435\u0442 \u0441 \u043e\u0448\u0438\u0431\u043a\u043e\u0439 (e.g., \"No facts module for this platform\"). \u042d\u0442\u043e \u043d\u0430\u0440\u0443\u0448\u0438\u0442 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0434\u043b\u044f \u0432\u0441\u0435\u0433\u043e play.</li> <li>\u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0430\u0446\u0438\u0438:</li> <li>\u0417\u0430\u0434\u0430\u0432\u0430\u0439\u0442\u0435 <code>ansible_network_os</code> \u0432\u0440\u0443\u0447\u043d\u0443\u044e \u0432 inventory \u0434\u043b\u044f \u0432\u0441\u0435\u0445 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432.</li> <li>\u0423\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0439\u0442\u0435 <code>gather_facts: false</code> \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u0432 \u043c\u0443\u043b\u044c\u0442\u0438\u0432\u0435\u043d\u0434\u043e\u0440\u043d\u044b\u0445 playbook'\u0430\u0445.</li> <li>\u0414\u043b\u044f \u0440\u0443\u0447\u043d\u043e\u0433\u043e \u0441\u0431\u043e\u0440\u0430 \u0444\u0430\u043a\u0442\u043e\u0432 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 <code>cli_command</code>:     <pre><code>- name: Manual facts gathering\n  ansible.netcommon.cli_command:\n    command: show version\n  register: version_output\n  when: ansible_network_os not in ['cisco.ios.ios', 'junipernetworks.junos.junos']  # \u0422\u043e\u043b\u044c\u043a\u043e \u0434\u043b\u044f \u043d\u0435\u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u043c\u044b\u0445\n</code></pre></li> <li>\u0415\u0441\u043b\u0438 \u043d\u0443\u0436\u043d\u044b \u0444\u0430\u043a\u0442\u044b \u0434\u043b\u044f \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u043c\u044b\u0445: \u0412\u043a\u043b\u044e\u0447\u0438\u0442\u0435 gather_facts selectively (e.g., \u0432 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u043e\u043c play \u0438\u043b\u0438 with <code>when</code>).</li> <li>\u041c\u0430\u0441\u0448\u0442\u0430\u0431 \u0438 \u043f\u043b\u043e\u0449\u0430\u0434\u043a\u0438: \u0412 \u0431\u043e\u043b\u044c\u0448\u0438\u0445 \u0441\u0440\u0435\u0434\u0430\u0445 (\u0441\u043e\u0442\u043d\u0438 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432) \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u0434\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0438\u0439 inventory \u0438\u0437 NetBox, \u0447\u0442\u043e\u0431\u044b \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0437\u0430\u0434\u0430\u0432\u0430\u0442\u044c <code>ansible_network_os</code> \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 \u0442\u0435\u0433\u043e\u0432/\u043c\u043e\u0434\u0435\u043b\u0435\u0439.</li> </ul> <p>\u0421\u043c. Ansible Network Best Practices \u0434\u043b\u044f \u0434\u0435\u0442\u0430\u043b\u0435\u0439.</p>"},{"location":"Coding/Ansible/from_zero_to_hero/#5-jinja2-","title":"\u0428\u0430\u0433 5: Jinja2-\u0428\u0430\u0431\u043b\u043e\u043d\u044b \u0434\u043b\u044f \u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438 \u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0439","text":"<p>\u0414\u043b\u044f \u0441\u043b\u043e\u0436\u043d\u044b\u0445/\u043f\u043e\u0432\u0442\u043e\u0440\u044f\u044e\u0449\u0438\u0445\u0441\u044f \u043a\u043e\u043d\u0444\u0438\u0433\u043e\u0432 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c Jinja2-\u0448\u0430\u0431\u043b\u043e\u043d\u044b (<code>.j2</code> \u0444\u0430\u0439\u043b\u044b \u0441 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u043c\u0438/\u0446\u0438\u043a\u043b\u0430\u043c\u0438). \u042d\u0442\u043e \u043e\u0442\u0434\u0435\u043b\u044f\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0435 \u043e\u0442 \u043b\u043e\u0433\u0438\u043a\u0438, \u0438\u0434\u0435\u0430\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0448\u0430\u0431\u043b\u043e\u043d\u0438\u0437\u0430\u0446\u0438\u0438 (e.g., \u0431\u0430\u0437\u043e\u0432\u0430\u044f \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0434\u043b\u044f \u0441\u043e\u0442\u0435\u043d \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432).</p> <p>\u0421\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u0448\u0430\u0431\u043b\u043e\u043d (templates/base_config.j2): <pre><code>hostname {{ hostname }}\nvlan {{ vlan_id }}\n  name \"{{ vlan_name }}\"\n{% for intf in interfaces %}\ninterface {{ intf.name }}\n  switchport mode access\n  switchport access vlan {{ vlan_id }}\n{% endfor %}\n</code></pre> - Jinja2: <code>{{ var }}</code> \u0434\u043b\u044f \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445, <code>{% for %}</code> \u0434\u043b\u044f \u0446\u0438\u043a\u043b\u043e\u0432.</p> <p>Playbook (template_vlan.yml): <pre><code>---\n- name: Apply templated config\n  hosts: switches\n  gather_facts: false\n  vars:  # \u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 (\u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u0432 group_vars \u0438\u043b\u0438 extra-vars)\n    hostname: \"{{ inventory_hostname }}\"  # \u0412\u0441\u0442\u0440\u043e\u0435\u043d\u043d\u0430\u044f \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0430\u044f\n    vlan_id: 100\n    vlan_name: Guest\n    interfaces: [{name: GigabitEthernet1/0/1}, {name: GigabitEthernet1/0/2}]\n\n  tasks:\n    - name: Generate config from template\n      ansible.builtin.template:  # \u041c\u043e\u0434\u0443\u043b\u044c \u0434\u043b\u044f \u0440\u0435\u043d\u0434\u0435\u0440\u0438\u043d\u0433\u0430 Jinja2\n        src: templates/base_config.j2\n        dest: \"/tmp/{{ inventory_hostname }}_config.txt\"\n      delegate_to: localhost  # \u0412\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e \u043d\u0430 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u043b\u0435\u0440\u0435\n\n    - name: Apply generated config\n      ansible.netcommon.cli_config:\n        src: \"/tmp/{{ inventory_hostname }}_config.txt\"\n</code></pre> - vars: \u041e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u044e\u0442 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 (\u043b\u043e\u043a\u0430\u043b\u044c\u043d\u044b\u0435, \u0433\u0440\u0443\u043f\u043f\u043e\u0432\u044b\u0435 \u0438\u043b\u0438 \u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u044b\u0435). - template: \u0413\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u0442 \u0444\u0430\u0439\u043b \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 \u0448\u0430\u0431\u043b\u043e\u043d\u0430. - delegate_to: \u0417\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u0442 \u0437\u0430\u0434\u0430\u0447\u0443 \u043d\u0435 \u043d\u0430 \u0445\u043e\u0441\u0442\u0435, \u0430 \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e (\u043f\u043e\u043b\u0435\u0437\u043d\u043e \u0434\u043b\u044f \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438).</p> <p>\u0427\u0442\u043e \u043c\u044b \u0434\u043e\u0441\u0442\u0438\u0433\u043b\u0438: \u041c\u0430\u0441\u0448\u0442\u0430\u0431\u0438\u0440\u0443\u0435\u043c\u044b\u0435, \u043a\u0430\u0441\u0442\u043e\u043c\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u043a\u043e\u043d\u0444\u0438\u0433\u0438. \u0414\u043b\u044f production: \u0425\u0440\u0430\u043d\u0438\u0442\u0435 \u0448\u0430\u0431\u043b\u043e\u043d\u044b \u0432 Git, \u043f\u0435\u0440\u0435\u0434\u0430\u0432\u0430\u0439\u0442\u0435 vars \u0438\u0437 NetBox. \u0410\u0434\u0430\u043f\u0442\u0438\u0440\u0443\u0439\u0442\u0435 \u0448\u0430\u0431\u043b\u043e\u043d\u044b \u043f\u043e\u0434 \u0432\u0435\u043d\u0434\u043e\u0440\u043e\u0432 \u0441 <code>when</code>.</p>"},{"location":"Coding/Ansible/from_zero_to_hero/#6","title":"\u0428\u0430\u0433 6: \u0420\u043e\u043b\u0438 \u0434\u043b\u044f \u041c\u043e\u0434\u0443\u043b\u044c\u043d\u043e\u0441\u0442\u0438, \u041f\u0435\u0440\u0435\u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u0438 \u041c\u0443\u043b\u044c\u0442\u0438\u0432\u0435\u043d\u0434\u043e\u0440\u043d\u043e\u0441\u0442\u0438","text":"<p>\u0420\u043e\u043b\u0438 \u2014 \u044d\u0442\u043e \u043f\u0435\u0440\u0435\u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u044b\u0435 \u0431\u043b\u043e\u043a\u0438 \u043a\u043e\u0434\u0430 \u0432 Ansible, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0438\u043d\u043a\u0430\u043f\u0441\u0443\u043b\u0438\u0440\u0443\u044e\u0442 \u0437\u0430\u0434\u0430\u0447\u0438, \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435, \u0448\u0430\u0431\u043b\u043e\u043d\u044b \u0438 \u043b\u043e\u0433\u0438\u043a\u0443. \u041e\u043d\u0438 \u0438\u0434\u0435\u0430\u043b\u044c\u043d\u044b \u0434\u043b\u044f \u0441\u0435\u0442\u0435\u0432\u043e\u0439 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0437\u0430\u0446\u0438\u0438, \u0433\u0434\u0435 \u0437\u0430\u0434\u0430\u0447\u0438 \u043f\u043e\u0432\u0442\u043e\u0440\u044f\u044e\u0442\u0441\u044f (e.g., \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 VLAN, \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 ACL) \u043d\u0430 \u0441\u043e\u0442\u043d\u044f\u0445 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432. \u041f\u0440\u0438\u043c\u0435\u043d\u0438\u043c\u043e\u0441\u0442\u044c \u0440\u043e\u043b\u0435\u0439: - \u041c\u043e\u0434\u0443\u043b\u044c\u043d\u043e\u0441\u0442\u044c: \u0420\u0430\u0437\u0434\u0435\u043b\u044f\u044e\u0442 \u0441\u043b\u043e\u0436\u043d\u044b\u0435 playbook'\u0438 \u043d\u0430 \u043d\u0435\u0437\u0430\u0432\u0438\u0441\u0438\u043c\u044b\u0435 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u044b (e.g., \u0440\u043e\u043b\u044c \u0434\u043b\u044f VLAN, \u0440\u043e\u043b\u044c \u0434\u043b\u044f \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u043e\u0432). - \u041f\u0435\u0440\u0435\u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435: \u041e\u0434\u043d\u0430 \u0440\u043e\u043b\u044c \u043c\u043e\u0436\u0435\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0432 \u043c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u0435 playbook'\u043e\u0432 (e.g., \u0434\u043b\u044f initial setup \u0438\u043b\u0438 one-time \u0437\u0430\u0434\u0430\u0447). - \u041c\u0443\u043b\u044c\u0442\u0438\u0432\u0435\u043d\u0434\u043e\u0440\u043d\u043e\u0441\u0442\u044c: \u0412\u043d\u0443\u0442\u0440\u0438 \u0440\u043e\u043b\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u0443\u0441\u043b\u043e\u0432\u043d\u0443\u044e \u043b\u043e\u0433\u0438\u043a\u0443 (<code>when</code>, <code>include_tasks</code>) \u0434\u043b\u044f \u0432\u044b\u0431\u043e\u0440\u0430 vendor-specific \u0437\u0430\u0434\u0430\u0447, \u0434\u0435\u043b\u0430\u044f \u0440\u043e\u043b\u044c \u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0430\u043b\u044c\u043d\u043e\u0439. - \u041c\u0430\u0441\u0448\u0442\u0430\u0431: \u0412 \u0431\u043e\u043b\u044c\u0448\u0438\u0445 \u0441\u0440\u0435\u0434\u0430\u0445 (\u0441\u043e\u0442\u043d\u0438 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432, \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043f\u043b\u043e\u0449\u0430\u0434\u043e\u043a) \u0440\u043e\u043b\u0438 \u0443\u043f\u0440\u043e\u0449\u0430\u044e\u0442 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0443 \u2014 \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u0435 \u0440\u043e\u043b\u044c \u043e\u0434\u0438\u043d \u0440\u0430\u0437, \u0438 \u0432\u0441\u0435 playbook'\u0438 \u0432\u044b\u0438\u0433\u0440\u0430\u044e\u0442. - \u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u0440\u043e\u043b\u0438: \u0414\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u044f \u0441 \u043f\u043e\u0434\u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u044f\u043c\u0438 (tasks/, vars/, templates/, etc.). Ansible \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u0442 <code>tasks/main.yml</code> \u043f\u0440\u0438 \u0432\u044b\u0437\u043e\u0432\u0435 \u0440\u043e\u043b\u0438.</p> <p>\u041f\u0440\u0438\u043c\u0435\u0440 \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u044b \u0440\u043e\u043b\u0438 (roles/vlan_manager/): <pre><code>roles/vlan_manager/\n\u251c\u2500\u2500 tasks/\n\u2502   \u251c\u2500\u2500 main.yml                  # \u0413\u043b\u0430\u0432\u043d\u044b\u0439 \u0444\u0430\u0439\u043b: \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u0438\u0437\u0430\u0446\u0438\u044f \u043b\u043e\u0433\u0438\u043a\u0438\n\u2502   \u251c\u2500\u2500 cisco_ios.yml             # \u0417\u0430\u0434\u0430\u0447\u0438 \u0434\u043b\u044f Cisco IOS\n\u2502   \u251c\u2500\u2500 juniper_junos.yml         # \u0417\u0430\u0434\u0430\u0447\u0438 \u0434\u043b\u044f Juniper Junos\n\u2502   \u2514\u2500\u2500 generic_cli.yml           # Fallback \u0434\u043b\u044f \u0434\u0440\u0443\u0433\u0438\u0445 \u0432\u0435\u043d\u0434\u043e\u0440\u043e\u0432\n\u251c\u2500\u2500 templates/\n\u2502   \u2514\u2500\u2500 generic_vlan.j2           # Jinja2-\u0448\u0430\u0431\u043b\u043e\u043d \u0434\u043b\u044f CLI\n\u2514\u2500\u2500 vars/\n    \u2514\u2500\u2500 main.yml                  # \u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e (e.g., vlan_list)\n</code></pre></p> <p>vars/main.yml (\u043f\u0440\u0438\u043c\u0435\u0440 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445): <pre><code>vlan_list:\n  - vlan_id: 100\n    name: Guest\n</code></pre></p> <p>tasks/main.yml (\u043c\u0430\u0440\u0448\u0440\u0443\u0442\u0438\u0437\u0430\u0446\u0438\u044f \u043c\u0443\u043b\u044c\u0442\u0438\u0432\u0435\u043d\u0434\u043e\u0440\u043d\u043e\u0439 \u043b\u043e\u0433\u0438\u043a\u0438): <pre><code>- name: Include vendor-specific tasks\n  include_tasks: \"{{ item }}\"\n  with_first_found:  # \u0414\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0438 \u0432\u044b\u0431\u0438\u0440\u0430\u0435\u0442 \u043f\u0435\u0440\u0432\u044b\u0439 \u043f\u043e\u0434\u0445\u043e\u0434\u044f\u0449\u0438\u0439 \u0444\u0430\u0439\u043b\n    - \"{{ ansible_network_os }}.yml\"  # e.g., cisco_ios.yml\n    - \"generic_cli.yml\"               # Fallback\n</code></pre></p> <p>tasks/cisco_ios.yml (vendor-specific): <pre><code>- name: Create VLAN on Cisco IOS\n  cisco.ios.ios_vlans:\n    config: \"{{ vlan_list }}\"\n    state: merged\n</code></pre></p> <p>tasks/juniper_junos.yml: <pre><code>- name: Create VLAN on Juniper Junos\n  junipernetworks.junos.junos_vlans:\n    config: \"{{ vlan_list }}\"\n    state: merged\n</code></pre></p> <p>tasks/generic_cli.yml (fallback \u0441 \u0448\u0430\u0431\u043b\u043e\u043d\u043e\u043c): <pre><code>- name: Generate config for generic device\n  ansible.builtin.template:\n    src: generic_vlan.j2\n    dest: \"/tmp/{{ inventory_hostname }}_vlan.txt\"\n  delegate_to: localhost\n\n- name: Apply config\n  ansible.netcommon.cli_config:\n    src: \"/tmp/{{ inventory_hostname }}_vlan.txt\"\n</code></pre></p> <p>templates/generic_vlan.j2: <pre><code>{% for vlan in vlan_list %}\nvlan {{ vlan.vlan_id }}\n  name \"{{ vlan.name }}\"\n{% endfor %}\n</code></pre></p> <p>Playbook (role_based.yml), \u0432\u044b\u0437\u044b\u0432\u0430\u044e\u0449\u0438\u0439 \u0440\u043e\u043b\u044c: <pre><code>---\n- name: Manage VLANs with role\n  hosts: all_switches\n  gather_facts: false\n  roles:\n    - vlan_manager  # \u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442 tasks/main.yml\n  vars_files:\n    - vars/vlans.yml  # \u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 vars (e.g., \u0438\u0437 NetBox)\n</code></pre> - include_tasks \u0441 with_first_found: \u041a\u043b\u044e\u0447\u0435\u0432\u043e\u0439 \u043f\u0440\u0438\u0435\u043c \u0434\u043b\u044f \u043c\u0443\u043b\u044c\u0442\u0438\u0432\u0435\u043d\u0434\u043e\u0440\u043d\u043e\u0441\u0442\u0438 \u2014 Ansible \u043f\u0440\u043e\u0431\u0443\u0435\u0442 \u0444\u0430\u0439\u043b\u044b \u043f\u043e \u043f\u043e\u0440\u044f\u0434\u043a\u0443 \u0438 \u0432\u044b\u0431\u0438\u0440\u0430\u0435\u0442 \u043f\u0435\u0440\u0432\u044b\u0439 \u043d\u0430\u0439\u0434\u0435\u043d\u043d\u044b\u0439. - \u041f\u0440\u0435\u0438\u043c\u0443\u0449\u0435\u0441\u0442\u0432\u0430 \u0432 production: \u0420\u043e\u043b\u0438 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u044e\u0442 \u043a\u043e\u043c\u0430\u043d\u0434\u0435 \u0438\u043d\u0436\u0435\u043d\u0435\u0440\u043e\u0432 \u0434\u0435\u043b\u0438\u0442\u044c \u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0441\u0442\u044c (e.g., \u043e\u0434\u0438\u043d \u0440\u0430\u0437\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u0442 \u0440\u043e\u043b\u044c \u0434\u043b\u044f Cisco, \u0434\u0440\u0443\u0433\u043e\u0439 \u2014 \u0434\u043b\u044f Zyxel). \u0414\u043b\u044f \u043f\u043e\u0432\u0442\u043e\u0440\u044f\u044e\u0449\u0438\u0445\u0441\u044f \u0437\u0430\u0434\u0430\u0447 (e.g., \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 IP \u0432 ACL) \u0441\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u0440\u043e\u043b\u044c \u0441 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\u0438 (vars), \u043f\u0435\u0440\u0435\u0434\u0430\u0432\u0430\u0435\u043c\u044b\u043c\u0438 \u0447\u0435\u0440\u0435\u0437 <code>--extra-vars</code>.</p> <p><pre><code>flowchart TD\n    Start[Playbook \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u0442 \u0440\u043e\u043b\u044c vlan_manager] --&gt; Load[\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0440\u043e\u043b\u0438]\n\n    Load --&gt; LoadVars[\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 vars/main.yml]\n    Load --&gt; LoadTasks[\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 tasks/main.yml]\n\n    LoadVars --&gt; VarsMerge[\u041e\u0431\u044a\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445:&lt;br/&gt;- \u0438\u0437 \u0440\u043e\u043b\u0438&lt;br/&gt;- \u0438\u0437 playbook&lt;br/&gt;- \u0438\u0437 inventory]\n\n    VarsMerge --&gt; MainTask[tasks/main.yml \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f]\n    LoadTasks --&gt; MainTask\n\n    MainTask --&gt; Detection{\u041e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u0432\u0435\u043d\u0434\u043e\u0440\u0430&lt;br/&gt;\u043f\u043e ansible_network_os}\n\n    Detection --&gt;|cisco.ios.ios| CiscoFile[\u041f\u043e\u0438\u0441\u043a cisco_ios.yml]\n    Detection --&gt;|junipernetworks.junos| JuniperFile[\u041f\u043e\u0438\u0441\u043a juniper_junos.yml]\n    Detection --&gt;|\u0414\u0440\u0443\u0433\u043e\u0439/\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u0439| GenericFile[\u041f\u043e\u0438\u0441\u043a generic_cli.yml]\n\n    CiscoFile --&gt;|\u041d\u0430\u0439\u0434\u0435\u043d| CiscoTasks[\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 cisco_ios.yml:&lt;br/&gt;cisco.ios.ios_vlans \u043c\u043e\u0434\u0443\u043b\u044c]\n    JuniperFile --&gt;|\u041d\u0430\u0439\u0434\u0435\u043d| JuniperTasks[\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 juniper_junos.yml:&lt;br/&gt;junos_vlans \u043c\u043e\u0434\u0443\u043b\u044c]\n    GenericFile --&gt;|\u0412\u0441\u0435\u0433\u0434\u0430 \u0435\u0441\u0442\u044c| GenericTasks[\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 generic_cli.yml]\n\n    GenericTasks --&gt; Template[\u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u043a\u043e\u043d\u0444\u0438\u0433\u0430&lt;br/&gt;\u0438\u0437 templates/generic_vlan.j2]\n    Template --&gt; ApplyGeneric[\u041f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0447\u0435\u0440\u0435\u0437&lt;br/&gt;cli_config]\n\n    CiscoTasks --&gt; Result[\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f]\n    JuniperTasks --&gt; Result\n    ApplyGeneric --&gt; Result\n\n    Result --&gt; End[\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u0435 \u0440\u043e\u043b\u0438]\n\n    style Start fill:#e1f5fe\n    style Detection fill:#fff9c4\n    style CiscoTasks fill:#c8e6c9\n    style JuniperTasks fill:#c8e6c9\n    style GenericTasks fill:#ffccbc\n    style Result fill:#f8bbd0\n</code></pre> \u0427\u0442\u043e \u043c\u044b \u0434\u043e\u0441\u0442\u0438\u0433\u043b\u0438: \u041c\u043e\u0434\u0443\u043b\u044c\u043d\u044b\u0439, \u043f\u0435\u0440\u0435\u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u044b\u0439 \u043a\u043e\u0434. \u0420\u043e\u043b\u0438 \u0438\u043d\u0442\u0435\u0433\u0440\u0438\u0440\u0443\u044e\u0442\u0441\u044f \u0441 \u0448\u0430\u0431\u043b\u043e\u043d\u0430\u043c\u0438 \u0438 \u0443\u0441\u043b\u043e\u0432\u043d\u043e\u0439 \u043b\u043e\u0433\u0438\u043a\u043e\u0439, \u0434\u0435\u043b\u0430\u044f \u0438\u0445 \u043e\u0441\u043d\u043e\u0432\u043e\u0439 \u0434\u043b\u044f library \u0432 \u043c\u0443\u043b\u044c\u0442\u0438\u0432\u0435\u043d\u0434\u043e\u0440\u043d\u043e\u0439 \u0441\u0440\u0435\u0434\u0435. \u0421\u043c. Ansible Roles Docs.</p>"},{"location":"Coding/Ansible/from_zero_to_hero/#7-inventory-netbox-nb_inventory-sot-integration","title":"\u0428\u0430\u0433 7: \u0414\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0438\u0439 Inventory \u0441 NetBox \u0438 \u041f\u043b\u0430\u0433\u0438\u043d\u043e\u043c nb_inventory (SoT Integration)","text":"<p>\u0414\u043b\u044f \u0441\u043e\u0442\u0435\u043d \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432 \u043f\u043e \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u043c \u043f\u043b\u043e\u0449\u0430\u0434\u043a\u0430\u043c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u0434\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0438\u0439 inventory \u0438\u0437 NetBox \u043a\u0430\u043a Source of Truth (SoT). \u041c\u044b \u0444\u043e\u043a\u0443\u0441\u0438\u0440\u0443\u0435\u043c\u0441\u044f \u043d\u0430 \u043e\u0444\u0438\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u043c \u043f\u043b\u0430\u0433\u0438\u043d\u0435 <code>nb_inventory</code> \u0438\u0437 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438 <code>netbox.netbox</code> (\u0434\u043b\u044f Ansible 2.10+). \u042d\u0442\u043e \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0433\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u0442 \u0445\u043e\u0441\u0442\u044b \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 NetBox (devices, IPs, tags, sites), \u0432\u043a\u043b\u044e\u0447\u0430\u044f <code>ansible_network_os</code>, \u0438 \u0433\u0440\u0443\u043f\u043f\u0438\u0440\u0443\u0435\u0442 \u043f\u043e \u043f\u043b\u043e\u0449\u0430\u0434\u043a\u0430\u043c/\u0442\u0435\u0433\u0430\u043c.</p> <p>\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u043f\u043b\u0430\u0433\u0438\u043d\u0430: - \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0435 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u044e: <code>ansible-galaxy collection install netbox.netbox</code>. - \u0421\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u0444\u0430\u0439\u043b inventory (inventory.yml):   <pre><code>---\nplugin: netbox.netbox.nb_inventory  # \u041f\u043b\u0430\u0433\u0438\u043d \u0434\u043b\u044f \u0434\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u043e\u0433\u043e inventory\napi_endpoint: https://your-netbox-url  # URL NetBox\ntoken: your-netbox-api-token  # API-\u0442\u043e\u043a\u0435\u043d (\u0445\u0440\u0430\u043d\u0438\u0442\u0435 \u0432 vault)\nvalidate_certs: false  # \u0415\u0441\u043b\u0438 self-signed \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\ncompose:  # \u041c\u0430\u043f\u043f\u0438\u043d\u0433 NetBox-\u0434\u0430\u043d\u043d\u044b\u0445 \u043d\u0430 Ansible-vars\n  ansible_network_os: platform.slug  # e.g., 'ios' \u0438\u0437 NetBox platform\n  ansible_host: primary_ip.address\n  ansible_user: custom_fields.ansible_user  # \u0415\u0441\u043b\u0438 \u0445\u0440\u0430\u043d\u0438\u0442\u0435 \u0432 custom fields\nquery_filters:  # \u0424\u0438\u043b\u044c\u0442\u0440\u044b \u0434\u043b\u044f \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\n  - status: active\n  - tag: managed  # \u0422\u043e\u043b\u044c\u043a\u043e \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430 \u0441 \u0442\u0435\u0433\u043e\u043c 'managed'\ngroup_by:  # \u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0433\u0440\u0443\u043f\u043f\u044b\n  - sites  # \u0413\u0440\u0443\u043f\u043f\u044b \u043f\u043e \u043f\u043b\u043e\u0449\u0430\u0434\u043a\u0430\u043c (e.g., site-a, site-b)\n  - manufacturers  # \u041f\u043e \u0432\u0435\u043d\u0434\u043e\u0440\u0430\u043c (e.g., cisco, juniper)\n  - device_types  # \u041f\u043e \u0442\u0438\u043f\u0430\u043c (e.g., switch, router)\n</code></pre> - ansible.cfg: <code>inventory = inventory.yml</code> (\u0438\u043b\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 <code>-i inventory.yml</code>).</p> <p>\u041f\u0440\u0435\u0438\u043c\u0443\u0449\u0435\u0441\u0442\u0432\u0430 \u0434\u043b\u044f \u0432\u0430\u0448\u0435\u0439 \u0441\u0440\u0435\u0434\u044b: - \u041c\u0430\u0441\u0448\u0442\u0430\u0431: \u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0442\u044f\u043d\u0435\u0442 \u0441\u043e\u0442\u043d\u0438 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432 \u0438\u0437 NetBox, \u0431\u0435\u0437 \u0440\u0443\u0447\u043d\u043e\u0433\u043e inventory. - \u041f\u043b\u043e\u0449\u0430\u0434\u043a\u0438: \u0413\u0440\u0443\u043f\u043f\u044b \u043f\u043e <code>sites</code> \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u044e\u0442 targeted playbook'\u0438 (e.g., <code>hosts: site-a</code> \u0434\u043b\u044f \u043e\u0434\u043d\u043e\u0439 \u043f\u043b\u043e\u0449\u0430\u0434\u043a\u0438). - \u041c\u0443\u043b\u044c\u0442\u0438\u0432\u0435\u043d\u0434\u043e\u0440\u043d\u043e\u0441\u0442\u044c: <code>compose</code> \u043c\u0430\u043f\u043f\u0438\u0442 NetBox-\u0434\u0430\u043d\u043d\u044b\u0435 (e.g., platform) \u043d\u0430 <code>ansible_network_os</code>, \u0438\u043d\u0442\u0435\u0433\u0440\u0438\u0440\u0443\u044f\u0441\u044c \u0441 \u0440\u043e\u043b\u044f\u043c\u0438 \u0438\u0437 \u0428\u0430\u0433\u0430 6. - \u0414\u0438\u043d\u0430\u043c\u0438\u043a\u0430: \u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0432 NetBox (e.g., \u043d\u043e\u0432\u044b\u0439 switch \u0441 \u0442\u0435\u0433\u043e\u043c 'new') \u0441\u0440\u0430\u0437\u0443 \u043e\u0442\u0440\u0430\u0436\u0430\u044e\u0442\u0441\u044f \u0432 inventory.</p> <p>Playbook (netbox_integration.yml), \u0438\u043d\u0442\u0435\u0433\u0440\u0438\u0440\u0443\u044e\u0449\u0438\u0439 \u0441 \u0440\u043e\u043b\u044c\u044e: <pre><code>---\n- name: Provision VLANs from NetBox inventory\n  hosts: sites=site-a  # \u0424\u0438\u043b\u044c\u0442\u0440 \u043f\u043e \u043f\u043b\u043e\u0449\u0430\u0434\u043a\u0435 (\u0433\u0440\u0443\u043f\u043f\u0430 \u0438\u0437 nb_inventory)\n  gather_facts: false\n  roles:\n    - vlan_manager  # \u0420\u043e\u043b\u044c \u0438\u0437 \u0428\u0430\u0433\u0430 6, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0449\u0430\u044f ansible_network_os \u0438\u0437 NetBox\n  vars:\n    vlan_list: \"{{ netbox_custom_vlans }}\"  # Vars \u0438\u0437 NetBox custom fields\n</code></pre> - \u0417\u0430\u043f\u0443\u0441\u043a: <code>ansible-playbook netbox_integration.yml</code> \u2014 \u043f\u043b\u0430\u0433\u0438\u043d \u0437\u0430\u043f\u0440\u043e\u0441\u0438\u0442 NetBox API \u0438 \u0441\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u0442 \u0445\u043e\u0441\u0442\u044b \u043d\u0430 \u043b\u0435\u0442\u0443. - Production-tips: \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 <code>fetch_facts: true</code> \u0432 \u043f\u043b\u0430\u0433\u0438\u043d\u0435 \u0434\u043b\u044f \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 NetBox-\u0434\u0430\u043d\u043d\u044b\u0445 \u043a\u0430\u043a vars. \u0418\u043d\u0442\u0435\u0433\u0440\u0438\u0440\u0443\u0439\u0442\u0435 \u0441 CI/CD \u0434\u043b\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0433\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f.</p> <p>\u0427\u0442\u043e \u043c\u044b \u0434\u043e\u0441\u0442\u0438\u0433\u043b\u0438: \u041f\u043e\u043b\u043d\u0430\u044f \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u044f NetBox \u043a\u0430\u043a SoT. \u042d\u0442\u043e \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0432\u0430\u0435\u0442 \u0430\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u044b\u0439 inventory \u0434\u043b\u044f \u0431\u043e\u043b\u044c\u0448\u0438\u0445 \u043c\u0443\u043b\u044c\u0442\u0438\u0432\u0435\u043d\u0434\u043e\u0440\u043d\u044b\u0445 \u0441\u0435\u0442\u0435\u0439 \u0441 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u043c\u0438 \u043f\u043b\u043e\u0449\u0430\u0434\u043a\u0430\u043c\u0438. \u0421\u043c. nb_inventory Docs.</p>"},{"location":"Coding/Git/branch-switching/","title":"\u041f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0432\u0435\u0442\u043e\u043a","text":""},{"location":"Coding/Git/branch-switching/#_1","title":"\u041f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0430\u0435\u043c\u0441\u044f \u043d\u0430 \u0432\u0435\u0442\u043a\u0443 \u0441 \u043f\u0435\u0440\u0435\u043d\u043e\u0441\u043e\u043c \u0434\u0430\u043d\u043d\u044b\u0445 \u043d\u0430 \u043d\u0435\u0451","text":"<pre><code>git checkout main           # \u043f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0430\u0435\u043c\u0441\u044f \u043d\u0430 \u0436\u0435\u043b\u0430\u0435\u043c\u0443\u044e \u0432\u0435\u0442\u043a\u0443\ngit pull origin main        # \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0438\u0440\u0443\u0435\u043c \u0434\u0430\u043d\u043d\u044b\u0435 \u0441 \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u043c \u0440\u0435\u043f\u043e\ngit merge release/2.1.0     # \u043f\u0435\u0440\u0435\u043d\u043e\u0441\u0438\u043c \u0444\u0430\u0439\u043b\u044b \u043f\u0440\u043e\u0435\u043a\u0442\u0430 \u0438\u0437 \u0432\u0435\u0442\u043a\u0438 (release -&gt; main, \u0432 \u0434\u0430\u043d\u043d\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0435)\ngit tag v2.1.0              # \u043e\u043f\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e - \u0442\u0435\u0433\u0438\u0440\u0443\u0435\u043c \u0440\u0435\u043b\u0438\u0437 (\u0442\u0435\u0433 \u043d\u0430\u0447\u043d\u0435\u0442, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c\u0441\u044f \u0432 \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \u0440\u0435\u043b\u0438\u0437\u044b \u043d\u0430 \u0433\u0438\u0442\u0445\u0430\u0431\u0435)\ngit push origin main --tags # \u043f\u0443\u0448\u0438\u043c \u0432 \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0439 \u0440\u0435\u043f\u043e\n</code></pre>"},{"location":"Coding/Git/credentials/","title":"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 credentials","text":""},{"location":"Coding/Git/credentials/#e-mail","title":"\u0417\u0430\u0434\u0430\u0442\u044c \u0438\u043c\u044f \u0438 e-mail:","text":"<ul> <li>\u0413\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u043e (\u043d\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0441\u0438\u0441\u0442\u0435\u043c\u044b):</li> </ul> <pre><code>git config --global user.name \"Your Name\"\ngit config --global user.email \"you@example.com\"\n</code></pre> <ul> <li>\u041b\u043e\u043a\u0430\u043b\u044c\u043d\u043e (\u0442\u043e\u043b\u044c\u043a\u043e \u0434\u043b\u044f \u0442\u0435\u043a\u0443\u0449\u0435\u0433\u043e \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u044f):</li> </ul> <pre><code>git config user.name \"Project Name\"\ngit config user.email \"project@example.com\"\n</code></pre>"},{"location":"Coding/Git/credentials/#_1","title":"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0442\u0435\u043a\u0443\u0449\u0438\u0445 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439:","text":"<pre><code>git config --get user.name\ngit config --get user.email\n</code></pre>"},{"location":"Coding/Git/migration/","title":"\u041c\u0438\u0433\u0440\u0430\u0446\u0438\u044f \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u0435\u0432","text":"<ol> <li>\u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u043a\u0430\u043a\u0438\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0442 \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0435 \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u0438: <pre><code>   git remote -v\n</code></pre></li> <li>\u0415\u0441\u043b\u0438 \u0435\u0441\u0442\u044c \u0443\u0434\u0430\u043b\u044f\u0435\u043c \u043d\u0435\u043d\u0443\u0436\u043d\u044b\u0435 \u043f\u043e \u0438\u043c\u0435\u043d\u0438. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: <pre><code>   git remote remove github\n   git remote remove origin\n</code></pre></li> <li>\u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u043d\u043e\u0432\u044b\u0439 \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0439 \u0440\u0435\u043f\u043e: <pre><code>   git remote add origin https://git.example.com/username/reponame.git\n   git push origin --all\n   git push origin --tags\n</code></pre></li> </ol>"},{"location":"Coding/Git/remotes/","title":"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 remotes","text":""},{"location":"Coding/Git/remotes/#_1","title":"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0442\u0435\u043a\u0443\u0449\u0438\u0445 \u0443\u0434\u0430\u043b\u0451\u043d\u043d\u044b\u0445:","text":"<pre><code>git remote -v\n</code></pre>"},{"location":"Coding/Git/remotes/#_2","title":"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u0443\u0434\u0430\u043b\u0451\u043d\u043d\u043e\u0433\u043e \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u044f:","text":"<pre><code>git remote add backup https://git.example.com/user/repo.git\n</code></pre> <p>\u041c\u043e\u0436\u043d\u043e \u0434\u0430\u0432\u0430\u0442\u044c \u043b\u044e\u0431\u044b\u0435 \u0438\u043c\u0435\u043d\u0430 (<code>origin</code>, <code>github</code>, <code>backup</code>, \u0438 \u0442.\u0434.) \u2014 \u0438\u043c\u044f \u0431\u0443\u0434\u0435\u0442 \u0443\u0447\u0430\u0441\u0442\u0432\u043e\u0432\u0430\u0442\u044c \u0432 \u043a\u043e\u043c\u0430\u043d\u0434\u0430\u0445 push/fetch/pull.</p>"},{"location":"Coding/Git/remotes/#_3","title":"\u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439 \u0432 \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u044b\u0439 \u0443\u0434\u0430\u043b\u0451\u043d\u043d\u044b\u0439 \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u0439:","text":"<pre><code>git push backup main\n</code></pre>"},{"location":"Coding/Git/remotes/#_4","title":"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0443\u0434\u0430\u043b\u0451\u043d\u043d\u043e\u0433\u043e \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u044f:","text":"<pre><code>git remote remove backup\n</code></pre>"},{"location":"Coding/Git/rewrite-author/","title":"\u041f\u0435\u0440\u0435\u043f\u0438\u0441\u044b\u0432\u0430\u043d\u0438\u0435 \u0430\u0432\u0442\u043e\u0440\u0441\u0442\u0432\u0430","text":"<p>\u0421\u043a\u0440\u0438\u043f\u0442 \u0434\u043b\u044f \u043f\u0435\u0440\u0435\u043f\u0438\u0441\u044b\u0432\u0430\u043d\u0438\u044f \u0438\u0441\u0442\u043e\u0440\u0438\u0438 \u0430\u0432\u0442\u043e\u0440\u043e\u0432 \u0432 Git (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u043f\u043e\u0441\u043b\u0435 \u0441\u043c\u0435\u043d\u044b e-mail).</p>"},{"location":"Coding/Git/rewrite-author/#bash","title":"\u041f\u0440\u0438\u043c\u0435\u0440 \u0441\u043a\u0440\u0438\u043f\u0442\u0430 (Bash):","text":"<pre><code>git filter-branch --env-filter '\nOLD_EMAIL=\"old@example.com\"\nCORRECT_NAME=\"New Name\"\nCORRECT_EMAIL=\"new@example.com\"\nif [ \"$GIT_COMMITTER_EMAIL\" = \"$OLD_EMAIL\" ]\nthen\n    export GIT_COMMITTER_NAME=\"$CORRECT_NAME\"\n    export GIT_COMMITTER_EMAIL=\"$CORRECT_EMAIL\"\nfi\nif [ \"$GIT_AUTHOR_EMAIL\" = \"$OLD_EMAIL\" ]\nthen\n    export GIT_AUTHOR_NAME=\"$CORRECT_NAME\"\n    export GIT_AUTHOR_EMAIL=\"$CORRECT_EMAIL\"\nfi\n' --tag-name-filter cat -- --all\n</code></pre> <p>\u26a0\ufe0f \u041f\u043e\u0441\u043b\u0435 \u044d\u0442\u043e\u0433\u043e \u043d\u0443\u0436\u043d\u043e \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0438\u0441\u0442\u043e\u0440\u0438\u044e \u043d\u0430 \u0443\u0434\u0430\u043b\u0451\u043d\u043d\u043e\u043c \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u0438:</p> <pre><code>git push --force origin --all\ngit push --force origin --tags\n</code></pre> <p>\ud83d\udd12 \u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435: \u044d\u0442\u0430 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u044f \u043f\u0435\u0440\u0435\u043f\u0438\u0441\u044b\u0432\u0430\u0435\u0442 \u0438\u0441\u0442\u043e\u0440\u0438\u044e \u0438 \u043f\u043e\u0442\u0435\u043d\u0446\u0438\u0430\u043b\u044c\u043d\u043e \u043b\u043e\u043c\u0430\u0435\u0442 \u0441\u0441\u044b\u043b\u043a\u0438, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u0442\u043e\u043b\u044c\u043a\u043e \u0435\u0441\u043b\u0438 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442\u0435 \u0432 \u043e\u0434\u0438\u043d\u043e\u0447\u043a\u0443 \u0438\u043b\u0438 \u0432\u0441\u044f \u043a\u043e\u043c\u0430\u043d\u0434\u0430 \u0441\u043e\u0433\u043b\u0430\u0441\u043e\u0432\u0430\u043d\u0430.</p>"},{"location":"Coding/Python/create_environment/","title":"Python \u2192 \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f","text":""},{"location":"Coding/Python/create_environment/#_1","title":"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f","text":"<ol> <li>\u0417\u0430\u043a\u0438\u0434\u044b\u0432\u0430\u0435\u043c \u0432 \u043a\u043e\u0440\u0435\u043d\u044c \u043f\u0440\u043e\u0435\u043a\u0442\u0430 (\u0435\u0441\u043b\u0438 \u0435\u0449\u0435 \u043d\u0435\u0442) \u0444\u0430\u0439\u043b <code>requirements.txt</code></li> <li>\u041e\u0442\u043a\u0440\u044b\u0432\u0430\u0435\u043c \u0442\u0435\u0440\u043c\u0438\u043d\u0430\u043b \u0432 \u043a\u043e\u0440\u043d\u0435 \u043f\u0440\u043e\u0435\u043a\u0442\u0430</li> <li>\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435: <pre><code>python -m venv env\n</code></pre></li> <li>\u041f\u0440\u043e\u0432\u0430\u0438\u043b\u0442\u044c\u0441\u044f \u0432 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435: <pre><code>env\\Scripts\\activate\n</code></pre></li> <li>\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438: <pre><code>pip install -r requirements.txt\n</code></pre></li> <li>\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f: <pre><code>deactivate\n</code></pre></li> </ol>"},{"location":"Linux/begin/","title":"Begin","text":""},{"location":"Linux/begin/#sudo-winscp","title":"sudo WinSCP","text":"<ol> <li>\u0412 \u0444\u0430\u0439\u043b\u0435 <code>/etc/sudoers</code> \u0440\u0430\u0437\u0440\u0435\u0448\u0430\u0435\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044e \u0437\u0430\u043f\u0443\u0441\u043a sftp \u0441 \u0440\u0443\u0442-\u043f\u0440\u0430\u0432\u0430\u043c\u0438 \u0431\u0435\u0437 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043f\u0430\u0440\u043e\u043b\u044f: <pre><code>&lt;username&gt; ALL=NOPASSWD: /usr/lib/openssh/sftp-server\n</code></pre></li> <li>\u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0437\u0430\u043f\u0443\u0441\u043a\u0430 \u0434\u043b\u044f \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f \u0432 \u0441\u0430\u043c\u043e\u0439 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0435 WinSCP: <pre><code>sudo /usr/lib/openssh/sftp-server\n</code></pre> </li> </ol>"},{"location":"Linux/begin/#_1","title":"\u041f\u043e\u0441\u043b\u0435 \u043f\u0435\u0440\u0432\u043e\u0433\u043e \u0437\u0430\u043f\u0443\u0441\u043a\u0430","text":"<p><pre><code>sudo apt update\nsudo apt upgrade\n</code></pre> </p>"},{"location":"Linux/begin/#ssh","title":"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438 SSH","text":"<ol> <li>\u0421\u043e\u0437\u0434\u0430\u0451\u043c \u043f\u043e\u043b\u044c\u0437\u0430\u043a\u0430 \u0438 \u043f\u043e\u043c\u0435\u0449\u0430\u0435\u043c \u0435\u0433\u043e \u0432 \u0433\u0440\u0443\u043f\u043f\u0443 <code>sudo</code>: <pre><code>sudo adduser &lt;username&gt;\nsudo usermod -aG sudo &lt;username&gt;\n</code></pre></li> <li>\u041f\u0435\u0440\u0435\u043b\u043e\u0433\u0438\u043d\u0438\u0432\u0430\u0435\u043c\u0441\u044f, \u0442\u0435\u0441\u0442\u0438\u0440\u0443\u0435\u043c</li> <li>\u0412\u044b\u043a\u043b\u044e\u0447\u0430\u0435\u043c \u0434\u043e\u0441\u0442\u0443\u043f \u0434\u043b\u044f <code>root</code> \u0432 \u0444\u0430\u0439\u043b\u0435 <code>/etc/ssh/sshd_config</code>: <pre><code>PermitRootLogin no\n</code></pre></li> <li>\u0422\u0435\u0441\u0442\u0438\u0440\u0443\u0435\u043c</li> <li>\u041a\u043e\u043f\u0438\u0440\u0443\u0435\u043c \u043f\u0430\u043f\u043a\u0443 \u0441 \u043a\u043b\u044e\u0447\u0430\u043c\u0438 <code>~/.ssh</code> \u0441\u043e \u0441\u0442\u0430\u0440\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u043d\u0430 \u043d\u043e\u0432\u044b\u0439</li> <li>\u041f\u0440\u0430\u0432\u0438\u043c \u043f\u0440\u0430\u0432\u0430 \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0445 \u0444\u0430\u0439\u043b\u043e\u0432: <pre><code>chmod 700 ~/.ssh\nchmod 600 ~/.ssh/authorized_keys\n</code></pre></li> <li>\u0412 <code>sshd_config</code> \u0432\u043a\u043b\u044e\u0447\u0430\u0435\u043c \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044e \u043f\u043e \u043a\u043b\u044e\u0447\u0430\u043c: <pre><code>PubkeyAuthentication yes\n</code></pre></li> <li>\u0422\u0435\u0441\u0442\u0438\u0440\u0443\u0435\u043c, \u0432\u044b\u043a\u043b\u044e\u0447\u0430\u0435\u043c \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044e \u043f\u043e \u043f\u0430\u0440\u043e\u043b\u044e: <pre><code>PasswordAuthentication no\n</code></pre> </li> </ol>"},{"location":"Linux/begin/#iptables","title":"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 iptables","text":"<ol> <li>\u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u043f\u0440\u0430\u0432\u0438\u043b\u0430: <pre><code>sudo iptables -A INPUT -i lo -j ACCEPT\nsudo iptables -A INPUT -m conntrack --ctstate RELATED,ESTABLISHED -j ACCEPT\nsudo iptables -A INPUT -p tcp -m tcp --dport 443 -j ACCEPT\nsudo iptables -A INPUT -p tcp -m tcp --dport &lt;\u043d\u0435\u0441\u0442\u0430\u043d\u0434\u0430\u0440\u043d\u044b\u0439_\u043f\u043e\u0440\u0442_ssh&gt; -j ACCEPT\nsudo iptables -A INPUT -p tcp -m tcp --dport 22 -j ACCEPT\nsudo iptables -A INPUT -p icmp --icmp-type 8 -j ACCEPT\nsudo iptables -P INPUT DROP\n</code></pre></li> <li>\u0422\u0435\u0441\u0442\u0438\u0440\u0443\u0435\u043c, \u0443\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u043c <code>netfilter-persistent</code>: <pre><code>sudo apt update\nsudo apt install iptables-persistent\nsudo netfilter-persistent save\nsudo systemctl enable netfilter-persistent\nsudo systemctl start netfilter-persistent\n</code></pre></li> <li>\u041c\u0435\u043d\u044f\u0435\u043c \u043f\u043e\u0440\u0442 ssh \u0432 <code>/etc/ssh/sshd_config</code></li> <li><code>systemctl restart ssh.d</code> \u0422\u0435\u0441\u0442\u0438\u0440\u0443\u0435\u043c ssh-\u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0441 \u043d\u043e\u0432\u044b\u043c \u043f\u043e\u0440\u0442\u043e\u043c</li> <li>\u041d\u0430\u0445\u043e\u0434\u0438\u043c \u043d\u043e\u043c\u0435\u0440 \u0438 \u0443\u0434\u0430\u043b\u044f\u0435\u043c \u043f\u0440\u0430\u0432\u0438\u043b\u043e \u0434\u043b\u044f 22 \u043f\u043e\u0440\u0442\u0430: <pre><code>sudo iptables -L --line-numbers\nsudo iptables -D INPUT 5\n</code></pre></li> <li>\u0422\u0435\u0441\u0442\u0438\u0440\u0443\u0435\u043c, \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0435\u043c <pre><code>sudo netfilter-persistent save\n</code></pre></li> </ol>"},{"location":"Linux/docker/","title":"Docker","text":""},{"location":"Linux/docker/#docker-","title":"\u041e\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0432\u0441\u0435 docker-\u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u044b, \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u0441\u044e \u043d\u0435\u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u0443\u044e \u0438\u043d\u0444\u0443","text":"<p>Step 1: Stop All Running Containers First, stop all the currently running Docker containers: <pre><code>docker stop $(docker ps -q)\n</code></pre> Step 2: Remove All Containers Then, remove all Docker containers: <pre><code>docker rm $(docker ps -a -q)\n</code></pre> Step 3: Prune Docker System Next, clean up (prune) your Docker system, which will remove all stopped containers, unused networks, images, and cached layers: <pre><code>docker system prune -a\n</code></pre> Step 4: Confirm the Cleanup You can confirm the cleanup by listing any remaining containers and images (both should show nothing): <pre><code>docker ps -a\ndocker images\n</code></pre> Combined Commands For convenience, you can combine these commands into a single command sequence: <pre><code>docker stop $(docker ps -q) &amp;&amp; docker rm $(docker ps -a -q) &amp;&amp; docker system prune -a -f\n</code></pre> Notes: Volumes*: If you want to also remove all unused volumes, you can use <code>docker system prune --volumes</code>, but remember this will also delete any data stored in those volumes permanently.  </p>"},{"location":"Linux/docker/#_1","title":"\u041a\u0430\u043a \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0444\u0430\u0439\u043b \u0438\u0437 \u0437\u0430\u043f\u0443\u0449\u0435\u043d\u043d\u043e\u0433\u043e \u041a\u041e\u041d\u0422\u0415\u0419\u041d\u0415\u0420\u0410 \u0432 \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u0443\u044e \u0444\u0441","text":"<p><pre><code>docker cp &lt;container_id&gt;:&lt;\u0430\u0431\u0441\u043e\u043b\u044e\u0442\u043d\u044b\u0439_\u043f\u0443\u0442\u044c_\u0434\u043e_\u0444\u0430\u0439\u043b\u0430_\u0432_\u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0435&gt; &lt;\u043f\u0443\u0442\u044c_\u041a\u0423\u0414\u0410_\u0421\u041e\u0425\u0420\u0410\u041d\u0418\u0422\u042c_\u0432_\u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e\u0439_\u0444\u0441&gt;\n</code></pre> \u041f\u0440\u0438\u043c\u0435\u0440: <pre><code>docker cp 2d22e790546b:/home/rundeck/server/config/log4j2.properties ./log4j.properties\n</code></pre> \u0424\u0430\u0439\u043b <code>log4j.properties</code> \u0431\u0443\u0434\u0435\u0442 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d \u0438\u0437 \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0430 <code>2d22e790546b</code> \u0432 \u043f\u0430\u043f\u043a\u0443, \u043e\u0442\u043a\u0443\u0434\u0430 \u0437\u0430\u043f\u0443\u0449\u0435\u043d\u0430 \u043a\u043e\u043c\u0430\u043d\u0434\u0430  </p>"},{"location":"Linux/docker/#_2","title":"\u041a\u0430\u043a \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0444\u0430\u0439\u043b \u0438\u0437 \u041e\u0411\u0420\u0410\u0417\u0410 \u0432 \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u0443\u044e \u0444\u0441","text":"<p><pre><code>docker run --rm --entrypoint sh -v \"&lt;\u043f\u0443\u0442\u044c_\u0434\u043e_\u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e\u0439_\u043f\u0430\u043f\u043a\u0438&gt;\":/&lt;\u0438\u043c\u044f_\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0439_\u043f\u0430\u043f\u043a\u0438&gt; &lt;\u0438\u043c\u044f_\u043e\u0431\u0440\u0430\u0437\u0430&gt; -c 'cp &lt;\u0447\u0442\u043e_\u043a\u043e\u043f\u0438\u0440\u0443\u0435\u043c&gt; &lt;\u0438\u043c\u044f_\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0439_\u043f\u0430\u043f\u043a\u0438&gt;'\n</code></pre> \u041f\u0440\u0438\u043c\u0435\u0440: <pre><code>docker run --rm --entrypoint sh -v \"/docker/data/haproxy/\":/dest haproxy -c 'cp /usr/local/etc/haproxy/haproxy.cfg /dest'\n</code></pre> \u0427\u0442\u043e \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u0438\u0442: \u0417\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u0442\u0441\u044f \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440 \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u043e\u0433\u043e \u043e\u0431\u0440\u0430\u0437\u0430. \u041b\u043e\u043a\u0430\u043b\u044c\u043d\u0430\u044f \u043f\u0430\u043f\u043a\u0430 <code>/docker/data/haproxy/</code> \u043c\u043e\u043d\u0442\u0438\u0440\u0443\u0435\u0442\u0441\u044f \u0432 \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u044b\u0439 \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440. \u0412\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u043b\u044c\u043d\u0430\u044f \u043a\u043e\u043c\u0430\u043d\u0434\u0430, \u0432 \u043d\u0430\u0448\u0435\u043c \u0441\u043b\u0443\u0447\u0430\u0435 <code>cp /usr/local/etc/haproxy/haproxy.cfg /dest</code>, \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440 \u043e\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u0438 \u0443\u0434\u0430\u043b\u044f\u0435\u0442\u0441\u044f. \u0412 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0435 <code>/usr/local/etc/haproxy/haproxy.cfg</code> \u0438\u0437 \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0430 \u0431\u0443\u0434\u0435\u0442 \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d \u0432 \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u0443\u044e \u043f\u0430\u043f\u043a\u0443 <code>/docker/data/haproxy/</code></p>"},{"location":"Linux/docker/#docker-compose","title":"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u043f\u043e\u0434\u0441\u0435\u0442\u0438 \u0432 docker compose","text":"<pre><code>services:\n  &lt;service_name&gt;:\n    networks:\n      - &lt;network_name&gt;\n\nnetworks:\n  &lt;network_name&gt;:\n    driver: bridge\n    ipam:\n      config:\n        - subnet: 172.18.0.0/24\n          gateway: 172.18.0.1\n</code></pre>"},{"location":"Linux/fail2ban/","title":"fail2ban","text":"<p>\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d/\u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u043b\u0438 fail2ban: <pre><code>sudo systemctl status fail2ban\n</code></pre> \u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u0437\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0445 IP-\u0430\u0434\u0440\u0435\u0441\u043e\u0432: <pre><code>sudo fail2ban-client status sshd\n</code></pre> \u0420\u0430\u0437\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c IP-\u0430\u0434\u0440\u0435\u0441: <pre><code>sudo fail2ban-client set sshd unbanip YOUR_IP_ADDRESS\n</code></pre></p>"},{"location":"Linux/how_to/","title":"How to","text":""},{"location":"Linux/how_to/#unzip-targz","title":"Unzip tar.gz","text":"<p><pre><code># To uncompress the gz file\ngunzip file.tar.gz\n\n# Now you will have a .tar file\n# To extract the tar file\ntar -xvf file.tar\n</code></pre> </p>"},{"location":"Linux/how_to/#add-a-new-virtual-disk-to-vm-established-by-vmware-workstaion-player","title":"Add a new Virtual Disk to VM established by VMware Workstaion Player","text":"<ol> <li>Shutdown the VM</li> <li>Add the New Virtual Disk:  <ul> <li>Open VMware Workstation Player.</li> <li>Go to \"Player\" &gt; \"Manage\" &gt; \"Virtual Machine Settings\".</li> <li>Click \"Add...\" to add a new hard disk.</li> <li>Follow the wizard steps:  <ul> <li>Type: Select \"Hard Disk\".</li> <li>Disk Type: Choose a disk type, typically \"SCSI\" for simplicity.</li> <li>Disk Size: Set the size to 20GB.</li> <li>Options: Choose whether you want to allocate the disk space now or allow it to grow as needed.</li> </ul> </li> </ul> </li> <li>Start the VM</li> <li>Partition and Format the New Disk:</li> <li>Identify the new disk first: <code>lsblk</code>  You should see the new disk, likely as <code>/dev/sdb</code>.</li> <li>Partition the new disk: <code>sudo fdisk /dev/sdb</code>  Follow the prompts to create a new partition. When done, it might create something like <code>/dev/sdb1</code>.</li> <li>Format the partition: <code>sudo mkfs.ext4 /dev/sdb1</code></li> <li>Create a Mount Point and Mount the New Disk:    <pre><code>sudo mkdir /mnt/newdisk\nsudo mount /dev/sdb1 /mnt/newdisk\n</code></pre></li> <li>Update /etc/fstab to Auto-Mount the New Disk: Open /etc/fstab in a text editor: <code>sudo nano /etc/fstab</code> Add an entry to ensure the new disk mounts at startup: <code>/dev/sdb1  /mnt/newdisk  ext4  defaults  0  2</code></li> <li>Reboot to Verify: <code>sudo reboot</code> </li> </ol>"},{"location":"Linux/how_to/#vscode-server","title":"\u041f\u0435\u0440\u0435\u043c\u0435\u0441\u0442\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435 \u043d\u0430 \u0434\u0440\u0443\u0433\u043e\u0439 \u0440\u0430\u0437\u0434\u0435\u043b \u0438 \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0441\u0438\u043c\u0432\u043e\u043b\u044c\u043d\u0443\u044e \u0441\u0441\u044b\u043b\u043a\u0443 \u043d\u0430 \u0441\u0442\u0430\u0440\u043e\u043c (\u043d\u0430 \u043f\u0440\u0438\u043c\u0435\u0440\u0435 <code>.vscode-server</code>)","text":"<ol> <li>Stop the VSCode server or any processes using <code>.vscode-server</code>: <code>pkill -f vscode</code></li> <li>Move the <code>.vscode-server</code> directory: <code>sudo mv /home/username/.vscode-server /mnt/newdisk/.vscode-server</code></li> <li>Create a symbolic link to the new location: <code>sudo ln -s /mnt/newdisk/.vscode-server /home/username/.vscode-server</code></li> <li>Ensure the link works and the <code>.vscode-server</code> directory is accessible: <code>ls -l /home/username/.vscode-server</code></li> </ol>"},{"location":"Linux/how_to/#security-updates-ubuntu","title":"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0445 security updates (Ubuntu)","text":"<ul> <li>\u0443\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u043c \u043f\u0430\u043a\u0435\u0442      <pre><code>sudo apt-get install unattended-upgrades\n</code></pre></li> <li>\u0432\u043a\u043b\u044e\u0447\u0430\u0435\u043c \u0430\u0432\u0442\u043e\u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f       <pre><code>sudo dpkg-reconfigure --priority=low unattended-upgrades\n</code></pre></li> <li>\u0432 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430\u0445 <code>/etc/apt/apt.conf.d/50unattended-upgrades</code> \u0432 <code>Unattended-Upgrade::Allowed-Origins {}</code> \u043d\u0430\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0435\u043c \u043a\u0430\u043d\u0430\u043b\u044b, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0445\u043e\u0442\u0438\u043c \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u044f\u0442\u044c, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0438\u043c <code>\"${distro_id}:${distro_codename}\";</code>, \u0447\u0442\u043e\u0431\u044b \u0438\u0437\u0431\u0435\u0436\u0430\u0442\u044c \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0433\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0432\u0441\u0435\u0445 \u043f\u0430\u043a\u0435\u0442\u043e\u0432, \u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u043c - <code>-security</code> \u043a\u0430\u043d\u0430\u043b</li> <li>\u043f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u043f\u0435\u0440\u0438\u043e\u0434\u0438\u0447\u043d\u043e\u0441\u0442\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0439 \u0432 <code>/etc/apt/apt.conf.d/20auto-upgrades</code>:      <pre><code>APT::Periodic::Update-Package-Lists \"1\";\nAPT::Periodic::Unattended-Upgrade \"1\";\n</code></pre></li> <li>\u043c\u043e\u0436\u0435\u043c \u043d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0439 \u043f\u0435\u0440\u0438\u043e\u0434 \u0434\u043b\u044f \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0439:      <pre><code># \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u0447\u0430\u0441\u043e\u0432\u043e\u0439 \u043f\u043e\u044f\u0441 \u0441\u0438\u0441\u0442\u0435\u043c\u043d\u043e\u0433\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0438\ntimedatectl\n\n# \u041e\u0442\u043a\u0440\u044b\u0432\u0430\u0435\u043c \u0440\u0435\u0434\u0430\u043a\u0442\u043e\u0440 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a\nsudo systemctl edit apt-daily-upgrade.timer\n\n# \u041d\u0435 \u0440\u0430\u0441\u0441\u043a\u043e\u043c\u0435\u043d\u0442\u0438\u0440\u0443\u0435\u043c \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0435 \u043f\u0440\u0438\u043c\u0435\u0440\u044b, \u0430 \u0432\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u043c \u0431\u043b\u043e\u043a \u0432\u044b\u0448\u0435 \u0441\u0435\u043a\u0446\u0438\u0438 \u0441 \u043f\u0440\u0438\u043c\u0435\u0440\u0430\u043c\u0438 (\u0432 \u0444\u0430\u0439\u043b\u0435 \u0435\u0441\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0433\u043b\u0430\u0441\u0438\u0442, \u0447\u0442\u043e \u043d\u0438\u0436\u0435 \u043d\u0435\u0433\u043e \u043f\u043e \u0444\u0430\u0439\u043b\u0443 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0438\u0433\u043d\u043e\u0440\u0438\u0440\u0443\u044e\u0442\u0441\u044f)\n[Timer]\nOnCalendar=*-*-* 17:00:00     # \u041d\u0430\u0447\u0430\u043b\u043e \u043f\u0435\u0440\u0438\u043e\u0434\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0439 \u043f\u043e \u0441\u0438\u0441\u0442\u0435\u043c\u043d\u043e\u043c\u0443 \u0432\u0440\u0435\u043c\u0435\u043d\u0438\nRandomizedDelaySec=40m        # \u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u043f\u0440\u043e\u043c\u0435\u0436\u0443\u0442\u043a\u0430, \u0432 \u0442\u0435\u0447\u0435\u043d\u0438\u0438 \u043a\u043e\u0442\u043e\u0440\u043e\u0433\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u0443\u0449\u0435\u043d\u043e (\u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u0435 \u0432\u0440\u0435\u043c\u044f \u0431\u0443\u0434\u0435\u0442 \u0440\u0430\u043d\u0434\u043e\u043c\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d\u043e \u043f\u0440\u0438 \u043a\u0430\u0436\u0434\u043e\u043c \u0437\u0430\u043f\u0443\u0441\u043a\u0435)\n</code></pre></li> <li>\u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0435\u043c, \u0437\u0430\u043a\u0440\u044b\u0432\u0430\u0435\u043c (<code>Ctrl+O \u2192 Enter \u2192 Ctrl+X</code>)</li> <li>\u043f\u0440\u0438\u043c\u0435\u043d\u044f\u0435\u043c \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438      <pre><code>sudo systemctl daemon-reload\nsudo systemctl restart apt-daily-upgrade.timer\n</code></pre></li> <li>\u043f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c, \u0447\u0442\u043e \u043e\u043d\u0438 \u043f\u0440\u0438\u043c\u0435\u043d\u0438\u043b\u0438\u0441\u044c - \u043d\u0430\u0448\u0430 \u0441\u0435\u043a\u0446\u0438\u044f \u0434\u043e\u043b\u0436\u043d\u0430 \u043f\u043e\u044f\u0432\u0438\u0442\u0441\u044f \u0432 \u043a\u043e\u043d\u0446\u0435 \u0432\u044b\u0432\u043e\u0434\u0430      <pre><code>systemctl cat apt-daily-upgrade.timer\n</code></pre></li> </ul>"},{"location":"Linux/nmap/","title":"Nmap","text":""},{"location":"Linux/nmap/#_1","title":"\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043f\u043e \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u0443","text":"<p><code>nmap -p 443 --script ssl-cert invest.gazprom.ru</code></p>"},{"location":"Linux/ssh/","title":"SSH","text":""},{"location":"Linux/ssh/#ssh-rsa","title":"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 ssh-\u043a\u043b\u044e\u0447\u0435\u0439 (RSA)","text":"<ol> <li>\u041d\u0430 \u043a\u043b\u0438\u0435\u043d\u0442\u0435 \u0441\u043e\u0437\u0434\u0430\u0435\u043c RSA-\u043a\u043b\u044e\u0447\u0438. \u041d\u0430 Windows \u0443\u0442\u0438\u043b\u0438\u0442\u044b \u0434\u043e\u043b\u0436\u043d\u044b \u0431\u044b\u0442\u044c \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b \u0447\u0435\u0440\u0435\u0437 Git Bash <pre><code>ssh-keygen -t rsa -b 4096 -C \"&lt;\u043a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439&gt;\"\n</code></pre></li> <li>\u041a\u043e\u043d\u0432\u0435\u0440\u0442\u0438\u0440\u0443\u0435\u043c \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u044b\u0439 \u043a\u043b\u044e\u0447 \u0432 pem-\u0444\u043e\u0440\u043c\u0430\u0442 (\u043f\u0440\u0438 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0441\u0442\u0438) <pre><code>ssh-keygen -p -f rundeck -m pem\n</code></pre></li> <li>\u0421\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u043e\u0435 \u043f\u0443\u0431\u043b\u0438\u0447\u043d\u043e\u0433\u043e \u043a\u043b\u044e\u0447\u0430 \u043a\u043e\u043f\u0438\u0440\u0443\u0435\u043c \u0432 \u043a\u043e\u043d\u0435\u0446 \u0444\u0430\u0439\u043b\u0430 <code>~/.ssh/authorized_keys</code> \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0435  </li> <li>\u0421\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 Ubuntu \u043d\u0435 \u0440\u0430\u0437\u0440\u0435\u0448\u0430\u044e\u0442 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044e \u043f\u043e RSA-\u043a\u043b\u044e\u0447\u0430\u043c. \u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u0443\u0435\u043c \u0444\u0430\u0439\u043b <code>/etc/ssh/sshd_config</code>. \u0412 \u043a\u043e\u043d\u0435\u0446 \u0444\u0430\u0439\u043b\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c: <pre><code># \u0415\u0441\u043b\u0438 \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u043e \u0440\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c rsa\nPubkeyAcceptedAlgorithms +ssh-rsa\n# \u041b\u0438\u0431\u043e \u0440\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c ssh-rsa \u0434\u043b\u044f \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u044b\u0445 \u0430\u0434\u0440\u0435\u0441\u043e\u0432/\u043f\u043e\u0434\u0441\u0435\u0442\u0435\u0439\nMatch Address 172.18.0.0/24,192.168.1.100\n    PubkeyAcceptedAlgorithms +ssh-rsa\n</code></pre></li> <li>\u0420\u0435\u0441\u0442\u0430\u0440\u0442 \u0441\u043b\u0443\u0436\u0431\u044b ssh \u0434\u043b\u044f \u043f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438: <pre><code>sudo systemctl restart sshd\n</code></pre></li> </ol>"},{"location":"Linux/strongswan/","title":"Strongswan","text":""},{"location":"Linux/strongswan/#cisco-isr","title":"\u0414\u043e Cisco ISR","text":"<ol> <li>\u0423\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u043c <code>strongswan</code> <pre><code>sudo apt update\nsudo apt install strongswan\n</code></pre></li> <li> <p><code>/etc/ipsec.conf</code>: <pre><code>config setup\n    charondebug=\"ike 2, knl 2, cfg 2, net 2, esp 2, dmn 2,  mgr 2\"\n\nconn %default\n    keyexchange=ikev1\n    authby=secret\n    ike=aes128-sha256-modp2048\n    esp=aes128-sha256-modp2048\n    dpdaction=clear\n    keyingtries=%forever\n\nconn cisco-to-ubuntu\n    left=%defaultroute\n    leftid=&lt;\u043b\u043e\u043a\u0430\u043b\u044c\u043d\u044b\u0439_\u0432\u043d\u0435\u0448\u043d\u0438\u0439_ip&gt;\n    right=&lt;\u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0439_\u0432\u043d\u0435\u0448\u043d\u0438\u0439_ip&gt;\n    rightid=&lt;\u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0439_\u0432\u043d\u0435\u0448\u043d\u0438\u0439_ip&gt;\n    type=tunnel\n    auto=start\n</code></pre> \u0415\u0441\u043b\u0438 \u043d\u0435 \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c <code>leftsubnet</code> \u0438 <code>rightsubnet</code>, \u0442\u043e \u0441\u0435\u0440\u0432\u0435\u0440 \u043f\u043e\u0434\u043d\u0438\u043c\u0435\u0442 \u0442\u0443\u043d\u0435\u043b\u044c, \u043d\u043e \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0442\u044c \u0438\u043b\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u0442\u0440\u0430\u0444\u0438\u043a \u0432 \u043d\u0435\u0433\u043e \u043d\u0435 \u0431\u0443\u0434\u0435\u0442  </p> </li> <li> <p><code>/etc/ipsec.secrets</code>: <pre><code>&lt;\u043b\u043e\u043a\u0430\u043b\u044c\u043d\u044b\u0439_\u0432\u043d\u0435\u0448\u043d\u0438\u0439_ip&gt; &lt;\u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0439_\u0432\u043d\u0435\u0448\u043d\u0438\u0439_ip&gt; : PSK \"p@ssw0rd\"\n</code></pre></p> </li> <li>\u041f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u043c \u0441\u043b\u0443\u0436\u0431\u0443, \u043f\u043e\u0434\u043d\u0438\u043c\u0430\u0435\u043c \u0442\u0443\u043d\u0435\u043b\u044c: <pre><code>sudo ipsec restart\nsudo ipsec up cisco-to-ubuntu\n</code></pre></li> <li>\u0414\u043b\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0433\u043e \u0437\u0430\u043f\u0443\u0441\u043a\u0430 \u043f\u043e\u0441\u043b\u0435 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0432\u043a\u043b\u044e\u0447\u0430\u0435\u043c \u0432 <code>systemctl</code>: <pre><code>sudo systemctl enable strongswan\n</code></pre></li> </ol>"},{"location":"Linux/strongswan/#vti-pfsense","title":"VTI \u0434\u043e pfSense","text":"<ol> <li><code>/etc/ipsec.conf</code>: <pre><code>config setup\n    charondebug=\"ike 2, knl 2, cfg 2, net 2, esp 2, dmn 2,  mgr 2\"\n\nconn %default\n    keyexchange=ikev2\n    authby=secret\n    keyingtries=%forever\n\nconn example\n    keyexchange=ikev2\n    ike=aes256gcm16-prfsha256-modp2048,aes256-sha256-modp2048,aes128-sha256-modp2048!\n    esp=aes256gcm16-prfsha256-modp2048,aes256-sha256-modp2048,aes128-sha256-modp2048!\n    leftupdown=\"/etc/ipsec.d/vti0.sh\"\n    left=%defaultroute\n    leftid=&lt;LOCAL_PUBLIC_IP&gt;\n    leftsubnet=0.0.0.0/0\n    right=&lt;REMOTE_PUBLIC_IP&gt;\n    rightid=&lt;REMOTE_PUBLIC_IP&gt;\n    rightsubnet=0.0.0.0/0\n    auto=start\n    mark=42\n    dpdaction=restart\n    dpddelay=10s\n    dpdtimeout=50s\n    ikelifetime=24h\n    lifetime=1h\n</code></pre></li> <li><code>/etc/ipsec.secrets</code>: <pre><code>&lt;\u043b\u043e\u043a\u0430\u043b\u044c\u043d\u044b\u0439_\u0432\u043d\u0435\u0448\u043d\u0438\u0439_ip&gt; &lt;\u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0439_\u0432\u043d\u0435\u0448\u043d\u0438\u0439_ip&gt; : PSK \"p@ssw0rd\"\n</code></pre></li> <li><code>/etc/sysctl.conf</code>: <pre><code>net.ipv4.ip_forward=1\n</code></pre></li> <li><code>/etc/ipsec.d/vti0.sh</code>: <pre><code>#!/bin/bash\n\n# Variables\nVTI_INTERFACE=\"vti0\"\nLOCAL_IP=\"&lt;LOCAL_PUBLIC_IP&gt;\"\nREMOTE_IP=\"&lt;REMOTE_PUBLIC_IP&gt;\"\nVTI_LOCAL_ADDR=\"172.31.30.1/30\"\nVTI_KEY=42\n# Define your networks here. Example: \"192.168.100.0/24 10.10.10.0/24\"\nROUTE_NETS=(\"192.168.100.0/24\" \"10.10.10.0/24\")\n\nfunction route_exists {\n    # Check if the route already exists in the routing table\n    # $1 - network\n    ip route show $1 dev $VTI_INTERFACE &gt; /dev/null 2&gt;&amp;1\n}\n\ncase \"$PLUTO_VERB\" in\n    up-client)\n        # Set up VTI interface\n        ip tunnel add $VTI_INTERFACE local $LOCAL_IP remote $REMOTE_IP mode vti key $VTI_KEY\n        ip link set $VTI_INTERFACE up\n        ip link set dev $VTI_INTERFACE mtu 1400\n        ip addr add $VTI_LOCAL_ADDR dev $VTI_INTERFACE\n        sysctl -w net.ipv4.conf.$VTI_INTERFACE.disable_policy=1\n\n        # Add routes for each network in the list\n        for NET in \"${ROUTE_NETS[@]}\"; do\n            ip route add $NET dev $VTI_INTERFACE\n        done\n        ;;\n    down-client)\n        # Delete routes for each network in the list\n        for NET in \"${ROUTE_NETS[@]}\"; do\n            if route_exists $NET; then\n                ip route del $NET dev $VTI_INTERFACE\n            fi\n        done\n\n        # Tear down VTI interface\n        ip tunnel del $VTI_INTERFACE\n        ;;\nesac\n</code></pre></li> <li><pre><code>chmod +x /etc/ipsec.d/vti0.sh\nsysctl -p\nipsec restart\nipsec status\nsystemctl enable strongswan\niptables -t nat -A POSTROUTING -o &lt;\u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441_\u0432_\u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442&gt; -j MASQUERADE\niptables -t mangle -A FORWARD -i vti0 -p tcp --tcp-flags SYN,RST SYN -j TCPMSS --clamp-mss-to-pmtu\niptables -t mangle -A POSTROUTING -o vti0 -p tcp -m tcp --tcp-flags SYN,RST SYN -j TCPMSS --clamp-mss-to-pmtu\n</code></pre> \u041f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0435\u0441\u043b\u0438 \u0432\u0434\u0440\u0443\u0433 \u0441\u043a\u0440\u0438\u043f\u0442 \u043d\u0435 \u0440\u0430\u0431\u043e\u0430\u0442\u0435\u0442: <pre><code>ip tunnel add vti0 local &lt;LOCAL_PUBLIC_IP&gt; remote &lt;REMOTE_PUBLIC_IP&gt; mode vti key 42\nip link set vti0 up\nip addr add 172.31.30.1/30 dev vti0\nip route add 10.0.0.0/8 dev vti0\nip route add 192.168.0.0/16 dev vti0\nipsec restart\nping -c 3 172.31.30.2\n</code></pre></li> </ol>"},{"location":"Linux/swap/","title":"Swap","text":"<ol> <li>\u041f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u0440\u0430\u0437\u043c\u0435\u0440 \u0438 \u043d\u0430\u043b\u0438\u0447\u0438\u0435 swap: <pre><code>swapon --show\n</code></pre></li> <li>\u0415\u0441\u043b\u0438 swap \u0435\u0441\u0442\u044c, \u043d\u043e \u043d\u0443\u0436\u043d\u043e \u0443\u0432\u0435\u043b\u0438\u0447\u0438\u0442\u044c \u0440\u0430\u0437\u043c\u0435\u0440: <pre><code>sudo swapoff /swapfile\n</code></pre></li> <li>\u0421\u043e\u0437\u0434\u0430\u0451\u043c \u0444\u0430\u0439\u043b \u0437\u0430\u043d\u043e\u0432\u043e: <pre><code>sudo fallocate -l 3G /swapfile\nsudo chmod 600 /swapfile\nsudo mkswap /swapfile\nsudo swapon /swapfile\nswapon --show\n</code></pre></li> <li>\u0421\u0434\u0435\u043b\u0430\u0442\u044c \u0435\u0433\u043e persistant: <pre><code>sudo nano /etc/fstab\n/swapfile none swap sw 0 0\n</code></pre></li> </ol>"},{"location":"Networks/routing_protocols_AD/","title":"Routing Protocols AD","text":""},{"location":"Networks/routing_protocols_AD/#ad-","title":"\u0422\u0430\u0431\u043b\u0438\u0446\u0430 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439 AD \u043f\u043e-\u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u0434\u043b\u044f \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0445 \u043f\u0440\u043e\u0442\u043e\u043a\u043e\u043b\u043e\u0432 \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u0438\u0437\u0430\u0446\u0438\u0438","text":"Protocol AD connected 0 static 1 eBGP 20 OSPF 110 iBGP 200"},{"location":"Networks/routing_protocols_AD/#_1","title":"\u0422\u0430\u0431\u043b\u0438\u0446\u0430 \u0440\u0435\u0434\u0438\u0441\u0442\u0440\u0438\u0431\u044c\u044e\u0446\u0438\u0438 \u043f\u0440\u043e\u0442\u043e\u043a\u043e\u043b\u043e\u0432","text":""},{"location":"Networks/routing_protocols_AD/#ipv4","title":"IPv4 \u043f\u043e\u0434\u0441\u0435\u0442\u0438","text":"<p>Here is a table of reserved IPv4 subnets:</p> Address block Address range Number of addresses Scope Description 0.0.0.0/8 0.0.0.0\u20130.255.255.255 16777216 Software Current network[1] 10.0.0.0/8 10.0.0.0\u201310.255.255.255 16777216 Private network Used for local communications within a private network.[3] 100.64.0.0/10 100.64.0.0\u2013100.127.255.255 4194304 Private network Shared address space[4] for communications between a service provider and its subscribers when using a carrier-grade NAT. 127.0.0.0/8 127.0.0.0\u2013127.255.255.255 16777216 Host Used for loopback addresses to the local host.[1] 169.254.0.0/16 169.254.0.0\u2013169.254.255.255 65536 Subnet Used for link-local addresses[5] between two hosts on a single link when no IP address is otherwise specified, such as would have normally been retrieved from a DHCP server. 172.16.0.0/12 172.16.0.0\u2013172.31.255.255 1048576 Private network Used for local communications within a private network.[3] 192.0.0.0/24 192.0.0.0\u2013192.0.0.255 256 Private network IETF Protocol Assignments, DS-Lite (/29).[1] 192.0.2.0/24 192.0.2.0\u2013192.0.2.255 256 Documentation Assigned as TEST-NET-1, documentation and examples.[6] 192.88.99.0/24 192.88.99.0\u2013192.88.99.255 256 Internet Reserved.[7] Formerly used for IPv6 to IPv4 relay[8] (included IPv6 address block 2002::/16). 192.168.0.0/16 192.168.0.0\u2013192.168.255.255 65536 Private network Used for local communications within a private network.[3] 198.18.0.0/15 198.18.0.0\u2013198.19.255.255 131072 Private network Used for benchmark testing of inter-network communications between two separate subnets.[9] 198.51.100.0/24 198.51.100.0\u2013198.51.100.255 256 Documentation Assigned as TEST-NET-2, documentation and examples.[6] 203.0.113.0/24 203.0.113.0\u2013203.0.113.255 256 Documentation Assigned as TEST-NET-3, documentation and examples.[6] 224.0.0.0/4 224.0.0.0\u2013239.255.255.255 268435456 Internet In use for IP multicast.[10] (Former Class D network.) 233.252.0.0/24 233.252.0.0-233.252.0.255 256 Documentation Assigned as MCAST-TEST-NET, documentation and examples.[10][11] 240.0.0.0/4 240.0.0.0\u2013255.255.255.254 268435455 Internet Reserved for future use.[12] (Former Class E network.) 255.255.255.255/32 255.255.255.255 1 Subnet Reserved for the \"limited broadcast\" destination address.[1]"},{"location":"Networks/subneting/","title":"Subnetting","text":""},{"location":"Networks/subneting/#_1","title":"\u041f\u043e\u0434\u0441\u0435\u0442\u0438 \u0434\u043b\u044f \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u0438","text":"<p>192.0.2.0/24 (192.0.2.0 - 192.0.2.255) 198.51.100.0/24 (198.51.100.0 - 198.51.100.255) 203.0.113.0/24 (203.0.113.0 - 203.0.113.255)</p>"},{"location":"Networks/BGP/bgp_examples/","title":"Examples","text":""},{"location":"Networks/BGP/bgp_examples/#_1","title":"\u0418\u043b\u043b\u044e\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043b\u0430\u0431\u043e\u0440\u0430\u0442\u043e\u0440\u043d\u043e\u0439 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0441\u043e\u0441\u0435\u0434\u0441\u0442\u0432\u0430","text":""},{"location":"Networks/BGP/bgp_examples/#isp","title":"\u0421\u0442\u043e\u0440\u043e\u043d\u0430 ISP","text":"<p><pre><code>router bgp 65530\n neighbor 10.10.1.4 remote-as 65512\n neighbor 10.10.1.4 description R4\n neighbor 10.10.1.4 default-originate   # \u0442\u0440\u0430\u043d\u0441\u043b\u0438\u0440\u0443\u0435\u043c \u0441\u0435\u0431\u044f \u043a\u0430\u043a \u0434\u044d\u0444\u043e\u043b\u0442\u043d\u044b\u0439 \u043c\u0430\u0440\u0448\u0440\u0443\u0442\n neighbor 10.10.1.4 prefix-list defaultExclude in   # \u043f\u0440\u0438\u043c\u0435\u043d\u044f\u0435\u043c \u043f\u0440\u0435\u0444\u0438\u043a\u0441-\u043b\u0438\u0441\u0442 \u043d\u0430 \u0432\u0445\u043e\u0434\u044f\u0449\u0438\u0435 \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u044b\n</code></pre> \u0414\u0440\u043e\u043f\u0430\u0435\u043c \u0434\u044d\u0444\u043e\u043b\u0442\u043d\u044b\u0439 \u043c\u0430\u0440\u0448\u0440\u0443\u0442, \u043e\u0441\u0442\u0430\u043b\u044c\u043d\u043e\u0435 \u043f\u0440\u043e\u043f\u0443\u0441\u043a\u0430\u0435\u043c: <pre><code>ip prefix-list defaultExclude seq 5 deny 0.0.0.0/0\nip prefix-list defaultExclude seq 10 permit 0.0.0.0/0 le 24 # \u043f\u0440\u043e\u043f\u0443\u0441\u043a\u0430\u0435\u043c \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u0440\u0435\u0444\u0438\u043a\u0441\u044b \u043e\u0442 /24 \u0438 \u0432\u044b\u0448\u0435 (best practice)\n</code></pre></p>"},{"location":"Networks/BGP/bgp_examples/#_2","title":"\u0421\u0442\u043e\u0440\u043e\u043d\u0430 \u043a\u043b\u0438\u0435\u043d\u0442\u0430 (\u0441 \u043c\u0443\u043b\u044c\u0442\u0438\u0445\u043e\u0443\u043c\u0438\u043d\u0433\u043e\u043c)","text":"<pre><code>router bgp 65512\n network 172.16.0.0 mask 255.255.255.0\n neighbor 10.10.1.1 remote-as 65520\n neighbor 10.10.1.1 description R1\n neighbor 10.10.1.1 weight 10   # \u041f\u0440\u0438\u0441\u0432\u0430\u0438\u0432\u0430\u0435\u043c \u0432\u0435\u0441 \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u0430\u043c \u043f\u0438\u0440\u0430 (\u0431\u043e\u043b\u044c\u0448\u0435 \u0432\u0435\u0441 - \u0432\u044b\u0448\u0435 \u043f\u0440\u0438\u043e\u0440\u0438\u0442\u0435\u0442)\n neighbor 10.10.1.1 route-map lowerMetric out   # \u043c\u043e\u0434\u0438\u0444\u0438\u0446\u0438\u0440\u0443\u0435\u043c \u043c\u0435\u0442\u0440\u0438\u043a\u0443 \u0438\u0441\u0445\u043e\u0434\u044f\u0449\u0438\u0445 \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u043e\u0432\n neighbor 10.10.1.2 remote-as 65520\n neighbor 10.10.1.2 description R2\n neighbor 10.10.1.2 weight 20\n neighbor 10.10.1.2 route-map lowerMetric out\n neighbor 10.10.1.5 remote-as 65530\n neighbor 10.10.1.5 description R3\n neighbor 10.10.1.5 weight 30\n neighbor 10.10.1.5 route-map higherMetric out\n\nip prefix-list Our_Networks seq 5 permit 172.16.0.0/24\n!\nroute-map higherMetric permit 10\n match ip address prefix-list Our_Networks\n set metric 20\n!\nroute-map lowPriority permit 10 # \u0440\u043e\u0443\u0442-\u043c\u044d\u043f, \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u044e\u0449\u0438\u0439 \u043b\u0438\u0448\u043d\u044e\u044e AS \u0432 \u0430\u0442\u0440\u0438\u0431\u0443\u0442\u044b \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u0430\n match ip address prefix-list Our_Networks\n set as-path prepend 65512\n!\nroute-map lowerMetric permit 10\n match ip address prefix-list Our_Networks\n set metric 10\n</code></pre>"},{"location":"Networks/BGP/bgp_examples/#ebgp-pe-ce-ibgp","title":"\u0414\u0435\u043c\u043e\u043d\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0441\u0432\u044f\u0437\u043a\u0438 eBGP-PE-CE-iBGP","text":""},{"location":"Networks/BGP/bgp_examples/#ebgp-pe","title":"eBGP-PE:","text":"<p>\u0430\u043d\u0430\u043b\u043e\u0433\u0438\u0447\u043d\u043e eBGP-CE, \u043d\u043e \u043e\u0447\u0435\u0432\u0438\u0434\u043d\u043e \u0431\u0435\u0437 \u0443\u043a\u0430\u0437\u0430\u043d\u0438\u044f \u0434\u044d\u0444\u043e\u043b\u0442\u043d\u043e\u0433\u043e \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u0430 \u043d\u0430 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441 BGP-\u0441\u043e\u0441\u0435\u0434\u0430</p>"},{"location":"Networks/BGP/bgp_examples/#ebgp-ce","title":"eBGP-CE:","text":"<pre><code>router bgp 414  # \u043d\u0430\u0448\u0430 AS\n network 4.4.4.4 mask 255.255.255.255   # \u0447\u0442\u043e \u0430\u043d\u043e\u043d\u0441\u0438\u043c \u0432 BGP (\u0447\u0442\u043e \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e \u0447\u0435\u0440\u0435\u0437 BGP)\n neighbor 10.0.64.5 remote-as 1 # \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441 \u0441\u043e\u0441\u0435\u0434\u0430 \u0432\u044b\u0448\u0435\u0441\u0442\u043e\u044f\u0449\u0435\u0439 AS\n neighbor 10.0.64.5 description R5\n neighbor 10.0.64.5 prefix-list defaultExclude in   # \u0434\u0440\u043e\u043f\u0430\u0435\u043c \u0434\u044d\u0444\u043e\u043b\u0442\u043d\u044b\u0439 \u043c\u0430\u0440\u0448\u0440\u0443\u0442, \u0435\u0441\u043b\u0438 \u043f\u0440\u0438\u0445\u043e\u0434\u0438\u0442\nip prefix-list defaultExclude seq 5 deny 0.0.0.0/0\nip prefix-list defaultExclude seq 10 permit 0.0.0.0/0 le 24\nip route 0.0.0.0 0.0.0.0 GigabitEthernet0/0 10.0.64.5   # \u0434\u0435\u043b\u0430\u0435\u043c \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441 \u0432\u044b\u0448\u0435\u0441\u0442\u043e\u044f\u0449\u0435\u0439 AS \u0434\u044d\u0444\u043e\u043b\u044c\u043d\u044b\u043c\n</code></pre>"},{"location":"Networks/BGP/bgp_examples/#ibgp","title":"iBGP:","text":"<pre><code>router bgp 414\n neighbor 14.14.14.14 remote-as 414\n neighbor 14.14.14.14 update-source Loopback0   #  \u0441\u043b\u0430\u0442\u044c \u0430\u043d\u043e\u043d\u0441\u044b \u043e\u0442 \u0438\u043c\u0435\u043d\u0438 \u043b\u0443\u043f\u0431\u044d\u043a\u0430\n neighbor 14.14.14.14 next-hop-self # \u043f\u043e\u0434\u0441\u0442\u0430\u0432\u043b\u044f\u0442\u044c \u0441\u0435\u0431\u044f \u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u043d\u0435\u043a\u0441-\u0445\u043e\u043f\u0430 \u043f\u0440\u0438 \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0435 \u0430\u043d\u043e\u043d\u0441\u0430 \u043f\u043e iBGP\nrouter ospf 1   # \u043d\u0430\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0435\u043c \u0434\u0438\u043d\u0430\u043c\u0438\u043a\u0443 \u0434\u043b\u044f \u0440\u0430\u0441\u043f\u0440\u043e\u0441\u0442\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u0438\u043d\u0444\u044b \u043e \u043b\u0443\u043f\u0431\u044d\u043a\u0430\u0445 \u043f\u043e iBGP-\u0434\u043e\u043c\u0435\u043d\u0443\n passive-interface default  # \u043f\u043e-\u0434\u044d\u0444\u043e\u043b\u0442\u0443 \u043f\u043e\u0434\u0441\u0435\u0442\u0438 ospf-\u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u043e\u0432 \u0430\u043d\u043e\u043d\u0441\u044f\u0442\u0441\u044f, \u043d\u043e \u0441\u0430\u043c\u0438 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u044b \u043d\u0435 \u0430\u043d\u043e\u043d\u0441\u044f\u0442\n no passive-interface GigabitEthernet0/0.414    # \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441 \u043c\u0435\u0436\u0434\u0443 iBGP-\u0436\u0435\u043b\u0435\u0437\u043a\u0430\u043c\u0438 \u0440\u0430\u0441\u043f\u0440\u043e\u0441\u0442\u0440\u0430\u043d\u044f\u0435\u0442 ospf-\u0430\u043d\u043e\u043d\u0441\u044b\n</code></pre>"},{"location":"Networks/BGP/bgp_path_selection/","title":"Path Selection","text":""},{"location":"Networks/BGP/bgp_path_selection/#_1","title":"\u041f\u043e\u0440\u044f\u0434\u043e\u043a \u0441\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u044f \u0430\u0442\u0440\u0438\u0431\u0443\u0442\u043e\u0432 \u0434\u043b\u044f \u0432\u044b\u0431\u043e\u0440\u0430 \u043f\u0443\u0442\u0438:","text":"<ul> <li>highest weight # Cisco only. \u0417\u0430\u0434\u0430\u0451\u0442\u0441\u044f \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0440\u043e\u0443\u0442\u0435\u0440\u0430.</li> <li>highest local preference # \u0414\u0435\u0439\u0441\u0442\u0432\u0443\u0435\u0442 \u0432\u043d\u0443\u0442\u0440\u0438 AS. Default value 100</li> <li>local originated route: locally advertised -&gt; locally aggregated -&gt; received by BGP peers</li> <li>shortest AIGP metric</li> <li>shortest AS_Path</li> <li>best origin code: network statement(i) -&gt; EGP(e)(deprecated) -&gt; redistributed(?)</li> <li>lowest MED # \u0430\u0442\u0440\u0438\u0431\u0443\u0442 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0435\u0442\u0441\u044f \u0432 \u043f\u0440\u0435\u0434\u0435\u043b\u0430\u0445 \u0441\u043e\u0441\u0435\u0434\u043d\u0435\u0439 AS, \u043d\u0435 \u0434\u0430\u043b\u0435\u0435</li> <li>eBGP &gt; confederation members &gt; iBGP</li> <li>closest IGP-neighbor</li> <li>oldest eBGP route</li> <li>lowest neighbor BGP RID</li> <li>lowest neighbor IP</li> </ul>"},{"location":"Networks/BGP/bgp_path_selection/#_2","title":"\u041a\u0435\u0439\u0441\u044b, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u044f \u0432\u0438\u0436\u0443:","text":"<p>weight - \u0415\u0441\u043b\u0438 \u043e\u0434\u0438\u043d \u0440\u043e\u0443\u0442\u0435\u0440 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0430\u0435\u0442\u0441\u044f \u043a \u0434\u0432\u0443\u043c \u0440\u0430\u0437\u043d\u044b\u043c \u0432\u044b\u0448\u0435\u0441\u0442\u043e\u044f\u0449\u0438\u043c AS, \u0434\u043b\u044f \u0432\u044b\u0431\u043e\u0440\u0430 \u043f\u0440\u0435\u0434\u043f\u043e\u0447\u0438\u0442\u0430\u0435\u043c\u043e\u0433\u043e \u0445\u043e\u043f\u0430 \u0434\u043b\u044f \u0438\u0441\u0445\u043e\u0434\u044f\u0449\u0435\u0433\u043e \u0442\u0440\u0430\u0444\u0438\u043a\u0430. local preference - 2 \u043c\u0430\u0440\u0448\u0438\u043a\u0430 \u0441 \u0434\u0432\u0443\u043c\u044f \u043f\u0438\u0440\u0430\u043c\u0438, \u0442\u0440\u0435\u0442\u0438\u0439, iBGP-\u0441\u043e\u0441\u0435\u0434, \u0441\u043c\u043e\u0436\u0435\u0442 \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u0445\u043e\u043f \u0434\u043b\u044f \u0438\u0441\u0445\u043e\u0434\u044f\u0449\u0435\u0433\u043e \u0442\u0440\u0430\u0444\u0438\u043a\u0430. AS_Path - \u0414\u043b\u044f \u043c\u0430\u043d\u0438\u043f\u0443\u043b\u044f\u0446\u0438\u0438 \u043f\u0440\u0435\u0434\u043f\u043e\u0447\u0438\u0442\u0430\u0435\u043c\u044b\u043c \u043f\u0443\u0442\u0451\u043c \u0434\u043b\u044f \u0432\u0445\u043e\u0434\u044f\u0449\u0435\u0433\u043e \u0442\u0440\u0430\u0444\u0438\u043a\u0430 \u043f\u0440\u0438 \u0441\u0442\u044b\u043a\u0435 \u043e\u0434\u043d\u043e\u0433\u043e \u0440\u043e\u0443\u0442\u0435\u0440\u0430 \u0441 \u0434\u0432\u0443\u043c\u044f \u0432\u044b\u0448\u0435\u0441\u0442\u043e\u044f\u0449\u0438\u043c\u0438 AS. \u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u043b\u0438\u0448\u043d\u044e\u044e \u0437\u0430\u043f\u0438\u0441\u044c \u0432 AS_Path \u0434\u043b\u044f \u043d\u0435\u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0433\u043e \u043f\u0438\u0440\u0430, \u043e\u0442\u043a\u0443\u0434\u0430 \u043c\u0435\u043d\u044c\u0448\u0435 \u0445\u043e\u0442\u0438\u043c \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u044c \u0442\u0440\u0430\u0444\u0438\u043a</p>"},{"location":"Networks/BGP/main_features/","title":"Main Features","text":"<p><pre><code>router bgp [\u043d\u0430\u0448\u0430 AS]\n    no bgp default ipv4-unicast\n    neighbor [ip eBGP-\u0441\u043e\u0441\u0435\u0434\u0430] remote-as [\u0441\u043e\u0441\u0435\u0434\u043d\u044f\u044f AS]   # \u041e\u0431\u044a\u044f\u0432\u043b\u044f\u0435\u043c eBGP-\u0441\u043e\u0441\u0435\u0434\u0430\n    neighbor RR_CLIENTS peer-group                      # \u0414\u043b\u044f \u043e\u043f\u0442\u0438\u043c\u0438\u0437\u0430\u0446\u0438\u0438 \u043c\u043e\u0436\u0435\u043c \u043e\u0431\u044a\u0435\u0434\u0438\u043d\u044f\u0442\u044c \u0441\u043e\u0441\u0435\u0434\u0435\u0439 \u0432 \u043f\u0438\u0440-\u0433\u0440\u0443\u043f\u043f\u044b \u0438 \u043f\u0440\u0438\u043c\u0435\u043d\u044f\u0442\u044c \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0441\u0440\u0430\u0437\u0443 \u043a\u043e \u0432\u0441\u0435\u043c \u0435\u0451 \u0447\u043b\u0435\u043d\u0430\u043c. \u0412 \u0434\u0430\u043d\u043d\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0435 \u043e\u0431\u044a\u0435\u0434\u0438\u043d\u0438\u043c \u0432\u0441\u0435\u0445 \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432 RR\n    neighbor RR_CLIENTS remote-as [\u043d\u0430\u0448\u0430 AS]     \n    neighbor RR_CLIENTS update-source Loopback0     # \u0410\u043d\u043e\u043d\u0441 \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u043e\u0432 \u0432 iBGP \u043e\u0442 \u0438\u043c\u0435\u043d\u0438 Lo0. \u041b\u0443\u043f\u0431\u044d\u043a \u043d\u0438\u043a\u043e\u0433\u0434\u0430 \u043d\u0435 \u043f\u0430\u0434\u0430\u0435\u0442 \u0438 \u043f\u043e\u0437\u0432\u043e\u043b\u0438\u0442 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0442\u044c full-mesh \u0441\u0432\u044f\u0437\u043d\u043e\u0441\u0442\u044c\n    neighbor RR_CLIENTS next-hop-self               # \u041f\u043e\u0434\u0441\u0442\u0430\u0432\u043b\u044f\u0442\u044c \u0441\u0435\u0431\u044f \u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 next-hop, \u0442.\u043a. \u0443 iBGP-\u0441\u043e\u0441\u0435\u0434\u0430 \u043d\u0435\u0442 \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u0430 \u0434\u043e eBGP-\u0441\u043e\u0441\u0435\u0434\u0430\n    neighbor RR_CLIENTS route-reflector-client      # \u0412 \u0441\u043b\u0443\u0447\u0430\u0435 \u0435\u0441\u043b\u0438 \u0440\u043e\u0443\u0442\u0435\u0440 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442 \u0440\u043e\u043b\u044c RR, \u044d\u0442\u043e\u0439 \u043a\u043e\u043c\u0430\u043d\u0434\u043e\u0439 \u043e\u0431\u044a\u044f\u0432\u043b\u044f\u0435\u043c RR-\u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432\n    neighbor &lt;client_IP&gt; peer-group RR_CLIENTS      # \u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u0441\u043e\u0441\u0435\u0434\u0430 \u0432 \u0433\u0440\u0443\u043f\u043f\u0443\n    address-family ipv4\n        aggregate-address [ip mask \u0430\u0433\u0440\u0435\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0433\u043e] as-set summary-only\n        # summary-only - \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442 \u043d\u0435 \u0430\u043d\u043e\u043d\u0441\u0438\u0442\u044c \u0441\u0430\u0433\u0440\u0435\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u044b\n        # as-set - \u0431\u0435\u0437 \u044d\u0442\u043e\u0439 \u043a\u043e\u043c\u0430\u043d\u0434\u044b \u0440\u043e\u0443\u0442\u0435\u0440 \u0437\u0430\u0442\u0438\u0440\u0430\u0435\u0442 \u0432\u0435\u0441\u044c AS_Path \u0438 \u043f\u043e\u0434\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442 \u0441\u0432\u043e\u044e AS (BGP atomic aggregate).\n        network [\u0430\u0439\u043f\u0438\u0448\u043d\u0438\u043a] mask [\u043c\u0430\u0441\u043a\u0430] # \u0430\u043d\u043e\u043d\u0441\u0438\u043c \u043f\u043e\u0434\u0441\u0435\u0442\u043a\u0443\n        neighbor [ip \u0441\u043e\u0441\u0435\u0434\u0430] activate\n</code></pre> </p>"},{"location":"Networks/BGP/main_features/#_1","title":"\u0421\u043f\u043e\u0441\u043e\u0431\u044b \u0444\u0438\u043b\u044c\u0442\u0440\u0430\u0446\u0438\u0438 \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u043e\u0432","text":""},{"location":"Networks/BGP/main_features/#distribution-list","title":"Distribution list","text":"<p><pre><code>ip access-list extended ACL_NAME\n permit ip 172.16.0.0 0.0.255.255 255.255.255.0 0.0.0.255\nrouter bgp 65100\n address-family ipv4\n  neighbor 10.12.1.2 distribute-list ACL_NAME in\n</code></pre> \u041f\u0440\u043e\u043f\u0443\u0441\u043a\u0430\u0435\u043c \u0432\u0441\u0435 172.16.\u0445.\u0445 \u043f\u043e\u0434\u0441\u0435\u0442\u043a\u0438 \u0441 \u043f\u0440\u0435\u0444\u0438\u043a\u0441\u0430\u043c\u0438 \u043e\u0442 /24 \u0434\u043e /32 (ip wildcard mask wildcard)</p>"},{"location":"Networks/BGP/main_features/#prefix-list","title":"Prefix list","text":"<p><pre><code>ip prefix-list defaultExclude seq 5 deny 0.0.0.0/0\nip prefix-list defaultExclude seq 10 permit 0.0.0.0/0 le 24\n</code></pre> <pre><code>router bgp 65530\n neighbor 10.10.1.4 prefix-list defaultExclude in\n</code></pre> \u043f\u0440\u043e\u043f\u0443\u0441\u043a\u0430\u0435\u043c \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u0440\u0435\u0444\u0438\u043a\u0441\u044b \u043e\u0442 /24 \u0438 \u0432\u044b\u0448\u0435</p>"},{"location":"Networks/BGP/main_features/#as_path-filtering","title":"AS_Path filtering","text":"<p><pre><code>ip as-path access-list 1 permit ^$  # locally originated routes\nip as-path access-list 2 permit ^300_   # routes advertised by AS300\nip as-path access-list 3 permit _40$    # routes originated from AS40\n</code></pre> <pre><code>router bgp 65530\n neighbor 10.10.1.4 filter-list 1 out\n</code></pre></p>"},{"location":"Networks/BGP/main_features/#route-maps","title":"Route maps","text":"<p><pre><code>ip prefix-list default_route permit 0.0.0.0/0\nip prefix-list RFC1918 permit 10.0.0.0/8 le 32\nip prefix-list RFC1918 permit 172.16.0.0/12 le 32\nip prefix-list RFC1918 permit 192.168.0.0/16 le 32\nip prefix-list proper_prefixes permit 0.0.0.0/0 le 24\nip prefix-list LIST_NAME permit 100.64.0.0/0 le 24\nip as-path access-list 1 permit _65200$\n!\nroute-map AS65200IN deny 10\n match ip address prefix-list RFC1918 default_route\nroute-map AS65200IN permit 20\n match ip address prefix-list LIST_NAME\n match as-path 1\n set local-preference 222\nroute-map AS65200IN permit 30\n match as-path 1\n set weight 65200\nroute-map AS65200IN permit 40\n match ip address prefix-list proper_prefixes\n!\nrouter bgp 65100\n address-family ipv4\n  neighbor 10.12.1.2 route-map AS65200IN in\n</code></pre> Route maps \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u044e\u0442 \u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u043e\u0434\u043d\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e \u0441 \u043f\u0440\u0435\u0444\u0438\u043a\u0441 \u043b\u0438\u0441\u0442\u0430\u043c\u0438, \u0444\u0438\u043b\u044c\u0442\u0440\u0430\u0446\u0438\u0435\u0439 \u043f\u043e AS \u0438 \u043c\u0430\u043d\u0438\u043f\u0443\u043b\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441 path \u0430\u0442\u0440\u0438\u0431\u0443\u0442\u0430\u043c\u0438. \u0412 \u043f\u0440\u0438\u0432\u0435\u0434\u0435\u043d\u043d\u043e\u043c \u043f\u0440\u0438\u043c\u0435\u0440\u0435 \u043d\u0430 \u043f\u0435\u0440\u0432\u043e\u043c \u044d\u0442\u0430\u043f\u0435 \u0434\u0440\u043e\u043f\u0430\u044e\u0442\u0441\u044f \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u044b\u0435 \u043f\u043e\u0434\u0441\u0435\u0442\u0438 \u0438 \u0434\u044d\u0444\u043e\u043b\u0442\u043d\u044b\u0439 \u043c\u0430\u0440\u0448\u0440\u0443\u0442. \u0417\u0430\u0442\u0435\u043c \u0434\u043b\u044f \u043f\u043e\u0434\u0441\u0435\u0442\u0435\u0439, \u043f\u043e\u0434\u0445\u043e\u0434\u044f\u0449\u0438\u0445 \u043e\u0434\u043d\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e \u0434\u043b\u044f \u043f\u0440\u0435\u0444\u0438\u043a\u0441 \u043b\u0438\u0441\u0442\u0430 \u0438 AS-\u0444\u0438\u043b\u044c\u0442\u0440\u0430, \u0443\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0430\u0442\u0440\u0438\u0431\u0443\u0442\u0430 local-preference. \u0423 \u043f\u043e\u0434\u0441\u0435\u0442\u0435\u0439 \u0438\u0437 AS-\u0444\u0438\u043b\u044c\u0442\u0440\u0430, \u043d\u043e \u043d\u0435 \u0438\u0437 \u043f\u0440\u0435\u0444\u0438\u043a\u0441-\u043b\u0438\u0441\u0442\u0430, \u0437\u0430\u0434\u0430\u0435\u0442\u0441\u044f \u0430\u0442\u0440\u0438\u0431\u0443\u0442 weight. \u0421\u0435\u0442\u0438 \u0438\u0437 prefix-list proper_prefixes \u043f\u0440\u043e\u043f\u0443\u0441\u043a\u0430\u044e\u0442\u0441\u044f \u0431\u0435\u0437 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439, \u043e\u0441\u0442\u0430\u043b\u044c\u043d\u044b\u0435 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u043e \u0434\u0440\u043e\u043f\u0430\u044e\u0442\u0441\u044f \u0438\u0437-\u0437\u0430 explicit deny</p> <p>Note: \u043f\u0440\u0438\u043d\u0446\u0438\u043f explicit deny \u0432 \u0446\u0435\u043b\u043e\u043c \u0440\u0430\u0441\u043f\u0440\u043e\u0441\u0442\u0440\u0430\u043d\u044f\u0435\u0442\u0441\u044f \u043d\u0430 \u0432\u0441\u0435 \u043f\u0440\u0438\u0432\u0435\u0434\u0435\u043d\u043d\u044b\u0435 \u0437\u0434\u0435\u0441\u044c \u0441\u043f\u043e\u0441\u043e\u0431\u044b \u0444\u0438\u043b\u044c\u0442\u0440\u0430\u0446\u0438\u0438</p>"},{"location":"Networks/BGP/troubleshooting/","title":"Troubleshooting","text":""},{"location":"Networks/BGP/troubleshooting/#_1","title":"\u041f\u0440\u043e\u0431\u043b\u0435\u043c\u044b \u0441\u043e\u0441\u0435\u0434\u0441\u0442\u0432\u0430","text":"<ul> <li><code>sh bgp ipv4 uni sum</code>   A neighbor must be presence in the table and <code>State/PfxRcd</code> must not be <code>Idle</code> or <code>Active</code> <code>Idle</code> - \u043d\u0435 \u0443\u0434\u0430\u0451\u0442\u0441\u044f \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c TCP-\u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 \u0441 \u0441\u043e\u0441\u0435\u0434\u043e\u043c</li> <li><code>sh ip int br</code>   \u0418\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441, \u0443\u0447\u0430\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0439 \u0432 \u0441\u043e\u0441\u0435\u0434\u0441\u0442\u0432\u0435 \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0432 \u0430\u043f\u0435. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0442\u043e\u0442 \u0447\u0442\u043e \u0443\u043a\u0430\u0437\u0430\u043d \u0432 \u043a\u0430\u0447\u0435\u0442\u0441\u0432\u0435 <code>update-source</code></li> <li><code>ping &lt;IP_\u0441\u043e\u0441\u0435\u0434\u0430&gt; so &lt;IP_peer_\u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430&gt;</code></li> <li><code>sh ip route &lt;IP_\u0441\u043e\u0441\u0435\u0434\u0430&gt;</code>   \u041d\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0434\u044d\u0444\u043e\u043b\u0442\u043d\u044b\u0439 \u043c\u0430\u0440\u0448\u0440\u0443\u0442 \u0434\u043b\u044f \u0434\u043e\u0441\u0442\u0443\u043f\u0430 \u043a BGP-\u0441\u043e\u0441\u0435\u0434\u0443</li> <li><code>sh run | s router bgp</code> </li> <li>\u041d\u0435 \u0432\u0435\u0440\u043d\u043e \u0437\u0430\u0434\u0430\u043d\u0430 AS \u0441\u043e\u0441\u0435\u0434\u0430 (state \u0431\u0443\u0434\u0435\u0442 \u043f\u043e\u0441\u0442\u043e\u044f\u043d\u043d\u043e \u043c\u0435\u043d\u044f\u0442\u044c\u0441\u044f \u043c\u0435\u0436\u0434\u0443 Idle \u0438 Active)</li> <li>\u041d\u0435 \u0432\u0435\u0440\u043d\u043e \u0437\u0430\u0434\u0430\u043d IP \u0441\u043e\u0441\u0435\u0434\u0430 (\u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u0442\u044c \u0441 <code>update-source</code> \u0443 \u0441\u043e\u0441\u0435\u0434\u0430 \u0438\u043b\u0438 \u0435\u0433\u043e BGP-\u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u043e\u043c)</li> <li><code>sh access-lists</code>   \u041d\u0435 \u0434\u043e\u043b\u0436\u043d\u044b \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u0440\u0435\u0449\u0435\u043d\u044b \u0432\u0445\u043e\u0434\u044f\u0449\u0438\u0435 bgp-\u043f\u0430\u043a\u0435\u0442\u044b (TCP 179) \u043d\u0430 BGP-\u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0435</li> <li>\u041d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u044b\u0439 TTL. \u0414\u043b\u044f eBGP TTL=1, \u0434\u043b\u044f iBGP - 255. \u0415\u0441\u043b\u0438 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c eBGP-\u0441\u043e\u0441\u0435\u0434\u0441\u0442\u0432\u043e \u0434\u043e \u043b\u0443\u043f\u0431\u044d\u043a\u0430, \u0442\u043e \u043f\u043e\u043d\u0430\u0434\u043e\u0431\u0438\u0442\u0441\u044f 2 \u0445\u043e\u043f\u0430 \u0438 \u0441\u0435\u0441\u0441\u0438\u044f \u043d\u0435 \u043f\u043e\u0434\u043d\u0438\u043c\u0435\u0442\u0441\u044f</li> <li>Mismatched Authentication</li> <li><code>sh bgp ipv4 uni nei &lt;IP_\u0441\u043e\u0441\u0435\u0434\u0430&gt; | i hold time|holdtime</code>   \u041d\u0435\u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0445\u043e\u043b\u0434-\u0442\u0430\u0439\u043c\u0435\u0440\u0430 \u043e\u0434\u043d\u043e\u0433\u043e \u0438\u0437 \u0441\u043e\u0441\u0435\u0434\u0435\u0439</li> </ul>"},{"location":"Networks/BGP/troubleshooting/#_2","title":"\u041f\u0440\u043e\u0431\u043b\u0435\u043c\u044b \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u043e\u0432","text":"<ul> <li><code>sh bgp ipv4 uni</code></li> <li>BGP-\u043c\u0430\u0440\u0448\u0440\u0443\u0442 \u043d\u0435 \u0432\u0441\u0442\u0430\u0432\u043b\u0435\u043d \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0443 \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u0438\u0437\u0430\u0446\u0438\u0438 (\u043d\u0435\u0442 \u0437\u043d\u0430\u0447\u043a\u0430 <code>&gt;</code>):  </li> <li>\u043f\u0438\u043d\u0433\u0443\u0435\u0442\u0441\u044f \u043b\u0438 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u0439 next-hop?</li> <li>\u041d\u0435 \u043f\u0440\u0438\u0448\u0435\u043b \u0430\u043d\u043e\u043d\u0441 \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u0430:</li> <li>BGP Split-Horizon Rule   \u041c\u0430\u0440\u0448\u0440\u0443\u0442, \u0438\u0437\u0443\u0447\u0435\u043d\u043d\u044b\u0439 \u043e\u0442 iBGP-\u0441\u043e\u0441\u0435\u0434\u0430, \u043d\u0435 \u0430\u043d\u043e\u043d\u0441\u0438\u0442\u0441\u044f \u0434\u0440\u0443\u0433\u043e\u043c\u0443 iBGP-\u0441\u043e\u0441\u0435\u0434\u0443, \u0442\u0430\u043a\u0438\u043c \u043e\u0431\u0440\u0430\u0437\u043e\u043c \u043c\u0430\u0440\u0448\u0440\u0443\u0442 \u043f\u043e BGP \u0430\u043d\u043e\u043d\u0441\u0438\u0442\u0441\u044f \u0442\u043e\u043b\u044c\u043a\u043e \u043d\u0430 1 \u0445\u043e\u043f. \u041d\u0443\u0436\u043d\u043e \u043f\u0440\u043e\u0430\u043d\u0430\u043b\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0442\u043e\u043f\u043e\u043b\u043e\u0433\u0438\u044e \u043d\u0430 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u044b\u0435 \u043e\u0448\u0438\u0431\u043a\u0438.</li> <li>\u041c\u0430\u0440\u0448\u0440\u0443\u0442 \u043f\u043e\u0434\u043f\u0438\u0441\u0430\u043d \u043a\u0430\u043a <code>r</code>:</li> <li>\u0412 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u0438\u0437\u0430\u0446\u0438\u0438 \u0443\u0436\u0435 \u0435\u0441\u0442\u044c \u043c\u0430\u0440\u0448\u0440\u0443\u0442 \u0441 \u043b\u0443\u0447\u0448\u0435\u0439 AD</li> <li>\u0410\u043d\u043e\u043d\u0441\u0438\u0440\u0443\u0435\u043c\u044b\u0439 \u043c\u0430\u0440\u0448\u0440\u0443\u0442 \u0441 \u0442\u043e\u0447\u043d\u043e\u0441\u0442\u044c\u044e \u0434\u043e \u043c\u0430\u0441\u043a\u0438 \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u0438\u0437\u0430\u0446\u0438\u0438</li> <li><code>sh bgp ipv4 uni nei &lt;IP_\u0441\u043e\u0441\u0435\u0434\u0430&gt; adv</code>  # \u0435\u0441\u043b\u0438 \u043c\u0430\u0440\u0448\u0440\u0443\u0442 \u0430\u043d\u043e\u043d\u0441\u0438\u0442\u0441\u044f <code>sh bgp ipv4 uni nei &lt;IP_\u0441\u043e\u0441\u0435\u0434\u0430&gt; routes</code>  # \u043d\u043e \u0441\u043e\u0441\u0435\u0434 \u0435\u0433\u043e \u043d\u0435 \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u0442 <code>sh ip prot</code>  # \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u043c\u0430\u0440\u0448\u0440\u0443\u0442 \u043e\u0442\u0444\u0438\u043b\u044c\u0442\u0440\u043e\u0432\u044b\u0432\u0430\u0435\u0442\u0441\u044f, \u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u043e \u0438\u043b\u0438 \u0434\u043b\u044f \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u0433\u043e \u0441\u043e\u0441\u0435\u0434\u0430 </li> </ul>"},{"location":"Networks/IPv6/basic/","title":"Basic","text":"<p>\u0424\u043e\u0440\u043c\u0430\u0442 \u0437\u0430\u043f\u0438\u0441\u0438: 8 x hextet(16bit) = 128bit <pre><code>0000:0000:0000:0000:0000:0000:0000:0000\n0000:0000:0000:0000:0000:0000:0000:0001\nff02:0000:0000:0000:0000:0000:0000:0001\nfe80:0000:0000:0000:a299:9bff:fe18:50d1\n2001:0db8:1111:000a:00b0:0000:9000:0200\n2001:0db8:0000:0000:abcd:0000:0000:1234\n2001:0db8:cafe:0001:0000:0000:0000:0100\n2001:0db8:cafe:0001:0000:0000:0000:0200\n</code></pre> </p>"},{"location":"Networks/IPv6/basic/#_1","title":"\u041f\u0440\u0430\u0432\u0438\u043b\u0430 \u0441\u043e\u043a\u0440\u0430\u0449\u0435\u043d\u0438\u044f","text":""},{"location":"Networks/IPv6/basic/#_2","title":"\u0421\u043e\u043a\u0440\u0430\u0449\u0435\u043d\u0438\u0435 \u043d\u0443\u043b\u0435\u0439 \u0432 \u043d\u0430\u0447\u0430\u043b\u0435 \u0433\u0435\u043a\u0441\u0442\u0435\u0442\u0430","text":"<pre><code>0000:0000:0000:0000:0000:0000:0000:0000\n0000:0000:0000:0000:0000:0000:0000:1\nff02:0000:0000:0000:0000:0000:0000:1\nfe80:0000:0000:0000:a299:9bff:fe18:50d1\n2001:db8:1111:a:b0::9000:200\n2001:db8:0000:0000:abcd:0000:0000:1234\n2001:db8:cafe:1:0000:0000:0000:100\n2001:db8:cafe:1:0000:0000:0000:200\n</code></pre>"},{"location":"Networks/IPv6/basic/#_3","title":"\u0421\u043e\u043a\u0440\u0430\u0449\u0435\u043d\u0438\u0435 \u0433\u0435\u043a\u0441\u0442\u0435\u0442\u043e\u0432 \u0441 \u043e\u0434\u043d\u0438\u043c\u0438 \u043d\u0443\u043b\u044f\u043c\u0438","text":"<p>\u0421\u043e\u043a\u0440\u0430\u0449\u0430\u0442\u044c \u043c\u043e\u0436\u043d\u043e \u0441\u0430\u043c\u0443\u044e \u0434\u043b\u0438\u043d\u043d\u0443\u044e \u043f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u043d\u0443\u043b\u0435\u0432\u044b\u0445 \u0433\u0435\u043a\u0441\u0442\u0435\u0442\u043e\u0432. \u0415\u0441\u043b\u0438 \u0435\u0441\u0442\u044c \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043e\u0434\u0438\u043d\u0430\u043a\u043e\u0432\u043e\u0439 \u0434\u043b\u0438\u043d\u044b, \u0442\u043e \u043d\u0430 <code>::</code> \u0437\u0430\u043c\u0435\u043d\u044f\u0435\u0442\u0441\u044f \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u0435\u0440\u0432\u0430\u044f \u043f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c, \u043f\u043e\u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u043d\u0443\u043b\u0435\u0432\u044b\u0435 \u0433\u0435\u043a\u0441\u0442\u0435\u0442\u044b \u043c\u043e\u0436\u043d\u043e \u0441\u043e\u043a\u0440\u0430\u0442\u0438\u0442\u044c \u0434\u043e <code>0</code>: <pre><code>::\n::1\nff02::1\nfe80::a299:9bff:fe18:50d1\n2001:db8:1111:a:b0::9000:200\n2001:db8::abcd:0:0:1234\n2001:db8:cafe:1::100\n2001:db8:cafe:1::200\n</code></pre> </p> <p>\u0414\u043b\u0438\u043d\u0430 \u043f\u0440\u0435\u0444\u0438\u043a\u0441\u0430 \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u0430\u043d\u0430\u043b\u043e\u0433\u0438\u0447\u043d\u043e ipv4 \u041e\u0434\u0438\u043d \u0433\u0435\u043a\u0441\u0442\u0435\u0442 \u044d\u0442\u043e /16, \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u0430 \u043f\u0440\u0435\u0444\u0438\u043a\u0441\u0430 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u043e - /128 </p>"},{"location":"Networks/IPv6/basic/#ipv6","title":"\u0417\u0430\u0440\u0435\u0437\u0435\u0440\u0432\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u043f\u0440\u0435\u0444\u0438\u043a\u0441\u044b IPv6:","text":"<p> 2000 - 3fff Global unicast - \u0430\u043d\u0430\u043b\u043e\u0433 \u043f\u0443\u0431\u043b\u0438\u0447\u043d\u044b\u0445 \u0430\u0434\u0440\u0435\u0441\u043e\u0432 fe80 - febf Link-local - \u0430\u0434\u0440\u0435\u0441\u0430 \u0434\u043b\u044f \u043a\u043e\u043c\u043c\u0443\u043d\u0438\u043a\u0430\u0446\u0438\u0438 \u0441 \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u044b\u043c\u0438 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430\u043c\u0438 Unspecified address - \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u043a\u0430\u043a source, \u043a\u043e\u0433\u0434\u0430 \u0430\u0434\u0440\u0435\u0441 \u0435\u0449\u0435 \u043d\u0435 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d fc00 - fdff Unique local - \u0430\u043d\u0430\u043b\u043e\u0433 \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u044b\u0445 \u0430\u0434\u0440\u0435\u0441\u043e\u0432 IPv4 embedded - \u0434\u043b\u044f \u043f\u0435\u0440\u0435\u043d\u043e\u0441\u0430 IPv4 \u0430\u0434\u0440\u0435\u0441\u043e\u0432 </p>"},{"location":"Networks/IPv6/basic/#ipv6-","title":"\u0421\u043f\u043e\u0441\u043e\u0431\u044b \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f IPv6-\u0430\u0434\u0440\u0435\u0441\u0430","text":""},{"location":"Networks/IPv6/pppoe_dual-stack/","title":"PPPoE Dual-Stack","text":"<p>\u0414\u043b\u044f \u0440\u0430\u0431\u043e\u0442\u044b \u0440\u043e\u0443\u0442\u0435\u0440\u043d\u044b\u0445 \u0444\u0443\u043d\u043a\u0446\u0438\u0439 ipv6 \u043d\u0435 \u0437\u0430\u0431\u044b\u0432\u0430\u0435\u043c \u0432\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u043e: <code>ipv6 unicast-routing</code> </p>"},{"location":"Networks/IPv6/pppoe_dual-stack/#pe","title":"PE:","text":"<p>\u041f\u0440\u0438\u043c\u0435\u0440 \u0438\u0441\u043a\u0443\u0441\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439, \u043f\u043e\u044d\u0442\u043e\u043c\u0443 \u0443\u0447\u0435\u0442\u043a\u0430 pppoe-\u043a\u043b\u0438\u0435\u043d\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u0451\u0442\u0441\u044f \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0435: <pre><code>username R2 password 0 PAP\n</code></pre> \u0421\u043e\u0437\u0434\u0430\u0451\u043c bba pppoe \u0433\u0440\u0443\u043f\u043f\u0443: <pre><code>bba-group pppoe PPPOE_28\n virtual-template 28        # c\u0441\u044b\u043b\u0430\u0435\u043c\u0441\u044f \u043d\u0430 \u043d\u0443\u0436\u043d\u044b\u0439 \u0448\u0430\u0431\u043b\u043e\u043d\n sessions per-mac limit 1   # \u0443\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u043c \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u0435 \u043d\u0430 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u0435\u0441\u0441\u0438\u0439 \u043d\u0430 \u043c\u0430\u043a\n</code></pre> \u0421\u043e\u0437\u0434\u0430\u0451\u043c \u0448\u0430\u0431\u043b\u043e\u043d \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430: <pre><code>interface Virtual-Template28\n mtu 1492\n ip unnumbered Loopback28                   # \u043f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u044d\u043a\u0437\u0435\u043c\u043f\u043b\u044f\u0440\u0430 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430 \u0431\u0443\u0434\u0435\u0442 \u043a\u043b\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d ip \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u043e\u0433\u043e \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430\n ip nat inside\n peer default ip address pool PPPOE_POOL_V4 # \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u043c \u0438\u043c\u044f \u043f\u0443\u043b\u0430 \u0434\u043b\u044f ipv4 \u043f\u0438\u0440\u0438\u043d\u0433\u0430\n peer default ipv6 pool PPPOE_POOL_V6       # \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u043c \u0438\u043c\u044f \u043f\u0443\u043b\u0430 \u0434\u043b\u044f ipv6 \u043f\u0438\u0440\u0438\u043d\u0433\u0430\n ipv6 enable\n no ipv6 nd ra suppress                     # \u0432\u043a\u043b\u044e\u0447\u0430\u0435\u043c \u0434\u043b\u044f \u0440\u0430\u0437\u0434\u0430\u0447\u0438 \u0430\u0434\u0440\u0435\u0441\u043e\u0432 \u0432 \u0440\u0435\u0436\u0438\u043c\u0435 SLAAC\n ipv6 nd ra lifetime 60\n ipv6 nd ra interval 10 5\n ipv6 dhcp server DHCP_POOL_V6              # \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u043c \u0438\u043c\u044f \u043f\u0443\u043b\u0430 \u0434\u043b\u044f \u0440\u0430\u0431\u043e\u0442\u044b prefix-deligation(PD)\n ppp authentication pap callin              # \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 \u043c\u0435\u0442\u043e\u0434\u043e\u043c PAP\n</code></pre> <pre><code>interface Loopback28\n ip address 209.2.8.99 255.255.255.0\n</code></pre> \u0421\u043e\u0437\u0434\u0430\u0451\u043c ip-\u043f\u0443\u043b\u044b: <pre><code>ip local pool PPPOE_POOL_V4 209.2.8.100 209.2.8.149\nipv6 local pool PPPOE_POOL_V6 2001:10:2:80::/60 64\nipv6 local pool PD_POOL_V6 2001:192:168:80::/60 64\n</code></pre> \u041b\u0438\u043d\u043a\u0443\u0435\u043c dhcp-\u043f\u0443\u043b \u0434\u043b\u044f PD \u0441 \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u044b\u043c: <pre><code>ipv6 dhcp pool DHCP_POOL_V6\n prefix-delegation pool PD_POOL_V6\n</code></pre> \u0412\u043a\u043b\u044e\u0447\u0430\u0435\u043c pppoe \u043d\u0430 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0435: <pre><code>interface Ethernet0/0\n description CE\n no ip address\n pppoe enable group PPPOE_28\n</code></pre> \u0423\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u043c \u0432\u043d\u0435\u0448\u043d\u0438\u0439 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441 \u0434\u043b\u044f NAT: <pre><code>interface Ethernet0/3\n description Uplink\n ip nat outside\n</code></pre> \u0421\u043e\u0437\u0434\u0430\u0451\u043c \u043f\u0440\u0430\u0432\u0438\u043b\u043e \u043d\u0430\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f: <pre><code>ip nat inside source list 100 interface Ethernet0/3 overload\naccess-list 100 permit ip 209.2.8.0 0.0.0.255 any   # \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u043c \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d ip \u0434\u043b\u044f \u043d\u0430\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f\n</code></pre> </p>"},{"location":"Networks/IPv6/pppoe_dual-stack/#ce","title":"CE:","text":"<p>\u0412\u043a\u043b\u044e\u0447\u0430\u0435\u043c pppoe \u043d\u0430 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0435: <pre><code>interface Ethernet0/0\n description -Uplink=PE8--\n no ip address\n pppoe enable group global\n pppoe-client dial-pool-number 28\n</code></pre> \u0421\u043e\u0437\u0434\u0430\u0451\u043c pppoe-\u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435: <pre><code>interface Dialer28\n mtu 1492 \n ip address negotiated                      # \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u043c \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0441\u0442\u044c \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f ip \u043f\u043e pppoe\n ip nat outside                             # \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u043c \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u043a\u0430\u043a \u0432\u043d\u0435\u0448\u043d\u0435\u0435 \u0434\u043b\u044f NAT\n encapsulation ppp                          # \u0432\u043a\u043b\u044e\u0447\u0430\u0435\u043c pppoe\n dialer pool 28                             # \u043b\u0438\u043d\u043a\u0443\u0435\u043c\u0441\u044f \u0441 \u043d\u043e\u043c\u0435\u0440\u043e\u043c \u043f\u0443\u043b\u0430 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u043e\u0433\u043e \u0432 pppoe-\u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0435\n dialer idle-timeout 0                      # \u043e\u0442\u043a\u043b\u044e\u0447\u0430\u0435\u043c \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u043f\u0440\u0435\u0440\u044b\u0432\u0430\u043d\u0438\u0438 pppoe-\u0441\u0435\u0441\u0441\u0438\u0438 \u043f\u0440\u0438 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0438\u0438 \u0442\u0440\u0430\u0444\u0438\u043a\u0430\n dialer persistent                          # \u0432\u043a\u043b\u044e\u0447\u0430\u0435\u043c \u0440\u0435\u043a\u043e\u043d\u0435\u043a\u0442 \u043f\u0440\u0438 \u043f\u0430\u0434\u0435\u043d\u0438\u0438 \u0441\u0435\u0441\u0441\u0438\u0438\n ipv6 address autoconfig default            # \u0432\u043a\u043b\u044e\u0447\u0430\u0435\u043c \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 ipv6 \u043c\u0435\u0442\u043e\u0434\u043e\u043c SLAAC\n ipv6 dhcp client pd PPPOE_ISP_PREFIX       # \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u043c \u0438\u043c\u044f \u043a\u0443\u0434\u0430 \u043f\u043e\u043c\u0435\u0441\u0442\u0438\u043c \u043f\u0440\u0435\u0444\u0438\u043a\u0441\u044b \u0434\u043b\u044f prefix-deligation\n ppp pap sent-username R2 password 0 PAP    # \u043b\u043e\u0433\u0438\u043d/\u043f\u0430\u0440\u043e\u043b\u044c \u0434\u043b\u044f pppoe-\u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f\n ppp ipcp route default                     # \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u043a\u0430\u043a \u043c\u0430\u0440\u0448\u0440\u0443\u0442 \u043f\u043e-\u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e\n</code></pre> \u0418\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441 \u0432 \u0441\u0442\u043e\u0440\u043e\u043d\u0443 LAN-\u043a\u043b\u0438\u0435\u043d\u0442\u0430: <pre><code>interface Ethernet0/1\n description client\n ip address 192.168.2.2 255.255.255.0\n ip nat inside\n ipv6 address FE80::2 link-local\n ipv6 address PPPOE_ISP_PREFIX ::2/64   # \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c \u0434\u043b\u044f \u0444\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f IPv6-\u0430\u0434\u0440\u0435\u0441\u0430 PD-\u043f\u0440\u0435\u0444\u0438\u043a\u0441, \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u044b\u0439 \u043f\u043e pppoe\n ipv6 nd ra lifetime 30\n ipv6 nd ra interval 10 5\n</code></pre> \u041e\u0431\u044a\u044f\u0432\u043b\u044f\u0435\u043c dhcp-pool \u0434\u043b\u044f ipv4-\u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432: <pre><code>ip dhcp excluded-address 192.168.2.0 192.168.2.20\nip dhcp pool DHCP_POOL_V4\n network 192.168.2.0 255.255.255.0\n default-router 192.168.2.2 \n</code></pre> \u041f\u0440\u0430\u0432\u0438\u043b\u043e \u0434\u043b\u044f NAT: <pre><code>ip nat inside source list NAT_ACL interface Dialer28 overload\nip access-list standard NAT_ACL\n permit 192.168.2.0 0.0.0.255\n</code></pre></p>"},{"location":"Networks/L4/tcp/","title":"L4 \u2192 TCP","text":""},{"location":"Networks/L4/tcp/#tcp-profiles","title":"TCP profiles","text":""},{"location":"Networks/L4/tcp/#interactive-traffic-profile-telnet-ssh-etc","title":"Interactive traffic profile (Telnet, SSH, etc.)","text":"<p>\u0426\u0435\u043b\u044c: \u041e\u0431\u043c\u0435\u043d \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0435\u0439 \u0441 \u043c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0439 \u0437\u0430\u0434\u0435\u0440\u0436\u043a\u043e\u0439 \u041e\u0441\u043e\u0431\u0435\u043d\u043d\u043e\u0441\u0442\u0438: 1. TCP Retransmission \u0415\u0441\u043b\u0438 \u0441\u0435\u0440\u0432\u0435\u0440 \u043d\u0435 \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u0442 ACK, \u043e\u043d \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442 \u0441\u0435\u0433\u043c\u0435\u043d\u0442 \u043f\u043e\u0432\u0442\u043e\u0440\u043d\u043e \u0441 \u043d\u0430\u0440\u0430\u0441\u0442\u0430\u044e\u0449\u0435\u0439 \u0437\u0430\u0434\u0435\u0440\u0436\u043a\u043e\u0439 (200, 400, 800 \u043c\u0441 \u0438 \u0442.\u0434.) 2. Delayed ACK \u041a\u043b\u0438\u0435\u043d\u0442 \u0432 \u0441\u0432\u043e\u044e \u043e\u0447\u0435\u0440\u0435\u0434\u044c \u0442\u0430\u043a\u0436\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442 ACK \u0441 \u0437\u0430\u0434\u0435\u0440\u0436\u043a\u043e\u0439, \u0447\u0442\u043e\u0431\u044b \u0434\u0430\u0442\u044c \u0432\u0440\u0435\u043c\u044f \u0441\u0432\u043e\u0435\u043c\u0443 \u0431\u0443\u0444\u0435\u0440\u0443 \u043e\u043f\u0443\u0441\u0442\u043e\u0448\u0438\u0442\u044c\u0441\u044f. NOTE: \u0417\u0430\u0434\u0435\u0440\u0436\u043a\u0430 ACK \u0434\u043e\u043b\u0436\u0430 \u0431\u044b\u0442\u044c \u043c\u0435\u043d\u044c\u0448\u0435 \u0432\u0440\u0435\u043c\u0435\u043d\u0438 TCP \u0440\u0435\u0442\u0440\u0430\u043d\u0441\u043c\u0438\u0441\u0441\u0438\u0438 (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, 20\u043c\u0441 \u043f\u0440\u043e\u0442\u0438\u0432 200\u043c\u0441) 3. Nagle algorithm \u0410\u043b\u0433\u043e\u0440\u0438\u0442\u043c \u0437\u0430\u043f\u0440\u0435\u0449\u0430\u0435\u0442 \u043d\u0430\u043b\u0438\u0447\u0438\u0435 \u0431\u043e\u043b\u044c\u0448\u0435 \u043e\u0434\u043d\u043e\u0433\u043e \u043d\u0435\u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u043d\u043e\u0433\u043e \u043d\u0435\u043f\u043e\u043b\u043d\u043e\u0433\u043e (\u0442.\u0435. \u043c\u0435\u043d\u044c\u0448\u0435 MSS) \u0441\u0435\u0433\u043c\u0435\u043d\u0442\u0430 \u0432 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0438. \u0422\u0430\u043a\u0438\u043c \u043e\u0431\u0440\u0430\u0437\u043e\u043c \u0434\u0440\u0443\u0433 \u0437\u0430 \u0434\u0440\u0443\u0433\u043e\u043c, \u0431\u0435\u0437 \u043e\u0436\u0438\u0434\u0430\u043d\u0438\u044f \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u044f \u043c\u043e\u0433\u0443\u0442 \u043f\u0435\u0440\u0435\u0434\u0430\u0432\u0430\u0442\u044c\u0441\u044f \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u043e\u043b\u043d\u043e\u0441\u0442\u044c\u044e \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u0435 \u0441\u0435\u0433\u043c\u0435\u043d\u0442\u044b. \u041d\u0430 \u043a\u0430\u0436\u0434\u044b\u0439 \u043f\u0435\u0440\u0435\u0434\u0430\u043d\u043d\u044b\u0439 \u043d\u0435\u043f\u043e\u043b\u043d\u044b\u0439 \u0441\u0435\u0433\u043c\u0435\u043d\u0442 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043e \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435.  </p>"},{"location":"Networks/L4/tcp/#bulk-transfer-traffic-profile-http","title":"Bulk transfer traffic profile (HTTP)","text":"<p>\u0426\u0435\u043b\u044c: \u041f\u0435\u0440\u0435\u0434\u0430\u0447\u0430 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u0441 \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0439 \u0443\u0442\u0438\u043b\u0438\u0437\u0430\u0446\u0438\u0435\u0439 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f \u041e\u0441\u043e\u0431\u0435\u043d\u043d\u043e\u0441\u0442\u0438: 1. TCP windows \u0412 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0438 \u0434\u043b\u044f \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043e\u0431\u044a\u0435\u043c\u043e\u043c \u0441\u0435\u0433\u043c\u0435\u043d\u0442\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f 2 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430: * receive window (RWND) - \u044d\u0442\u043e \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0430\u044f \u0432\u0435\u043b\u0438\u0447\u0438\u043d\u0430 \u0431\u0443\u0444\u0435\u0440\u0430 \u0441\u043e \u0441\u0442\u043e\u0440\u043e\u043d\u044b \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u044e\u0449\u0435\u0433\u043e (\u0440\u0435\u0441\u0438\u0432\u0435\u0440\u0430). \u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442 \u0440\u0435\u0441\u0438\u0432\u0435\u0440 \u0432 TCP-\u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0435. * congestion window (CWND) - \u043e\u043a\u043d\u043e \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u0442 \u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u0435\u043b\u044c \u043c\u043e\u0436\u0435\u0442 \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0445 \u0431\u0435\u0437 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u044f. \u041c\u0435\u0445\u0430\u043d\u0438\u0437\u043c \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u043c \u043e\u0431\u0440\u0430\u0437\u043e\u043c: \u0412\u0435\u043b\u0438\u0447\u0438\u043d\u0430 CWND \u044d\u043a\u0441\u043f\u043e\u043d\u0435\u043d\u0446\u0438\u0430\u043b\u044c\u043d\u043e \u0443\u0432\u0435\u043b\u0438\u0447\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u043d\u0430\u0447\u0438\u043d\u0430\u044f \u0441 \u0432\u0435\u043b\u0438\u0447\u0438\u043d\u044b MSS, \u043f\u043e\u043a\u0430 \u043d\u0435 \u0434\u043e\u0441\u0442\u0438\u0433\u043d\u0435\u0442 \u0440\u0430\u0437\u043c\u0435\u0440\u0430 RWND \u0438\u043b\u0438 \u043f\u043e\u043a\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u0435\u043b\u044c \u043d\u0435 \u043f\u043e\u043b\u0443\u0447\u0438\u0442 \u0434\u0443\u0431\u043b\u0438\u0440\u0443\u044e\u0449\u0438\u0439\u0441\u044f ACK \u0438\u043b\u0438 \u043d\u0435 \u0441\u043b\u0443\u0447\u0438\u0442\u0441\u044f \u0442\u0430\u0439\u043c\u0430\u0443\u0442. 2. \u0420\u0435\u0441\u0438\u0432\u0435\u0440 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0430\u0435\u0442 \u043a\u0430\u0436\u0434\u044b\u0439 \u0432\u0442\u043e\u0440\u043e\u0439 \u043f\u043e\u043b\u043d\u043e\u0440\u0430\u0437\u043c\u0435\u0440\u043d\u044b\u0439 \u0441\u0435\u0433\u043c\u0435\u043d\u0442. \u0422\u0430\u043a\u0436\u0435 ACK \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u043f\u0430\u043a\u0435\u0442\u0430 \u043d\u0435 \u043f\u043e \u043f\u043e\u0440\u044f\u0434\u043a\u0443 \u0438\u043b\u0438 \u043f\u0440\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438 RWND.  </p>"},{"location":"Networks/LACP/config_guide/","title":"LACP","text":"<p>\u0427\u0442\u043e \u043d\u0430 \u043a\u0430\u043a\u043e\u043c \u0443\u0440\u043e\u0432\u043d\u0435 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0438\u0440\u0443\u0435\u0442\u0441\u044f:  </p> Port channel Interface MTU QoS ACL Committed Access Rate (CAR) MAC CDP ip verify unicast reverse-path mpls ip hold queue in hold queue out"},{"location":"Networks/MPLS/common/","title":"Overview","text":"<p>MPLS \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0441\u043b\u0443\u0434\u0443\u044e\u0449\u0438\u043c \u043e\u0431\u0440\u0430\u0437\u043e\u043c: MPLS-\u0440\u043e\u0443\u0442\u0435\u0440\u044b \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u043f\u0440\u0438\u0441\u0432\u0430\u0438\u0432\u0430\u044e\u0442 \u043c\u0435\u0442\u043a\u0438 \u043a\u0430\u0436\u0434\u043e\u0439 \u043f\u043e\u0434\u0441\u0435\u0442\u0438, \u043e \u043a\u043e\u0442\u043e\u0440\u043e\u0439 \u0438\u043c \u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e  \u0417\u0430\u0442\u0435\u043c \u043a\u0430\u0436\u0434\u044b\u0439 \u0440\u043e\u0443\u0442\u0435\u0440 \u0430\u043d\u043e\u043d\u0441\u0438\u0442 \u0441\u0432\u043e\u0438 \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u044b\u0435 \u043c\u0435\u0442\u043a\u0438 \u0441\u043e\u0441\u0435\u0434\u044f\u043c \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u043f\u0440\u043e\u0442\u043e\u043a\u043e\u043b\u0430 LDP (udp/tcp 646). \u0422\u0430\u043a\u0438\u043c \u043e\u0431\u0440\u0430\u0437\u043e\u043c \u0444\u043e\u0440\u043c\u0438\u0440\u0443\u0435\u0442\u0441\u044f LIB(Label Information Base)  \u041d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 LIB \u0438 \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u0438\u0437\u0430\u0446\u0438\u0438 \u0444\u043e\u0440\u043c\u0438\u0440\u0443\u044e\u0442\u0441\u044f FIB \u0438 LFIB  LFIB \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043a\u0430\u043a\u0443\u044e \u043c\u0435\u0442\u043a\u0443 \u043d\u0430 \u043a\u0430\u043a\u0443\u044e \u043c\u0435\u043d\u044f\u0442\u044c \u043f\u0440\u0438 \u0444\u043e\u0440\u0432\u0430\u0440\u0434\u0438\u043d\u0433\u0435 \u0438 \u043a\u0430\u043a\u043e\u043c\u0443 \u0440\u043e\u0443\u0442\u0435\u0440\u0443 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u0434\u0430\u043b\u044c\u0448\u0435 </p>"},{"location":"Networks/MPLS/l3vpn/","title":"L3VPN","text":""},{"location":"Networks/MPLS/l3vpn/#_1","title":"\u041a\u0430\u043a \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0438\u0442\u044c","text":"<ol> <li> <p>\u0421\u043e\u0437\u0434\u0430\u0451\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0439 vrf: <pre><code>PE1(config)# ip vrf Customer1\nPE1(config-vrf)# rd 1:100\nPE1(config-vrf)# route-target both 1:100\nPE1(config-vrf)# ip vrf Customer2\nPE1(config-vrf)# rd 1:110\nPE1(config-vrf)# route-target both 1:110\n</code></pre> \u041f\u0440\u0438\u043c\u0435\u0440, \u043a\u043e\u043d\u0435\u0447\u043d\u043e, \u043a\u043e\u0440\u044f\u0432\u044b\u0439. \u0412\u043c\u0435\u0441\u0442\u043e <code>1</code> \u043d\u0443\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c ASN \u043f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440\u0430</p> </li> <li> <p>\u041f\u043e\u0434\u043d\u0438\u043c\u0430\u0435\u043c \u0441\u0442\u044b\u043a \u0441 \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u043c \u0438 \u043f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u044f\u0435\u043c \u0435\u0433\u043e \u043a vrf: <pre><code>PE1(config)# interface f0/1\nPE1(config-if)# ip vrf forwarding Customer1\nPE1(config-if)# ip address 10.0.0.1 255.255.255.252\nPE1(config-if)# interface f0/2\nPE1(config-if)# ip vrf forwarding Customer2\nPE1(config-if)# ip address 10.0.0.5 255.255.255.252\n</code></pre> </p> </li> <li> <p>\u041d\u0430\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0435\u043c \u0434\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0443\u044e \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u0438\u0437\u0430\u0446\u0438\u044e \u0441 \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u043c \u0438\u043b\u0438 \u043f\u0440\u043e\u043f\u0438\u0441\u044b\u0432\u0430\u0435\u043c \u0441\u0442\u0430\u0442\u0438\u043a\u0443 \u0434\u043e \u0435\u0433\u043e \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u044b\u0445 \u043f\u043e\u0434\u0441\u0435\u0442\u0435\u0439  </p> </li> <li>\u041f\u043e\u0434\u043d\u0438\u043c\u0430\u0435\u043c MP-BGP-\u043f\u0438\u0440 \u043c\u0435\u0436\u0434\u0443 PE \u0434\u043b\u044f \u043e\u0431\u043c\u0435\u043d\u0430 vpnv4-\u043c\u0430\u0440\u0448\u0440\u0443\u0442\u0430\u043c\u0438: <pre><code>PE1(config)# router bgp 64501\nPE1(config-router)# neighbor 10.1.1.5 remote-as 64501\nPE1(config-router)# neighbor 10.1.1.5 update-source loopback 0\nPE1(config-router)# address-family vpnv4\nPE1(config-router-af)# neighbor 10.1.1.5 activate\n</code></pre> </li> </ol>"},{"location":"Networks/MPLS/l3vpn/#_2","title":"\u0427\u0442\u043e \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u0438\u0442","text":"<ol> <li>\u0414\u043b\u044f \u043a\u0430\u0436\u0434\u043e\u0433\u043e vrf \u0432\u0435\u0434\u0435\u0442\u0441\u044f \u0441\u0432\u043e\u044f \u0442\u0430\u0431\u043b\u0438\u0446\u0430 \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u0438\u0437\u0430\u0446\u0438\u0438</li> <li>\u0414\u043b\u044f \u0440\u0430\u0437\u043b\u0438\u0447\u0435\u043d\u0438\u044f \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u043e\u0432 \u0440\u0430\u0437\u043d\u044b\u0445 vrf \u043f\u0440\u0438 \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0435 \u0438\u0445 \u0447\u0435\u0440\u0435\u0437 MP-BGP \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f 64-\u0431\u0438\u0442\u043d\u044b\u0439 route distinguisher(RD). \u041e\u043d \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043a \u0430\u043d\u043e\u043d\u0441\u0438\u0440\u0443\u0435\u043c\u043e\u043c\u0443 32-\u0431\u0438\u0442\u043d\u043e\u043c\u0443 \u043f\u0440\u0435\u0444\u0438\u043a\u0441\u0443, \u043e\u0431\u0440\u0430\u0437\u0443\u044f VPNv4-\u043c\u0430\u0440\u0448\u0440\u0443\u0442  \u0424\u043e\u0440\u043c\u0430\u0442 MP-BGP update-\u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f: </li> <li>\u041d\u0435\u043f\u043e\u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0435\u043d\u043d\u043e \u043f\u0440\u0438 \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0435 \u043f\u0430\u043a\u0435\u0442\u0430 \u043c\u0435\u0436\u0434\u0443 \u043f\u043b\u043e\u0449\u0430\u0434\u043a\u0430\u043c\u0438 \u043a\u043b\u0438\u0435\u043d\u0442\u0430 \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u044e\u0449\u0438\u0439 PE \u0432\u0435\u0448\u0430\u0435\u0442 \u043d\u0430 \u043f\u0430\u043a\u0435\u0442 \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u044e\u044e mpls-\u043c\u0435\u0442\u043a\u0443 - VPN \u043c\u0435\u0442\u043a\u0430 - \u0441 \u043d\u0435\u0439 \u0440\u0430\u0431\u043e\u0442\u0430\u044e\u0442 \u0442\u043e\u043b\u044c\u043a\u043e PE, \u0438 \u0432\u043d\u0435\u0448\u043d\u044e\u044e - LSP \u043c\u0435\u0442\u043a\u0430 - \u0441 \u043d\u0435\u0439 \u0431\u0443\u0434\u0443\u0442 \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0442\u0441\u0432\u043e\u0432\u0430\u0442\u044c \u0432\u0441\u0435 mpls-\u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430 \u0432 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0435 \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0438 \u043f\u0430\u043a\u0435\u0442\u0430 \u0447\u0435\u0440\u0435\u0437 mpls-\u0434\u043e\u043c\u0435\u043d.  </li> </ol>"},{"location":"Networks/MPLS/prod_example/","title":"Example","text":""},{"location":"Networks/MPLS/prod_example/#l3vpn","title":"\u041f\u0440\u0438\u043c\u0435\u0440 \u043a\u043e\u043d\u0444\u0438\u0433\u0430 \u0434\u043b\u044f \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 L3VPN","text":"<pre><code>vrf definition &lt;\u0438\u043c\u044f_\u043a\u043b\u0438\u0435\u043d\u0442\u0430&gt;\n    rd &lt;\u043d\u0430\u0448\u0430_AS&gt;:2649\n    route-target export &lt;\u043d\u0430\u0448\u0430_AS&gt;:2649\n    route-target import &lt;\u043d\u0430\u0448\u0430_AS&gt;:2649\n\ninterface TenGigabitEthernet0/2/0.1686140\n    vrf forwarding &lt;\u0438\u043c\u044f_\u043a\u043b\u0438\u0435\u043d\u0442\u0430&gt;\n    ip address 192.168.12.2 255.255.255.252\n\n\nrouter bgp [\u043d\u0430\u0448\u0430 AS]\n    no bgp default ipv4-unicast\n    neighbor [ip \u0441\u043e\u0441\u0435\u0434\u0430] remote-as [\u0441\u043e\u0441\u0435\u0434\u043d\u044f\u044f AS]\n    address-family vpnv4\n        neighbor [ip \u0441\u043e\u0441\u0435\u0434\u0430] activate\n        neighbor [ip \u0441\u043e\u0441\u0435\u0434\u0430] send-community both\n    address-family ipv4 vrf &lt;\u0438\u043c\u044f_\u043a\u043b\u0438\u0435\u043d\u0442\u0430&gt;\n        redistribute connected\n        redistribute static\n    address-family ipv4 vrf INTERNET\n        network 188.168.15.0 mask 255.255.255.0 [route-map SET-COMMUNITY-&lt;?_AS&gt;:164]\n        network 188.168.33.0 mask 255.255.255.0 [route-map SET-COMMUNITY-&lt;?_AS&gt;:264]\n        network 213.80.248.0 mask 255.255.248.0 [route-map SET-COMMUNITY-&lt;\u043d\u0430\u0448\u0430_AS&gt;:64]\n        network 217.23.64.0 mask 255.255.224.0 [route-map SET-COMMUNITY-&lt;\u043d\u0430\u0448\u0430_AS&gt;:64]\n</code></pre>"},{"location":"Networks/NAT/common/","title":"NAT","text":"<p>\u0422\u0440\u0438 \u0432\u0438\u0434\u0430 NATa: * Static NAT - 1:1 * Dynamic NAT - pool:pool * NAT Overload (PAT - Port Address Translation) - pool:1</p>"},{"location":"Networks/OSPF/LSA_and_areas/","title":"LSA and Area types","text":""},{"location":"Networks/OSPF/LSA_and_areas/#lsa","title":"\u0422\u0438\u043f\u044b LSA","text":"LSA \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 Type 1 \u0434\u043b\u044f \u043e\u0431\u043c\u0435\u043d\u0430 \u0438\u043d\u0444\u043e\u0439 \u043c\u0435\u0436\u0434\u0443 \u0440\u043e\u0443\u0442\u0435\u0440\u0430\u043c\u0438 \u0432\u043d\u0443\u0442\u0440\u0438 \u0437\u043e\u043d\u044b Type 2 \u0440\u0430\u0441\u043f\u0440\u043e\u0441\u0442\u0440\u0430\u043d\u044f\u0435\u0442 DR Type 3 \u0430\u043d\u043e\u043d\u0441 \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u043e\u0432 \u0438\u0437 \u0434\u0440\u0443\u0433\u043e\u0439 \u0437\u043e\u043d\u044b, c\u043e\u0437\u0434\u0430\u0451\u0442 ABR Type 4 \u0430\u043d\u043e\u043d\u0441 \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u0430 \u0434\u043e ASBR, \u0441\u043e\u0437\u0434\u0430\u0451\u0442 ABR Type 5 \u0430\u043d\u043e\u043d\u0441 external-\u043c\u0430\u0440\u0448\u0440\u0443\u0442\u0430, \u0441\u043e\u0437\u0434\u0430\u0451\u0442 ASBR Type 7 \u0430\u043d\u043e\u043d\u0441 external-\u043c\u0430\u0440\u0448\u0440\u0443\u0442\u0430 \u0432 NSSA-\u0441\u0435\u0442\u044f\u0445, \u0441\u043e\u0437\u0434\u0430\u0451\u0442 ASBR"},{"location":"Networks/OSPF/LSA_and_areas/#stubby","title":"Stubby \u0437\u043e\u043d\u044b","text":""},{"location":"Networks/OSPF/LSA_and_areas/#stub","title":"Stub","text":"<p>\u0412 stub \u0437\u043e\u043d\u0435 \u0437\u0430\u043f\u0440\u0435\u0449\u0435\u043d\u044b LSA 4 \u0438 5. \u041f\u0440\u0438 \u0430\u043d\u043e\u043d\u0441\u0435 \u0432 stub \u0437\u043e\u043d\u0443 ABR \u0430\u043d\u043e\u043d\u0441\u0438\u0442 \u0432\u043c\u0435\u0441\u0442\u043e \u043d\u0438\u0445 \u0441\u0435\u0431\u044f, \u043a\u0430\u043a default route </p>"},{"location":"Networks/OSPF/LSA_and_areas/#not-so-stubby-nssa","title":"Not-So-Stubby (NSSA)","text":"<p>\u0412 \u043e\u0442\u043b\u0438\u0447\u0438\u0438 \u043e\u0442 stub \u0437\u043e\u043d\u044b \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043d redistribute \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u043e\u0432. ABR \u0430\u043d\u043e\u043d\u0441\u0438\u0442 default route \u0432\u043c\u0435\u0441\u0442\u043e LSA 4 \u0418 5 \u043e\u043f\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e(!) </p>"},{"location":"Networks/OSPF/LSA_and_areas/#totally","title":"Totally","text":"<p>\u0420\u0435\u0430\u043b\u0438\u0437\u0443\u0435\u0442\u0441\u044f \u043a\u043e\u043c\u0430\u043d\u0434\u043e\u0439 <code>no-summary</code> \u043d\u0430 ABR. ABR \u043d\u0430\u0447\u0438\u043d\u0430\u0435\u0442 LSA 3 \u0442\u0430\u043a\u0436\u0435 \u0437\u0430\u043c\u0435\u043d\u044f\u0442\u044c \u043d\u0430 default route.</p>"},{"location":"Networks/OSPF/troubleshoot/","title":"Troubleshooting","text":""},{"location":"Networks/OSPF/troubleshoot/#_1","title":"\u041d\u0435 \u0443\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u0441\u043e\u0441\u0435\u0434\u0441\u0442\u0432\u043e","text":"<ul> <li><code>sh ip ospf nei</code></li> <li>\u0421\u043e\u0441\u0435\u0434 \u0435\u0441\u0442\u044c, \u043d\u043e \u0437\u0430\u0441\u0442\u0440\u0435\u0432\u0430\u0435\u0442 \u0432 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0438 ExChange \u0438\u043b\u0438 ExStart = \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u0435\u0442 MTU</li> <li>\u0421\u043e\u0441\u0435\u0434 \u043f\u0438\u043d\u0433\u0443\u0435\u0442\u0441\u044f?</li> <li><code>sh ip ospf int br</code></li> <li>\u0418\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441 \u0435\u0441\u0442\u044c \u0432 \u0441\u043f\u0438\u0441\u043a\u0435?</li> <li>\u041d\u043e\u043c\u0435\u0440\u0430 \u0437\u043e\u043d \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442?</li> <li>\u0418\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u044b \u0441\u043e\u0441\u0435\u0434\u0435\u0439 \u0432 \u043e\u0434\u043d\u043e\u0439 \u043f\u043e\u0434\u0441\u0435\u0442\u0438?</li> <li><code>sh ip ospf int &lt;\u0438\u043c\u044f_\u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430&gt;</code></li> <li>\u0422\u0430\u0439\u043c\u0435\u0440\u044b \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442?</li> <li>\u041f\u0440\u0438 \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 \u043f\u043e \u043f\u0430\u0440\u043e\u043b\u044e \u0441 \u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u0438\u0435\u043c \u0431\u0443\u0434\u0435\u0442 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 <code>Message digest authentication enabled</code> \u0438 \u0443\u043a\u0430\u0437\u0430\u043d\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043a\u043b\u044e\u0447\u0430 \u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u0438\u044f</li> <li>\u041f\u0440\u0438\u043c\u0435\u043d\u044f\u0435\u0442\u0441\u044f \u043b\u0438 \u043a \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0443 <code>inbound ACL</code>? \u041d\u0435 \u043e\u0442\u0444\u0438\u043b\u044c\u0442\u0440\u043e\u0432\u044b\u0432\u0430\u0435\u0442 \u043b\u0438 \u0447\u0435\u0433\u043e \u043b\u0438\u0448\u043d\u0435\u0433\u043e? <code>outbound ACL</code> \u043d\u0435 \u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442 \u0432\u043b\u0438\u044f\u043d\u0438\u044f \u043d\u0430 OSPF.</li> <li>MTU?</li> <li>Network type \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u0435\u0442?</li> <li><code>sh ip ospf</code></li> <li>\u0422\u0438\u043f\u044b \u0437\u043e\u043d \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442?</li> <li>\u0413\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u0430\u044f \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 \u0432\u0435\u0440\u043d\u0430\u044f?   <code>Area has message digest authentication</code> - \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043f\u0440\u0438 \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 \u043f\u043e \u043f\u0430\u0440\u043e\u043b\u044e \u0431\u0435\u0437 \u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u0438\u044f (<code>plaintext</code>)   <code>Area has no authentication</code> - \u0431\u0435\u0437 \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 \u0432\u043e\u043e\u0431\u0449\u0435 \u0438\u043b\u0438 \u043f\u043e \u0437\u0430\u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u043c\u0443 \u043f\u0430\u0440\u043e\u043b\u044e</li> <li><code>sh ip prot</code></li> <li>\u0418\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441 \u043d\u0435 \u043f\u0430\u0441\u0441\u0438\u0432\u043d\u044b\u0439?</li> <li>RID-\u044b \u0443\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u0435?</li> </ul>"},{"location":"Networks/OSPF/troubleshoot/#_2","title":"\u041d\u0435 \u043f\u043e\u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043c\u0430\u0440\u0448\u0440\u0443\u0442","text":"<ul> <li><code>sh ip prot</code></li> <li>\u041d\u0443\u0436\u043d\u0430\u044f \u043f\u043e\u0434\u0441\u0435\u0442\u044c \u0443\u0447\u0430\u0441\u0442\u0432\u0443\u0435\u0442 \u0432 OSPF \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0435, \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0439 \u0435\u0439 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441 \u0442\u043e\u0436\u0435 \u0443\u0447\u0430\u0441\u0442\u0432\u0443\u0435\u0442.</li> <li>\u041d\u0435 \u043f\u0440\u0438\u043c\u0435\u043d\u044f\u0435\u0442\u0441\u044f \u043b\u0438 \u043a\u0430\u043a\u043e\u0439-\u043b\u0438\u0431\u043e filter list?</li> <li>\u0412 \u0442\u043e\u043f\u043e\u043b\u043e\u0433\u0438\u0438 \u0435\u0441\u0442\u044c \u043c\u0430\u0440\u0448-\u044b \u0441 \u043e\u0434\u0438\u043d\u0430\u043a\u043e\u0432\u044b\u043c RID.</li> <li>\u041f\u0440\u0435\u0432\u044b\u0448\u0435\u043d\u0430 \u0447\u0438\u0441\u043b\u043e \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u043e\u0432 \u0441 \u043e\u0434\u0438\u043d\u0430\u043a\u043e\u0432\u043e\u0439 \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c\u044e (ECMP)</li> <li>\u0421\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442 \u043c\u0430\u0440\u0448\u0440\u0443\u0442 \u043f\u043e \u043f\u0440\u043e\u0442\u043e\u043a\u043e\u043b\u0443 \u0441 \u043c\u0435\u043d\u044c\u0448\u0438\u043c AD.</li> <li><code>sh ip ospf</code></li> <li><code>stub</code> \u0438 <code>nssa</code>(LSA4,5 - external routes), <code>no summary</code> (+LSA3 - \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u044b \u0434\u0440\u0443\u0433\u0438\u0445 \u0437\u043e\u043d) \u043e\u0442\u0444\u0438\u043b\u044c\u0442\u0440\u043e\u0432\u044b\u0432\u0430\u044e\u0442 \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u044b \u0438\u043b\u0438 \u0430\u043d\u043e\u043d\u0441\u044f\u0442 \u0441\u0435\u0431\u044f \u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 default gateway.</li> <li>\u0418\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441 \u0430\u043d\u043e\u043d\u0441\u0438\u0440\u0443\u0435\u043c\u043e\u0439 \u043f\u043e\u0434\u0441\u0435\u0442\u0438 \u0432 <code>DOWN</code>.</li> <li><code>sh ip ospf int &lt;\u0438\u043c\u044f_\u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430&gt;</code></li> <li>\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0432\u0435\u0440\u043d\u044b\u0439 DR? \u0410\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0445 hub-and-spoke \u0442\u043e\u043f\u043e\u043b\u043e\u0433\u0438\u0439 (VPLS, DMVPN). Spoke \u043d\u0435 \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c DR</li> </ul>"},{"location":"Networks/OSPF/troubleshoot/#_3","title":"\u0413\u0434\u0435 \u0435\u0449\u0435 \u043c\u043e\u0436\u043d\u043e \u043a\u0430\u0441\u044f\u0447\u0438\u0442\u044c","text":"<ul> <li>\u0421\u0443\u043c\u043c\u0430\u0440\u0438\u0437\u0430\u0446\u0438\u044f:</li> <li>\u041d\u0435 \u0442\u043e\u0442 \u0440\u043e\u0443\u0442\u0435\u0440</li> <li>\u041d\u0435 \u0442\u0430 \u0437\u043e\u043d\u0430 </li> <li>\u041d\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u0441\u0443\u043c\u043c\u0430\u0440\u0438\u0437\u0438\u0440\u0443\u044e\u0449\u0438\u0439 \u043c\u0430\u0440\u0448\u0440\u0443\u0442</li> <li>\u041f\u0443\u0442\u0430\u043d\u0438\u0446\u0430 \u0441 \u0437\u043e\u043d\u0430\u043c\u0438</li> <li>\u041d\u0435 \u0431\u044d\u043a\u0431\u043e\u043d \u0437\u043e\u043d\u044b \u0441\u043e\u0441\u0435\u0434\u0441\u0442\u0432\u0443\u044e\u0442 \u043d\u0430\u043f\u0440\u044f\u043c\u0443\u044e, \u0430 \u043d\u0435 \u0447\u0435\u0440\u0435\u0437 \u0437\u043e\u043d\u0443 0</li> <li>\u0417\u043e\u043d\u0430 0 \u043d\u0435 \u0441\u043f\u043b\u043e\u0448\u043d\u0430\u044f, \u0438\u043c\u0435\u0435\u0442 \u0440\u0430\u0437\u0440\u044b\u0432\u044b</li> <li>\u0414\u044d\u0444\u043e\u043b\u0442\u043d\u044b\u0439 \u043c\u0430\u0440\u0448\u0440\u0443\u0442 \u0440\u0435\u0434\u0438\u0441\u0442\u0440\u0438\u0431\u044c\u044e\u0442\u0438\u0442\u0441\u044f \u0432 OSPF-\u043f\u0440\u043e\u0446\u0435\u0441\u0441 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u043e\u0439 \u043a\u043e\u043c\u0430\u043d\u0434\u043e\u0439, \u0430 \u043d\u0435 \u0447\u0435\u0440\u0435\u0437 <code>redistribute static</code>.</li> </ul>"},{"location":"Networks/STP/common/","title":"STP","text":"<p>\u0422\u043e\u043f\u043e\u043b\u043e\u0433\u0438\u044f \u0441\u0442\u0440\u043e\u0438\u0442\u0441\u044f \u043e\u0442\u043d\u043e\u0441\u0438\u0442\u0435\u043b\u044c\u043d\u043e root bridge Root-\u043e\u043c \u0432\u044b\u0431\u0438\u0440\u0430\u0435\u0442\u0441\u044f \u0441\u0432\u0438\u0447 \u0441 \u043d\u0430\u0438\u043c\u0435\u043d\u044c\u0448\u0438\u043c bridge priority \u0415\u0441\u043b\u0438 \u0435\u0441\u0442\u044c \u0441\u0432\u0438\u0447\u0438 \u0441 \u043e\u0434\u0438\u043d\u0430\u043a\u043e\u0432\u044b\u043c bridge priority, \u0442\u043e \u0440\u0443\u0442 \u0432\u044b\u0431\u0438\u0440\u0430\u0435\u0442\u0441\u044f \u043f\u043e \u043d\u0430\u0438\u043c\u0435\u043d\u044c\u0448\u0435\u043c\u0443 \u043c\u0430\u043a\u0443  \u0420\u043e\u043b\u0438 \u043f\u043e\u0440\u0442\u043e\u0432 (RSTP):  </p> Role \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 Root \u041f\u043e\u0440\u0442 \u0447\u0435\u0440\u0435\u0437 \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043b\u0435\u0436\u0438\u0442 \u043a\u0440\u0430\u0442\u0447\u0430\u0439\u0448\u0438\u0439 \u043f\u0443\u0442\u044c \u0434\u043e \u0440\u0443\u0442\u0430 Designated \u041d\u0435-\u0440\u0443\u0442 \u043f\u043e\u0440\u0442\u044b. \u0422\u0440\u0430\u0444\u0438\u043a \u043f\u0440\u043e\u043f\u0443\u0441\u043a\u0430\u0435\u0442\u0441\u044f Alternate \u0417\u0430\u043f\u0430\u0441\u043d\u043e\u0439 root-\u043f\u043e\u0440\u0442. \u041f\u0440\u0438 \u043f\u0430\u0434\u0435\u043d\u0438\u0438 \u0440\u0443\u0442\u0430, \u0441\u0430\u043c \u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0441\u044f \u0440\u0443\u0442\u043e\u043c. \u0422\u0440\u0430\u0444\u0438\u043a \u043d\u0435 \u043f\u0440\u043e\u043f\u0443\u0441\u043a\u0430\u0435\u0442 Blocked \u0417\u0430\u043f\u0430\u0441\u043d\u043e\u0439 designated-\u043f\u043e\u0440\u0442. \u0412\u0441\u0435 \u0430\u043d\u0430\u043b\u043e\u0433\u0438\u0447\u043d\u043e alternate-\u043f\u043e\u0440\u0442\u0443 <p>  \u041f\u043e\u0440\u044f\u0434\u043e\u043a \u0432\u044b\u0431\u043e\u0440\u0430 root-\u043f\u043e\u0440\u0442\u0430: 1. \u041d\u0430\u0438\u043c\u0435\u043d\u044c\u0448\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u043f\u0443\u0442\u0438 \u0434\u043e \u0440\u0443\u0442-\u0431\u0440\u0438\u0434\u0436\u0430 2. Lowest sender bridge ID 3. Lowest sender port ID</p> <p>\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u043f\u0443\u0442\u0438 \u0440\u0430\u0441\u0447\u0438\u0442\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u043f\u043e \u0441\u0443\u043c\u043c\u0435 \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u0438 \u043b\u0438\u043d\u043a\u043e\u0432 \u0434\u043e \u0440\u0443\u0442-\u0441\u0432\u0438\u0447\u0430. \u0427\u0435\u043c \u043d\u0438\u0436\u0435 \u0441\u043a\u043e\u0440\u043e\u0441\u0442\u044c \u043f\u043e\u0440\u0442\u0430, \u0442\u0435\u043c \u0432\u044b\u0448\u0435 \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u043b\u0438\u043d\u043a\u0430 \u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u043b\u0438\u043d\u043a\u043e\u0432 \u043f\u043e-\u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e (\u0434\u043b\u044f RSTP/MSTP):  </p> \u0421\u043a\u043e\u0440\u043e\u0441\u0442\u044c \u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c 4 Mbit/s 5000000 10 Mbit/s 2000000 16 Mbit/s 1250000 100 Mbit/s 200000 1 Gbit/s 20000 2 Gbit/s 10000 10 Gbit/s 2000 100 Gbit/s 200 1 Tbit/s 20 <p></p>"},{"location":"Networks/STP/mstp/","title":"STP \u2192 MST","text":""},{"location":"Networks/STP/mstp/#stp","title":"STP \u0441\u0443\u0449\u043d\u043e\u0441\u0442\u0438:","text":"<ul> <li>Common Spanning Tree (CST) - \u043e\u0431\u0449\u0438\u0439 \u0434\u043e\u043c\u0435\u043d, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0432\u043a\u043b\u044e\u0447\u0430\u0435\u0442 \u0432 \u0441\u0435\u0431\u044f \u0432\u0441\u0435 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430 \u0441 STP \u043b\u044e\u0431\u044b\u0445 \u0432\u0435\u0440\u0441\u0438\u0439</li> <li>MST \u0440\u0435\u0433\u0438\u043e\u043d - \u043e\u0431\u044a\u0435\u0434\u0438\u043d\u044f\u0435\u0442 MST-\u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430 \u0441 \u043e\u0434\u0438\u043d\u0430\u043a\u043e\u0432\u044b\u043c \u0438\u043c\u0435\u043d\u0435\u043c MST</li> <li>Multiple Spanning Tree Instance(s) (MSTIs) - \u0434\u0435\u0440\u0435\u0432\u044c\u044f \u0432 \u043f\u0440\u0435\u0434\u0435\u043b\u0430\u0445 \u0440\u0435\u0433\u0438\u043e\u043d\u0430 \u0434\u043b\u044f \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u043d\u0430\u0431\u043e\u0440\u0430 \u0432\u043b\u0430\u043d\u043e\u0432</li> </ul> <p>\u0412 \u0446\u0435\u043b\u043e\u043c CST-\u0434\u043e\u043c\u0435\u043d \u0432\u043e\u0441\u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u0442 MST-\u0440\u0435\u0433\u0438\u043e\u043d \u043a\u0430\u043a \u043e\u0434\u043d\u043e \u0435\u0434\u0438\u043d\u043e\u0435 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u043e: </p>"},{"location":"Networks/STP/mstp/#mst-pvst","title":"\u0412\u0430\u0440\u0438\u0430\u043d\u0442\u044b \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 \u0441\u0445\u0435\u043c\u044b MST \u0441 PVST+","text":""},{"location":"Networks/STP/mstp/#_1","title":"\u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u043c\u044b\u0439 \u0432\u0430\u0440\u0438\u0430\u043d\u0442:","text":"<p>MST \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0440\u0443\u0442\u043e\u043c \u0434\u043b\u044f \u0432\u0441\u0435\u0433\u043e CST </p>"},{"location":"Networks/STP/mstp/#_2","title":"\u0414\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b\u0439, \u043d\u043e \u043d\u0435 \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u043c\u044b\u0439 \u0432\u0430\u0440\u0438\u0430\u043d\u0442:","text":"<p>\u0420\u0443\u0442\u043e\u043c CST \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u043e \u0437\u0430 \u043f\u0440\u0435\u0434\u0435\u043b\u0430\u043c\u0438 MST-\u0440\u0435\u0433\u0438\u043e\u043d\u0430 </p>"},{"location":"Networks/STP/mstp/#_3","title":"\u041e\u0448\u0438\u0431\u043e\u0447\u043d\u0430\u044f \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f:","text":"<p>PVST+ \u0438 MST-\u0440\u0443\u0442\u044b \u044f\u0432\u043b\u044f\u044e\u0442\u0441\u044f \u0440\u0443\u0442\u0430\u043c\u0438 \u043d\u0435 \u0434\u043b\u044f \u0432\u0441\u0435\u0445 \u0432\u043b\u0430\u043d\u043e\u0432 </p>"},{"location":"Networks/VLANs/common/","title":"VLANs","text":"<p>\u0417\u0430\u0447\u0435\u043c? \u0414\u043b\u044f \u0441\u0435\u0433\u043c\u0435\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0448\u0438\u0440\u043e\u043a\u043e\u0432\u0435\u0449\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0433\u043e (L2) \u0434\u043e\u043c\u0435\u043d\u0430  </p> <p>\u041c\u0435\u0442\u043e\u0434\u044b \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0432\u043b\u0430\u043d\u0430:   * port-based   * MAC-based   * protocol-based (\u043f\u043e L3-\u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0430\u043c, \u0447\u0442\u043e\u0431\u044b \u0440\u0430\u0437\u043b\u0438\u0447\u0438\u0442\u044c ipv4, ipv6, arp \u0438 \u0442.\u0434.)   * based on IP subnets (router-on-a-stick)  </p> <p>ISL - \u043f\u0440\u043e\u043f\u0440\u0438\u0435\u0442\u0430\u0440\u043d\u044b\u0439 cisco \u0441\u043f\u043e\u0441\u043e\u0431 \u0442\u044d\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0442\u0440\u0430\u0444\u0438\u043a\u0430 </p> <p>Best practice:   * \u042e\u0437\u0430\u0442\u044c voice vlan \u0434\u043b\u044f IP-\u0442\u043b\u0444   * \u0411\u043e\u0440\u0435\u043c\u0441\u044f \u0441 vlan-hopping:     * \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c \u0441\u0442\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0440\u0435\u0436\u0438\u043c \u043f\u043e\u0440\u0442\u0430 (sw mode acc, tru; sw noneg)     * \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c vlan 1 \u043d\u0430 \u0442\u0440\u0430\u043d\u043a\u043e\u0432\u044b\u0445 \u043f\u043e\u0440\u0442\u0430\u0445 \u043c\u0435\u0436\u0434\u0443 \u0441\u0432\u0438\u0447\u0430\u043c\u0438 (\u0441\u043f\u043e\u0440\u043d\u043e)     * \"Dead End\" \u0432\u043b\u0430\u043d \u0434\u043b\u044f \u043d\u0435\u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u044b\u0445 \u043f\u043e\u0440\u0442\u043e\u0432   * port security   * dhcp snooping (\u0432\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u043e, \u043d\u0430\u0437\u043d\u0430\u0447\u0438\u0442\u044c trusted/untrusted \u043f\u043e\u0440\u0442\u044b)   * \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0438\u0437\u043e\u043b\u044f\u0446\u0438\u044e \u043f\u043e\u0440\u0442\u043e\u0432 (private vlans, protected ports)</p>"},{"location":"Networks/VLANs/vtp/","title":"VTP","text":"<p>Cisco-\u043f\u0440\u043e\u0442\u043e\u043a\u043e\u043b \u0434\u043b\u044f \u0440\u0430\u0441\u043f\u0440\u043e\u0441\u0442\u0440\u0430\u043d\u0435\u043d\u0438\u0438 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e \u0441\u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0445 \u0432\u043b\u0430\u043d\u0430\u0445 Server - \u043c\u043e\u0436\u043d\u043e \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432\u043b\u0430\u043d\u044b, \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u0440\u0430\u0441\u043f\u0440\u043e\u0441\u0442\u0440\u0430\u043d\u044f\u0435\u0442\u0441\u044f \u043f\u043e vtp * Client - \u043d\u0435\u043b\u044c\u0437\u044f \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c, \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u0442\u0441\u044f \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u043e vtp * Transparent* - \u043c\u043e\u0436\u043d\u043e \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c, \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043f\u043e vtp \u0441\u0430\u043c\u0438\u043c \u0441\u0432\u0438\u0447\u043e\u043c \u0438\u0433\u043d\u043e\u0440\u0438\u0440\u0443\u0435\u0442\u0441\u044f, \u043d\u043e \u043f\u0435\u0440\u0435\u0434\u0430\u0435\u0442\u0441\u044f \u0434\u0440\u0443\u0433\u0438\u043c \u0447\u043b\u0435\u043d\u0430\u043c vtp </p>"},{"location":"Networks/VLANs/vtp/#vtp-advertisements","title":"VTP advertisements \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442:","text":"<ul> <li>VLAN ID </li> <li>VTP Domain Name </li> <li>VTP Password </li> <li>VTP configuration revision number </li> <li>VLAN configuration  </li> </ul>"},{"location":"Networks/VLANs/vtp/#vtp-pruning","title":"VTP Pruning:","text":"<p>\u041c\u0443\u0442\u043d\u0430\u044f \u0445\u043d\u044f. \u041d\u0435 \u0434\u0430\u0451\u0442 \u0444\u043b\u0443\u0434\u0438\u0442\u044c \u0431\u0440\u043e\u0434\u043a\u0430\u0441\u0442\u043e\u043c, \u0435\u0441\u043b\u0438 \u043d\u0430 \u0441\u0432\u0438\u0447\u0435 \u043d\u0435\u0442 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432 \u0432\u043b\u0430\u043d\u0430. \u0418\u043d\u0444\u0430 \u043e\u0431 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u043a\u043b\u0438\u0435\u043d\u0442\u0430\u0445 \u0440\u0430\u0441\u043f\u0440\u043e\u0441\u0442\u0440\u0430\u043d\u044f\u0435\u0442\u0441\u044f \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439 VTP Join. </p>"},{"location":"Networks/VLANs/vtp/#vtp-v3-improvements","title":"VTP v3 improvements:","text":"<ul> <li>\u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 \u0432\u043b\u0430\u043d\u044b \u0438\u0437 \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d\u0430 1000+</li> <li>\u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 private \u0432\u043b\u0430\u043d\u044b</li> <li>\u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e \u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f \u0441\u0435\u0440\u0432\u0435\u0440\u043d\u044b\u0445 \u0440\u043e\u043b\u0435\u0439 \u043d\u0430 primary \u0438 secondary. Secondary - \u0431\u044d\u043a\u0430\u043f\u0438\u0442 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u0441 primary </li> </ul>"},{"location":"Networks/VLANs/vtp/#_1","title":"\u0411\u0430\u0437\u043e\u0432\u0430\u044f \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f:","text":"<p><pre><code>config t\nfeature vtp\nvtp domain *domain-name*\nvtp version {1 | 2}\nvtp mode {client | server| transparent| off}\nvtp file *file-name*\nvtp password *password-value*\nexit\n</code></pre> </p>"},{"location":"Networks/VLANs/vtp/#_2","title":"\u0422\u0440\u0430\u0431\u043b\u0448\u0443\u0442\u0438\u043d\u0433:","text":"<ol> <li><code>show vlan brief</code>  # \u0447\u0435\u043a\u043d\u0443\u0442\u044c \u0447\u0442\u043e \u043d\u0430 \u0432\u0441\u0435\u0445 \u0441\u0432\u0438\u0447\u0430\u0445 \u0434\u043e\u043c\u0435\u043d\u0430 \u043e\u0434\u0438\u043d\u0430\u043a\u043e\u0432\u044b\u0435 \u0432\u043b\u0430\u043d\u044b</li> <li><code>show vtp status</code>  # \u0447\u0435\u043a\u043d\u0443\u0442\u044c \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0441\u0442\u044c \u0440\u043e\u043b\u0438 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430 \u0438 \u0438\u043c\u0435\u043d\u0438 vtp-\u0434\u043e\u043c\u0435\u043d\u0430</li> <li><code>show vtp pass</code>    # \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0441\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044f</li> </ol>"},{"location":"Networks/VPN/dmvpn/","title":"DMVPN","text":"<p>\u0424\u0430\u0437\u044b: 1. \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u0442\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0445 hub-spoke \u0442\u0443\u043d\u0435\u043b\u0435\u0439 2. \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0434\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0438\u0445 spoke-to-spoke \u0442\u0443\u043d\u0435\u043b\u0435\u0439 (mGRE) 3. \u041d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0442\u0440\u0430\u0444\u0438\u043a\u0430 \u043f\u043e spoke-to-spoke \u0442\u0443\u043d\u0435\u043b\u044e (NHRP (Next Hop Resolution Protocol)) </p>"},{"location":"Networks/VPN/dmvpn/#hub-configuration","title":"Hub configuration","text":"<p><pre><code>int tun &lt;\u043d\u043e\u043c\u0435\u0440_\u0442\u043e\u043d\u0435\u043b\u044f&gt;\n  tun so &lt;ip-\u0430\u0434\u0440\u0435\u0441_\u0438\u043b\u0438_\u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441&gt;\n  tun mode gre multi              # \u0432\u043a\u043b\u044e\u0447\u0430\u0435\u043c **mGRE**\n  ip add &lt;ip-\u0430\u0434\u0440\u0435\u0441 \u043c\u0430\u0441\u043a\u0430&gt;\n  ip nhrp network-id &lt;id&gt;         # \u043f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u044f\u0435\u043c \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441 \u043a **NHRP-\u0434\u043e\u043c\u0435\u043d\u0443**. ID \u0438\u043c\u0435\u0435\u0442 \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435, \u043d\u043e   \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043e\u0431\u0449\u0438\u0439 id \u043d\u0430 \u0432\u0441\u0435\u0445 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430\u0445 NHRP-\u0434\u043e\u043c\u0435\u043d\u0430\n  tunnel key &lt;\u0447\u0438\u0441\u043b\u043e&gt;              # *(\u043e\u043f\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e)* \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0440\u0430\u0437\u043b\u0438\u0447\u0430\u0442\u044c \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0442\u0443\u043d\u0435\u043b\u044c\u043d\u044b\u0445 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u043e\u0432 \u0441   \u043e\u0434\u0438\u043d\u0430\u043a\u043e\u0432\u044b\u043c tunnel source. \u0414\u043b\u044f \u0443\u0441\u043f\u0435\u0448\u043d\u043e\u0433\u043e \u043f\u043e\u0434\u043d\u044f\u0442\u0438\u044f \u0442\u0443\u043d\u0435\u043b\u044f \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0441 \u043e\u0431\u0435\u0438\u0445 \u0441\u0442\u043e\u0440\u043e\u043d \u0434\u043e\u043b\u0436\u043d\u043e \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u0442\u044c\n  ip nhrp map multicast dyn       # \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0438 NHRP \u0434\u043b\u044f **\u043c\u0443\u043b\u044c\u0442\u0438\u043a\u0430\u0441\u0442** \u0442\u0440\u0430\u0444\u0438\u043a\u0430\n  ip nhrp redir                   # \u0432\u043a\u043b\u044e\u0447\u0430\u0435\u0442 **phase 3** \n  band &lt;\u0441\u043a\u043e\u0440\u043e\u0441\u0442\u044c_\u0432_kbit/s&gt;\n  ip mtu &lt;\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435_MTU&gt;           # \u043e\u0431\u044b\u0447\u043d\u043e \u0434\u043b\u044f DMVPN \u0432\u044b\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0440\u0430\u0432\u043d\u044b\u043c **1400**\n  ip tcp adjust-mss &lt;\u0440\u0430\u0437\u043c\u0435\u0440_MSS&gt;  # **MSS (Maximum Segment Size)** - \u044d\u0442\u043e MTU \u0437\u0430 \u0432\u044b\u0447\u0435\u0442\u043e\u043c IP \u0438 TCP \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u043e\u0432. \u0414\u043b\u044f   DMVPN \u043a\u0430\u043a \u043f\u0440\u0430\u0432\u0438\u043b\u043e \u0443\u0441\u0442\u0430\u043d\u0432\u043b\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u0440\u0430\u0432\u043d\u044b\u043c **1360**, \u0447\u0442\u043e\u0431\u044b \u0432\u043c\u0435\u0441\u0442\u0438\u0442\u044c IP, GRE \u0438 IPsec \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0438\n</code></pre> </p>"},{"location":"Networks/VPN/dmvpn/#spoke-phase-1-configuration","title":"Spoke Phase 1 configuration","text":"<p><pre><code>int tun &lt;\u043d\u043e\u043c\u0435\u0440_\u0442\u043e\u043d\u0435\u043b\u044f&gt;\n  tun so &lt;ip-\u0430\u0434\u0440\u0435\u0441_\u0438\u043b\u0438_\u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441&gt;\n  tun dest &lt;ip-\u0430\u0434\u0440\u0435\u0441&gt;                                     # \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u043c underlay-IP \u0445\u0430\u0431\u0430\n  ip add &lt;ip-\u0430\u0434\u0440\u0435\u0441 \u043c\u0430\u0441\u043a\u0430&gt;\n  ip nhrp network-id &lt;id&gt;\n  tunnel key &lt;\u0447\u0438\u0441\u043b\u043e&gt;\n  ip nhrp nhs &lt;overlay-IP&gt; nbma &lt;underlay-IP&gt; [multicast] # \u044d\u0442\u043e\u0439 \u043a\u043e\u043c\u0430\u043d\u0434\u043e\u0439 \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u043c \u0434\u0430\u043d\u043d\u044b\u0435 \u0445\u0430\u0431\u0430 (NHRP-\u0441\u0435\u0440\u0432\u0435\u0440\u0430),   \u0435\u0433\u043e \u0442\u0443\u043d\u0435\u043b\u044c\u043d\u044b\u0439(overlay) \u0438 \u0432\u043d\u0435\u0448\u043d\u0438\u0439(underlay) IP. \u041a\u043e\u043c\u0430\u043d\u0434\u0430 *multicast* \u0432\u043a\u043b\u044e\u0447\u0430\u0435\u0442 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0443 \u043c\u0443\u043b\u044c\u0442\u0438\u043a\u0430\u0441\u0442-\u0442\u0440\u0430\u0444\u0438\u043a\u0430\n  band &lt;\u0441\u043a\u043e\u0440\u043e\u0441\u0442\u044c_\u0432_kbit/s&gt;\n  ip mtu 1400\n  ip tcp adjust-mss 1360\n</code></pre> </p>"},{"location":"Networks/VPN/dmvpn/#spoke-phase-2-configuration","title":"Spoke Phase 2 configuration","text":"<p><pre><code>tun mode gre multi  # \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c \u0432\u043c\u0435\u0441\u0442\u043e *tun dest*\n</code></pre> </p>"},{"location":"Networks/VPN/dmvpn/#phase-3-configuration","title":"Phase 3 configuration","text":"<p>\u0425\u0430\u0431: <pre><code>ip nhrp redirect\n</code></pre> Spoke: <pre><code>ip nhrp shortcut\n</code></pre> </p>"},{"location":"Networks/VPN/fvrf/","title":"FVRF","text":"<p>\u041f\u0440\u0438 \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 DMVPN \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0442 \u0434\u0432\u0435 \u043f\u043e\u0442\u0435\u043d\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0435 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u044b: 1. \u0420\u0435\u043a\u0443\u0440\u0441\u0438\u0432\u043d\u0430\u044f \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u0438\u0437\u0430\u0446\u0438\u044f. \u0412\u043e\u0437\u043d\u0438\u043a\u0430\u0435\u0442 \u0435\u0441\u043b\u0438 underlay-\u0441\u0435\u0442\u044c \u0430\u043d\u043e\u043d\u0441\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432 \u043f\u0440\u043e\u0446\u0435\u0441\u0441 \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u0438\u0437\u0430\u0446\u0438\u0438 \u0437\u0430\u043f\u0443\u0449\u0435\u043d\u043d\u044b\u0439 \u0432 overlay-\u0441\u0435\u0442\u0438 2. \u041f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u0432\u044b\u0431\u043e\u0440\u0430 \u0438\u0441\u0445\u043e\u0434\u044f\u0449\u0435\u0433\u043e \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430 \u0434\u043b\u044f \u0438\u043d\u043a\u0430\u043f\u0441\u0443\u043b\u044f\u0446\u0438\u0438: \u0412\u043e\u0437\u043d\u0438\u043a\u0430\u0435\u0442 \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u0435\u0441\u043b\u0438 underlay-IP GRE-\u0441\u043e\u0441\u0435\u0434\u0430 \u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d \u0447\u0435\u0440\u0435\u0437 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u043e\u0432 \u0441 \u043e\u0434\u0438\u043d\u0430\u043a\u043e\u0432\u043e\u0439 \u043c\u0435\u0442\u0440\u0438\u043a\u043e\u0439. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u043f\u0440\u0438 \u043d\u0430\u043b\u0438\u0447\u0438\u0438 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u043a \u0434\u0432\u0443\u043c ISP, \u0442\u0430\u0431\u043b\u0438\u0446\u0430 \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0434\u0432\u0430 \u0434\u044d\u0444\u043e\u043b\u0442\u043d\u044b\u0445 \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u0430 - \u043a \u043a\u0430\u0436\u0434\u043e\u043c\u0443 ISP \u0441\u0432\u043e\u0439.  </p> <p>\u041e\u0434\u043d\u0438\u043c \u0438\u0437 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u044b\u0445 \u0440\u0435\u0448\u0435\u043d\u0438\u0439 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u0435 Front Door VRF (FVRF). \u0421\u0443\u0442\u044c \u043f\u0440\u0438\u0451\u043c\u0430 - \u0440\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c WAN-\u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u044b \u0438 \u0442\u0443\u043d\u0435\u043b\u044c \u043f\u043e \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u043c vrf. <pre><code># \u041e\u0431\u044a\u044f\u0432\u043b\u044f\u0435\u043c vrf-\u044b\nvrf def INET1\n  address-fam ipv4\nvrf def INET2\n  address-fam ipv4\n\n# \u041d\u0430\u0437\u043d\u0430\u0447\u0430\u0435\u043c vrf-\u044b \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430\u043c\n# \u041f\u0440\u0438 \u043f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0438 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430 \u043a vrf, \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 ip-\u0430\u0434\u0440\u0435\u0441\u0430 \u0431\u0443\u0434\u0435\u0442 \u0443\u0434\u0430\u043b\u0435\u043d\u0430, \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u0432\u0435\u0441\u0442\u0438 \u0437\u0430\u043d\u043e\u0432\u043e\nint gi0/1\n  vrf for INET1\n  ip add &lt;ip mask|dhcp&gt;\nint gi0/2\n  vrf for INET2\n  ip add &lt;ip mask|dhcp&gt;\nint tun 1\n  tun vrf INET1 # \u0441\u0430\u043c \u0442\u0443\u043d\u0435\u043b\u044c \u0431\u0443\u0434\u0435\u0442 \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u0441\u044f \u0432 \u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u043e\u0439 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u0438\u0437\u0430\u0446\u0438\u0438, \u043d\u043e \u0441\u043c\u043e\u0436\u0435\u0442 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0442\u0430\u0431\u043b\u0438\u0446\u0435\u0439 \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u0438\u0437\u0430\u0446\u0438\u0438 *INET1* \u0434\u043b\u044f *tunnel so* \u0438 *tunnel dest*\n</code></pre> </p>"},{"location":"Networks/VPN/gre/","title":"GRE","text":"<p>  \u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f: 1. <pre><code>conf t\n  int tun &lt;\u043d\u043e\u043c\u0435\u0440_\u0442\u043e\u043d\u043d\u0435\u043b\u044f&gt;\n    tun so &lt;ip-\u0430\u0434\u0440\u0435\u0441_\u0438\u043b\u0438_\u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441&gt; # \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u043c \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441 (underlay), \u043d\u0430 \u043a\u043e\u0442\u043e\u0440\u043e\u043c \u0431\u0443\u0434\u0435\u0442 \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u0438\u0442\u044c \u0438\u043d\u043a\u0430\u043f\u0441\u0443\u043b\u044f\u0446\u0438\u044f/    \u0434\u0435\u043a\u0430\u043f\u0441\u0443\u043b\u044f\u0446\u0438\u044f GRE-\u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u043e\u0432 (ip src GRE-\u043f\u0430\u043a\u0435\u0442\u0430)\n    tun dest &lt;ip-\u0430\u0434\u0440\u0435\u0441&gt;             # ip dest GRE-\u043f\u0430\u043a\u0435\u0442\u0430\n    ip add &lt;ip-\u0430\u0434\u0440\u0435\u0441 \u043c\u0430\u0441\u043a\u0430&gt;         # ip overlay-\u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430 (\u0442.\u0435. \u0441\u0435\u0442\u0438 \u0441\u0430\u043c\u043e\u0433\u043e \u0442\u043e\u043d\u0435\u043b\u044f)\n    band &lt;\u0441\u043a\u043e\u0440\u043e\u0441\u0442\u044c_\u0432_kbit/s&gt;        # (\u043e\u043f\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e) \u043c\u043e\u0436\u043d\u043e \u043e\u0431\u044a\u044f\u0432\u0438\u0442\u044c (\u043d\u0435 \u0437\u0430\u0434\u0430\u0442\u044c!) \u0441\u043a\u043e\u0440\u043e\u0441\u0442\u044c \u043f\u043e\u0440\u0442\u0430 \u0434\u043b\u044f \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0433\u043e     \u0440\u0430\u0441\u0447\u0435\u0442\u0430 \u043f\u0443\u0442\u0438 \u043f\u0440\u043e\u0442\u043e\u043a\u043e\u043b\u0430\u043c\u0438 \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u0438\u0437\u0430\u0446\u0438\u0438\n    keep &lt;\u0441\u0435\u043a\u0443\u043d\u0434\u044b [\u0447\u0438\u0441\u043b\u043e_\u043f\u043e\u043f\u044b\u0442\u043e\u043a]&gt;  # (\u043e\u043f\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e) \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 keepalive \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043d\u0430\u043b\u0438\u0447\u0438\u0435 \u0441\u0432\u044f\u0437\u043d\u043e\u0441\u0442\u0438   \u0432   \u0442\u043e\u043d\u0435\u043b\u0435 \u0438 \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u0438\u0442\u044c \u0442\u043e\u043d\u0435\u043b\u044c \u0432 down, \u043f\u0440\u0438 \u0435\u0451 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0438\u0438. \u0411\u0435\u0437 keepalive \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441 \u0431\u0443\u0434\u0435\u0442 \u0432 up, \u043f\u043e\u043a\u0430 \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435   \u0435\u0441\u0442\u044c   \u043c\u0430\u0440\u0448\u0440\u0443\u0442 \u0434\u043e tunnel destination\n    ip mtu &lt;\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435_MTU&gt;           # \u0442\u0443\u043d\u0435\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0438 \u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0443\u0432\u0435\u043b\u0438\u0447\u0438\u0432\u0430\u044e\u0442 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0438, \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u0434\u0430\u0442\u044c     (\u0443\u043c\u0435\u043d\u044c\u0448\u0438\u0442\u044c) \u0440\u0430\u0437\u043c\u0435\u0440 MTU, \u0447\u0442\u043e\u0431\u044b \u0438\u0437\u0431\u0435\u0436\u0430\u0442\u044c \u0444\u0440\u0430\u0433\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u0438\n</code></pre>  2. \u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u0441\u0442\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u043c\u0430\u0440\u0448\u0440\u0443\u0442 \u0434\u043e tunnel destination ip, \u0435\u0441\u043b\u0438 \u043d\u0435 \u043f\u043e\u0434\u0445\u043e\u0434\u0438\u0442 \u0434\u044d\u0444\u043e\u043b\u0442\u043d\u044b\u0439 \u043c\u0430\u0440\u0448\u0440\u0443\u0442 3. \u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441 \u0442\u0443\u043d\u0435\u043b\u044f \u0432 \u043f\u0440\u043e\u0446\u0435\u0441\u0441 \u043f\u0440\u043e\u0442\u043e\u043a\u043e\u043b\u0430 \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u0438\u0437\u0430\u0446\u0438\u0438, \u0447\u0442\u043e\u0431\u044b \u0430\u043d\u043e\u043d\u0441\u0438\u0442\u044c \u0441\u0432\u043e\u0438 \u043f\u043e\u0434\u0441\u0435\u0442\u0438 \u0441\u043e\u0441\u0435\u0434\u0443 \u043f\u043e \u0442\u043e\u043d\u0435\u043b\u044e</p>"},{"location":"Networks/VPN/ipsec/","title":"IPsec","text":"<p>IPsec \u0441\u043e\u0441\u0442\u043e\u0438\u0442 \u0438\u0437 \u0442\u0440\u0435\u0445 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u043e\u0432:   * Security protocols - \u0441\u043f\u043e\u0441\u043e\u0431 \u0437\u0430\u0449\u0438\u0442\u044b \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438:     * Authentication Header - \u0441\u043e\u0437\u0434\u0430\u0451\u0442 \u0441\u0438\u0433\u043d\u0430\u0442\u0443\u0440\u0443, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0449\u0443\u044e\u0441\u044f \u0434\u043b\u044f \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c \u043f\u043e\u0434\u043b\u0438\u043d\u043d\u043e\u0441\u0442\u0438 \u0437\u0430\u0449\u0438\u0449\u0430\u0435\u043c\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445, \u0437\u0430\u0449\u0438\u0442\u0430 \u043e\u0442 \u043f\u043e\u0434\u043c\u0435\u043d\u044b \u0434\u0430\u043d\u043d\u044b\u0445     * ESP - \u0437\u0430\u0449\u0438\u0442\u0430 \u0434\u0430\u043d\u043d\u044b\u0445 \u043c\u0435\u0442\u043e\u0434\u043e\u043c \u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0441 \u043f\u043e\u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0439 \u0438\u043d\u043a\u0430\u043f\u0441\u0443\u043b\u044f\u0446\u0438\u0435\u0439:       * transport mode - \u0448\u0438\u0444\u0440\u0443\u0435\u0442\u0441\u044f \u0442\u043e\u043b\u044c\u043a\u043e payload       * tunnel mode - \u0448\u0438\u0444\u0440\u0443\u0435\u0442\u0441\u044f \u0432\u0435\u0441\u044c ip-\u043f\u0430\u043a\u0435\u0442 \u0432\u043c\u0435\u0441\u0442\u0435 \u0441 L3-\u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0430\u043c\u0438   * Key Management - \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043a\u043b\u044e\u0447\u0430\u043c\u0438 \u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u0438\u044f:     * \u043f\u043e-\u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e IPsec \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442 \u043f\u0440\u043e\u0442\u043e\u043a\u043e\u043b IKE/IKEv2   * Security Associations (SAs) - \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0441\u043e\u0433\u043b\u0430\u0441\u043e\u0432\u0430\u043d\u043d\u044b\u0445 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 \u0437\u0430\u0449\u0438\u0449\u0430\u0435\u043c\u043e\u0433\u043e \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f:     * IKE SA (control plane) - \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0441\u043e\u0433\u043b\u0430\u0441\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u0434\u043b\u044f key management \u0438 \u043c\u0435\u043d\u0435\u0434\u0436\u043c\u0435\u043d\u0442\u0430 IPsec SAs     * IPsec SA (data plane) - \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0441\u043e\u0433\u043b\u0430\u0441\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u043d\u0435\u043f\u043e\u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0435\u043d\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u0449\u0438\u0442\u044b \u0434\u0430\u043d\u043d\u044b\u0445 </p> <p> </p>"},{"location":"Networks/VPN/ipsec/#_1","title":"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430","text":""},{"location":"Networks/VPN/ipsec/#ikev2-keyring","title":"IKEv2 keyring","text":"<p><pre><code>crypto ikev2 keyring &lt;\u0438\u043c\u044f_\u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u044f&gt;  # \u0421\u043e\u0437\u0434\u0430\u0451\u043c \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u0439 PSK\n    peer &lt;name&gt;                         # \u0418\u043c\u044f \u043f\u0438\u0440\u0430\n    add &lt;network&gt; &lt;mask&gt;                # \u0417\u0430\u0434\u0430\u0451\u043c \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d \u0430\u0434\u0440\u0435\u0441\u043e\u0432, \u043a \u043a\u043e\u0442\u043e\u0440\u044b\u043c \u043f\u0440\u0438\u043c\u0435\u043d\u044f\u0435\u0442\u0441\u044f \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u0439, 0.0.0.0 0.0.0.0 - \u043b\u044e\u0431\u043e\u0439 IP\n    pre-shared-key &lt;\u043f\u0430\u0440\u043e\u043b\u044c&gt;             # \u0417\u0430\u0434\u0430\u0451\u043c \u0441\u0430\u043c \u043f\u0430\u0440\u043e\u043b\u044c\n</code></pre> </p>"},{"location":"Networks/VPN/ipsec/#ikev2-profile","title":"IKEv2 Profile","text":"<p><pre><code>crypto ikev2 profile &lt;\u0438\u043c\u044f_\u043f\u0440\u043e\u0444\u0438\u043b\u044f&gt;              # \u0421\u043e\u0437\u0434\u0430\u0451\u043c \u043f\u0440\u043e\u0444\u0438\u043b\u044c - \u043d\u0430\u0431\u043e\u0440 \u0437\u0430\u0434\u0430\u043d\u043d\u044b\u0445, \u043d\u0435 \u0442\u0440\u0435\u0431\u0443\u044e\u0449\u0438\u0445 \u0441\u043e\u0433\u043b\u0430\u0441\u043e\u0432\u0430\u043d\u0438\u044f \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u044b\u0445 \u0432 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0435 IKE security association (SA)\n    match ident rem add &lt;ip_address&gt;            # \u0417\u0430\u0434\u0430\u0451\u043c ip \u043f\u0438\u0440\u0430. 0.0.0.0 - \u043b\u044e\u0431\u043e\u0439 \u043f\u0438\u0440\n    match fvrf &lt;\u0438\u043c\u044f_vrf&gt;                        # \u0423\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u043c \u0435\u0441\u043b\u0438 \u0442\u0443\u043d\u0435\u043b\u0438 \u0440\u0430\u0431\u043e\u0442\u0430\u044e\u0442 \u0441 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435\u043c FVRF, *any* - \u0434\u043b\u044f \u043f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u043a \u043b\u044e\u0431\u043e\u043c\u0443 **FVRF**\n    auth local [pre-share|rsa-sig]              # \u0417\u0430\u0434\u0430\u0451\u043c \u0440\u0435\u0436\u0438\u043c \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 \u0434\u043b\u044f \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u043c\u044b\u0445 \u043e\u0442 \u043f\u0438\u0440\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432\n    auth rem [pre-share|rsa-sig]                # \u0417\u0430\u0434\u0430\u0451\u043c \u0440\u0435\u0436\u0438\u043c \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 \u0434\u043b\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u043c\u044b\u0445 \u043f\u0438\u0440\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432\n    keyring local &lt;\u0438\u043c\u044f_\u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u044f&gt;             # \u0421\u0432\u044f\u0437\u044b\u0432\u0430\u0435\u043c \u043f\u0440\u043e\u0444\u0438\u043b\u044c \u0441 keyring_\u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u0435\u043c\n</code></pre> </p>"},{"location":"Networks/VPN/ipsec/#ipsec-transform-set","title":"IPsec Transform Set","text":"<p>Transform set \u0437\u0430\u0434\u0430\u0451\u0442 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0438 \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 \u0442\u0440\u0430\u0444\u0438\u043a\u0430 <pre><code>crypto ipsec transform-set &lt;name&gt; &lt;esp_encrypt&gt; &lt;esp_auth&gt; &lt;ah_auth&gt;\n    mode [transport|tunnel]\n</code></pre> </p>"},{"location":"Networks/VPN/ipsec/#ipsec-profile","title":"IPsec Profile","text":"<p>\u0421\u0432\u044f\u0437\u044b\u0432\u0430\u0435\u0442 IPsec transform set \u0438 IKEv2-\u043f\u0440\u043e\u0444\u0438\u043b\u044c <pre><code>crypto ipsec profile &lt;name&gt;\n    set transform-set &lt;name&gt;\n    set ikev2-profile &lt;name&gt;\n</code></pre> \u041f\u0440\u0438\u043c\u0435\u043d\u044f\u0435\u043c \u043f\u0440\u043e\u0444\u0438\u043b\u044c \u043a \u0442\u0443\u043d\u0435\u043b\u044e <pre><code>int tun &lt;\u043d\u043e\u043c\u0435\u0440_\u0442\u0443\u043d\u0435\u043b\u044f&gt;\n    tun prot ipsec prof &lt;\u0438\u043c\u044f_ipsec_\u043f\u0440\u043e\u0444\u0438\u043b\u044f&gt; [shared]    # \u043a\u043e\u043c\u0430\u043d\u0434\u0430 *shared* \u043d\u0443\u0436\u043d\u0430 \u0432 \u0441\u043b\u0443\u0447\u0430\u044f\u0445, \u043a\u043e\u0433\u0434\u0430 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0442\u0443\u043d\u0435\u043b\u0435\u0439 \u043d\u0430 \u043e\u0434\u043d\u043e\u043c *underlay*-\u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0435\n</code></pre></p>"},{"location":"Networks/VPN/isakmp_example/","title":"ISAKMP Example","text":"<pre><code>crypto isakmp policy 10 # \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0444\u0430\u0437\u044b 1\n encr aes\n hash sha\n authentication pre-share\n group 2\n lifetime 86400\ncrypto isakmp key cisco address 10.1.23.3 # \u0412\u043d\u0435\u0448\u043d\u0438\u0439 \u0430\u0439\u043f\u0438 \u0441\u043e\u0441\u0435\u0434\u0430\n!\n!\ncrypto ipsec transform-set TS esp-aes esp-sha-hmac  # \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0444\u0430\u0437\u044b 2\n mode transport # \u0432\u043a\u043b\u044e\u0447\u0430\u0435\u043c \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u043d\u044b\u0439 \u0440\u0435\u0436\u0438\u043c \u0434\u043b\u044f \u0441\u043b\u0443\u0447\u0430\u0435\u0432 GRE over IPsec \u0438 VTI, \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0443\u043c\u0435\u043d\u044c\u0448\u0438\u0442\u044c \u0432\u0435\u043b\u0438\u0447\u0438\u043d\u0443 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u043e\u0432 \u043f\u043e \u0441\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u044e \u0441 \u0434\u044d\u0444\u043e\u043b\u0442\u043d\u044b\u043c \u0440\u0435\u0436\u0438\u043c\u043e\u043c tunnel\n!\ncrypto ipsec profile IPSECPROFILE\n set transform-set TS \n!\ninterface Tunnel1\n ip address 10.10.100.1 255.255.255.252 # \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439 \u0442\u0443\u043d\u0435\u043b\u044c\u043d\u044b\u0439 \u0430\u0434\u0440\u0435\u0441\n tunnel source GigabitEthernet0/1   # \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441, \u0441 \u043a\u043e\u0442\u043e\u0440\u043e\u0433\u043e \u0441\u0442\u0440\u043e\u0438\u043c \u0442\u0443\u043d\u0435\u043b\u044c\n tunnel mode ipsec ipv4         # \u0432\u043a\u043b\u044e\u0447\u0430\u0435\u043c \u0440\u0435\u0436\u0438\u043c VTI\n tunnel destination 10.1.23.3\n tunnel protection ipsec profile IPSECPROFILE\n!\n</code></pre>"},{"location":"Networks/VRRP/fortinet_example/","title":"VRRP \u2192 Fortinet","text":"<pre><code>config system interface\n    edit \"port2\"\n        config vrrp\n            edit 1                          # \u043c\u043e\u0436\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0441\u0443\u0449\u043d\u043e\u0441\u0442\u0435\u0439 \u043d\u0430 \u043e\u0434\u043d\u043e\u043c \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0435 \u0441 \u0440\u0430\u0437\u043d\u044b\u043c\u0438 IP, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0434\u043b\u044f \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u0431\u0430\u043b\u0430\u043d\u0441\u0438\u0440\u043e\u0432\u043a\u0438\n                set vrip 198.51.100.3       # \u0432\u0438\u0440\u0442\u0443\u0430\u043b\u044c\u043d\u044b\u0439 ip\n                set priority 120            # \u0437\u0430\u0434\u0430\u0451\u043c \u043f\u0440\u0438\u043e\u0440\u0438\u0442\u0435\u0442 \u043e\u0442 1 \u0434\u043e 255 \u0434\u043b\u044f \u0432\u044b\u0431\u043e\u0440\u0430 \u043c\u0430\u0441\u0442\u0435\u0440-\u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430. \u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043f\u043e-\u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e - 100. \u041c\u0430\u0441\u0442\u0435\u0440\u043e\u043c \u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0441\u044f \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u043e \u0441 \u0431\u043e\u043b\u044c\u0448\u0438\u043c \u043f\u0440\u0438\u043e\u0440\u0438\u0442\u0435\u0442\u043e\u043c\n                set vrdst 1.1.1.1 8.8.8.8   # \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f failover. \u0415\u0441\u043b\u0438 \u0430\u0434\u0440\u0435\u0441\u0430 \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b, \u0440\u043e\u0443\u0442\u0435\u0440 \u043f\u0435\u0440\u0435\u0441\u0442\u0430\u0451\u0442 \u0430\u043d\u043e\u043d\u0441\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0435\u0431\u044f \u043a\u0430\u043a \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0439 \u0440\u043e\u0443\u0442\u0435\u0440\n                set vrdst-priority 90       # \u044d\u0442\u043e\u0442 \u043f\u0440\u0438\u043e\u0440\u0438\u0442\u0435\u0442 \u043f\u0440\u0438\u0441\u0432\u043e\u0438\u0442 \u0441\u0435\u0431\u0435 \u0440\u043e\u0443\u0442\u0435\u0440 \u043f\u0440\u0438 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e\u0441\u0442\u0438 failover-\u0430\u0434\u0440\u0435\u0441\u043e\u0432\n            next\n            edit 2\n                set vrip 198.51.100.4\n                set priority 110\n                set vrdst 1.1.1.1 8.8.8.8\n                set vrdst-priority 90\n            next\n        end\n</code></pre>"},{"location":"Networks/Vendors/cisco/","title":"Cisco","text":""},{"location":"Networks/Vendors/cisco/#telnet-aaa-new-model","title":"\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f telnet \u0431\u0435\u0437 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f aaa new-model (\u043b\u043e\u0433\u0438\u043d\u0430):","text":"<p><pre><code>!\nline vty 0 4\n login\n password cisco\n transport input telnet\n!\n</code></pre> </p>"},{"location":"Networks/Vendors/cisco/#ipsec","title":"\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f <code>ipsec</code>:","text":"<p><pre><code>!\ncrypto isakmp policy 1\n encr aes\n hash sha256\n authentication pre-share\n group 14\ncrypto isakmp key &lt;\u043a\u043b\u044e\u0447&gt; address &lt;\u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0439_\u0432\u043d\u0435\u0448\u043d\u0438\u0439_ip&gt;\ncrypto isakmp keepalive 10 periodic\n!\n!\ncrypto ipsec transform-set AES-SHA esp-aes esp-sha256-hmac \n mode tunnel\n!\ncrypto ipsec profile VTI\n set transform-set AES-SHA \n set pfs group14\n!\ninterface Tunnel2\n ip address &lt;\u043b\u043e\u043a\u0430\u043b\u044c\u043d\u044b\u0439_ip_\u0442\u0443\u043d\u0435\u043b\u044f&gt; 255.255.255.252\n tunnel source Dialer1\n tunnel mode ipsec ipv4\n tunnel destination &lt;\u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0439_\u0432\u043d\u0435\u0448\u043d\u0438\u0439_ip&gt;\n tunnel protection ipsec profile VTI\n!\n</code></pre> </p>"},{"location":"Networks/Vendors/cisco/#_1","title":"\u0427\u0442\u043e\u0431\u044b \u0432 \u043b\u043e\u0433\u0430\u0445 \u0431\u044b\u043b\u043e \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e\u0435 \u0432\u0440\u0435\u043c\u044f:","text":"<p><code>service timestamps log datetime localtime show-timezone</code> </p>"},{"location":"Networks/Vendors/cisco/#cpu","title":"\u041c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433 \u0443\u0442\u0438\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u0440\u0435\u0441\u0443\u0440\u0441\u043e\u0432 (CPU, \u043f\u0430\u043c\u044f\u0442\u044c \u0438 \u0442.\u0434.):","text":"<p><code>sh processes</code> </p>"},{"location":"Networks/Vendors/cisco/#_2","title":"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0437\u0435\u0440\u043a\u0430\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f:","text":"<p><pre><code>configure terminal\nmonitor session 1 source interface &lt;source port&gt;\nmonitor session 1 destination interface &lt;destination port&gt;\nend\n</code></pre> </p>"},{"location":"Networks/Vendors/cisco/#asa","title":"ASA","text":"<p>\u0415\u0441\u0442\u044c Group Policy, \u0430 \u0435\u0441\u0442\u044c Connection Profile * Connection Profile \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u0442 \u0441\u043f\u043e\u0441\u043e\u0431 \u0438 \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f \u0434\u043b\u044f \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438: 2FA \u0438\u043b\u0438 \u043a\u0440\u0435\u0434\u044b, \u043d\u0430\u043b\u0438\u0447\u0438\u0435 \u0441\u0435\u0440\u0442\u043e\u0432 \u043d\u0430 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0435 * \u0420\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u0438\u044f (dns-\u0441\u0435\u0440\u0432\u0435\u0440\u0430, ACL, split-tunnel \u0438 \u0442.\u043f.), \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0443\u044e\u0442 \u0443\u0436\u0435 \u043f\u043e\u0441\u043b\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e\u0433\u043e \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u044e\u0442\u0441\u044f \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430\u043c\u0438 Group Policy </p>"},{"location":"Networks/Vendors/cisco/#wireless-lan-controller","title":"Wireless LAN Controller","text":""},{"location":"Networks/Vendors/cisco/#snmp","title":"SNMP","text":""},{"location":"Networks/Vendors/cisco/#_3","title":"\u0420\u0430\u0437\u0440\u0435\u0448\u0430\u0435\u043c \u0445\u043e\u0441\u0442\u0443 \u043e\u043f\u0440\u0430\u0448\u0438\u0432\u0430\u0442\u044c","text":"<p>\u041e\u0441\u043e\u0431\u0435\u043d\u043d\u043e\u0441\u0442\u044c \u0432 \u0442\u043e\u043c, \u0447\u0442\u043e \u043d\u0430 \u043a\u0430\u0436\u0434\u044b\u0439 \u043e\u043f\u0440\u043e\u0448\u0435\u043d\u043d\u044b\u0439 \u0445\u043e\u0441\u0442 (\u0438\u043b\u0438 \u043f\u043e\u0434\u0441\u0435\u0442\u044c) \u043d\u0443\u0436\u0435\u043d \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u044b\u0439 community. <code>public</code> \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043d\u0435\u043b\u044c\u0437\u044f \u0438 \u043d\u0435 \u043f\u043e\u043d\u044f\u0442\u043d\u043e \u043a\u0442\u043e \u043c\u043e\u0436\u0435\u0442 \u043f\u043e \u043d\u0435\u043c\u0443 \u043e\u043f\u0440\u0430\u0448\u0438\u0432\u0430\u0442\u044c. \u041f\u043e\u044d\u0442\u043e\u043c\u0443: <pre><code>config snmp community create public_new     # \u0441\u043e\u0437\u0434\u0430\u0451\u043c \u043a\u043e\u043c\u044c\u044e\u043d\u0438\u0442\u0438\nconfig snmp community accessmode ro public_new        # \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u043c \u0435\u043c\u0443 \u0440\u043e\u043b\u044c\nconfig snmp community ipaddr 192.168.5.25 255.255.255.255 public_new    # \u0440\u0430\u0437\u0440\u0435\u0448\u0430\u0435\u043c \u0445\u043e\u0441\u0442\u0443 \u0438\u043b\u0438 \u043f\u043e\u0434\u0441\u0435\u0442\u0438 \u0434\u043e\u0441\u0442\u0443\u043f\nconfig snmp community mode enable public_new    # \u0432\u043a\u043b\u044e\u0447\u0430\u0435\u043c\n</code></pre> \u0421\u043e\u043b\u044c \u0432 \u0442\u043e\u043c, \u0447\u0442\u043e \u0434\u043b\u044f \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u0433\u043e \u043a\u043e\u043c\u044c\u044e\u043d\u0438\u0442\u0438 \u043c\u043e\u0436\u043d\u043e \u0437\u0430\u0434\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u043e\u0434\u043d\u0443 \u043a\u043e\u043c\u0430\u043d\u0434\u0443 <code>config snmp community ipaddr</code>, \u0442.\u0435. \u043b\u0438\u0431\u043e \u0440\u0430\u0437\u0440\u0435\u0448\u0430\u0435\u0448\u044c \u0445\u043e\u0441\u0442\u0443, \u043b\u0438\u0431\u043e \u043f\u043e\u0434\u0441\u0435\u0442\u0438, \u043b\u0438\u0431\u043e \u0432\u0441\u0435\u043c (<code>0.0.0.0 0.0.0.0</code>), \u043d\u043e \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u043c \u0445\u043e\u0441\u0442\u0430\u043c \u0438\u043b\u0438 \u0440\u0430\u0437\u043d\u044b\u043c \u043f\u043e\u0434\u0441\u0435\u0442\u044f\u043c - \u043d\u0435\u043b\u044c\u0437\u044f </p>"},{"location":"Networks/Vendors/fortigate/","title":"Fortinet","text":""},{"location":"Networks/Vendors/fortigate/#-","title":"\u041e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0430\u0432\u0442\u043e-\u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f:","text":"<p><pre><code>config system central-management\n    set allow-push-configuration disable        # \u0437\u0430\u043f\u0440\u0435\u0449\u0430\u0435\u0442 \u0438\u0437\u043c\u0435\u043d\u044f\u0442\u044c \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e \u0438\u0437 \u043e\u0431\u043b\u0430\u043a\u0430 (\u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0441\u0442\u044c \u0421\u041f\u041e\u0420\u041d\u0410)\n    set allow-push-firmware disable             # \u0437\u0430\u043f\u0440\u0435\u0449\u0430\u0435\u0442 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u0430\u043b\u044f\u0442\u044c \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0440\u043e\u0448\u0438\u0432\u043a\u0438 \u043d\u0430 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430\n    set allow-remote-firmware-upgrade disable   # \u0437\u0430\u043f\u0440\u0435\u0449\u0430\u0435\u0442 \u0438\u043d\u0438\u0446\u0438\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0440\u043e\u0448\u0438\u0432\u043a\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u043e\nend\n\nconfig system fortiguard\n    set auto-firmware-upgrade disable   # \u043d\u0435 \u0440\u0430\u0437\u0440\u0435\u0448\u0430\u0435\u0442 \u0437\u0430\u043f\u0440\u0430\u0448\u0438\u0432\u0430\u0442\u044c \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u043e \u0441\u0442\u043e\u0440\u043e\u043d\u044b \u0441\u0430\u043c\u043e\u0433\u043e \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430\nend\n</code></pre> </p>"},{"location":"Networks/Vendors/fortigate/#_1","title":"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u0432\u0440\u0443\u0447\u043d\u0443\u044e","text":""},{"location":"Networks/Vendors/fortigate/#_2","title":"\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0440\u0435\u0436\u0438\u043c","text":"<pre><code>config system global\nset cfg-save manual\nend\n</code></pre>"},{"location":"Networks/Vendors/fortigate/#_3","title":"\u041a\u043e\u043c\u0430\u043d\u0434\u0430 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f","text":"<pre><code>exec cfg save\n</code></pre>"},{"location":"Networks/Vendors/fortigate/#_4","title":"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0442\u0430\u0439\u043c\u0430\u0443\u0442\u043e\u043c \u0441\u0435\u0441\u0441\u0438\u0439","text":"<pre><code>config system session-ttl\n    set default 3600    # \u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435\n    config port         # port-specific \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438\n        edit 7700       # id \u0435\u043b\u0435\u043c\u0435\u043d\u0442\u0430 (\u043d\u0435 \u043e\u0431\u044f\u0437\u0430\u043d \u0431\u044b\u0442\u044c \u0440\u0430\u0432\u0435\u043d \u043f\u043e\u0440\u0442\u0443)\n            set protocol 6          # \u043f\u0440\u043e\u0442\u043e\u043a\u043e\u043b, TCP=6, \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\n            set timeout 9000        # \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0442\u0430\u0439\u043c\u0430\u0443\u0442\u0430 \u0432 \u0441\u0435\u043a\u0443\u043d\u0434\u0430\u0445\n            set start-port 7700     # \u0437\u0430\u0434\u0430\u0435\u043c \u043f\u043e\u0440\u0442\u044b, \u043d\u0430 \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0440\u0430\u0441\u043f\u0440\u043e\u0441\u0442\u0440\u0430\u043d\u044f\u0435\u0442\u0441\u044f \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430\n            set end-port 7700\n        next\n    end\n</code></pre>"},{"location":"Networks/Vendors/fortigate/#radius-","title":"RADIUS-\u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f","text":"<p>\u041f\u0440\u0435\u0434\u043f\u043e\u043b\u0430\u0433\u0430\u0435\u0442\u0441\u044f, \u0447\u0442\u043e \u0441\u0430\u043c radius-\u0441\u0435\u0440\u0432\u0435\u0440 \u0443\u0436\u0435 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u0421\u043e\u0437\u0434\u0430\u0435\u043c admin-\u043f\u0440\u043e\u0444\u0438\u043b\u044c: <pre><code>    edit \"radius_user_access\"\n        set comments ''\n        set secfabgrp read\n        set ftviewgrp read\n        set authgrp read\n        set sysgrp read\n        set netgrp read\n        set loggrp read\n        set fwgrp read\n        set vpngrp read\n        set utmgrp read\n        set wifi read\n        set admintimeout-override disable\n        set system-diagnostics enable\n        set system-execute-ssh enable\n        set system-execute-telnet enable\n    next\n</code></pre> \u0421\u043e\u0437\u0434\u0430\u0435\u043c user-\u0433\u0440\u0443\u043f\u043f\u0443: <pre><code>    edit \"RADIUS_ro\"\n        set group-type firewall\n        set authtimeout 0\n        set auth-concurrent-override disable\n        set http-digest-realm ''\n        set member \"sw-nps\"\n        config match\n            edit 1\n                set server-name \"sw-nps\"\n                set group-name \"RADIUS_ro\"\n            next\n        end\n    next\n</code></pre> \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0430\u0434\u043c\u0438\u043d\u0441\u043a\u0443\u044e \u0443\u0447\u0435\u0442\u043a\u0443: <pre><code>    edit \"radius ro\"\n        set remote-auth enable\n        set trusthost1 0.0.0.0 0.0.0.0\n        set trusthost2 0.0.0.0 0.0.0.0\n        set trusthost3 0.0.0.0 0.0.0.0\n        set trusthost4 0.0.0.0 0.0.0.0\n        set trusthost5 0.0.0.0 0.0.0.0\n        set trusthost6 0.0.0.0 0.0.0.0\n        set trusthost7 0.0.0.0 0.0.0.0\n        set trusthost8 0.0.0.0 0.0.0.0\n        set trusthost9 0.0.0.0 0.0.0.0\n        set trusthost10 0.0.0.0 0.0.0.0\n        set ip6-trusthost1 ::/0\n        set ip6-trusthost2 ::/0\n        set ip6-trusthost3 ::/0\n        set ip6-trusthost4 ::/0\n        set ip6-trusthost5 ::/0\n        set ip6-trusthost6 ::/0\n        set ip6-trusthost7 ::/0\n        set ip6-trusthost8 ::/0\n        set ip6-trusthost9 ::/0\n        set ip6-trusthost10 ::/0\n        set accprofile \"radius_user_access\"\n        set comments ''\n        set vdom \"root\"\n        set schedule ''\n        set two-factor disable\n        set email-to ''\n        set sms-server fortiguard\n        set sms-phone ''\n        set guest-auth disable\n        set wildcard enable\n        set remote-group \"RADIUS_ro\"\n        set accprofile-override disable\n        set vdom-override disable\n    next\n</code></pre> </p>"},{"location":"Networks/Vendors/fortigate/#cli","title":"\u0417\u0430\u0445\u0432\u0430\u0442 \u0442\u0440\u0430\u0444\u0438\u043a\u0430 CLI","text":"<p><pre><code># diagnose sniffer packet &lt;interface&gt; '&lt;filter&gt;'\ndiagnose sniffer packet any 'host 192.168.71.6'\n</code></pre> </p>"},{"location":"Networks/Vendors/fortigate/#_5","title":"\u041e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u043f\u0440\u0438\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0433\u043e \u043e\u043a\u043d\u0430","text":"<pre><code>config system global\n    set gui-auto-upgrade-setup-warning disable\n    set gui-forticare-registration-setup-warning disable\nend\n</code></pre>"},{"location":"Networks/Vendors/pfSense/","title":"pfSense","text":"<p>\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0432\u0441\u0435 states \u0445\u043e\u0441\u0442\u0430 \u0432 \u0444\u0430\u0439\u043b: <pre><code>pfctl -vvss | grep &lt;IP_\u0445\u043e\u0441\u0442\u0430&gt; &gt; states.txt\n</code></pre> \u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c \u0432\u0441\u0435 states \u0445\u043e\u0441\u0442\u0430: <pre><code>pfctl -k &lt;IP_\u0445\u043e\u0441\u0442\u0430&gt;\n</code></pre> </p>"},{"location":"Networks/Vendors/pfSense/#_1","title":"\u0411\u0430\u043b\u0430\u043d\u0441\u0438\u0440\u043e\u0432\u043a\u0430 \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0438","text":"<p>\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438: <pre><code>netstat -Q\n</code></pre> \u041d\u0430\u0439\u0442\u0438 \u0441\u0442\u0440\u043e\u043a\u0438 \u0442\u0435\u043a\u0443\u0449\u0435\u0439 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438: <pre><code>sysctl -a | grep rss\n</code></pre> <pre><code>sysctl -a | grep isr\n</code></pre></p>"},{"location":"Networks/Vendors/pfSense/#_2","title":"\u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f","text":"<ol> <li>\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c RSS (\u0440\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u0442 \u043f\u043e\u0442\u043e\u043a\u0438 \u043f\u043e \u044f\u0434\u0440\u0430\u043c) <pre><code>hw.ix.enable_rss: 1\n</code></pre></li> <li>\u0417\u0430\u043a\u0440\u0435\u043f\u0438\u0442\u044c \u043f\u043e\u0442\u043e\u043a \u0437\u0430 \u044f\u0434\u0440\u043e\u043c (\u043d\u0435 \u043f\u0440\u043e\u0432\u0435\u0440\u0435\u043d\u043e): <pre><code>net.isr.bindthreads: 1\n</code></pre></li> <li>\u0421\u043d\u044f\u0442\u044c \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u0435 \u043d\u0430 \u0447\u0438\u0441\u043b\u043e \u043f\u043e\u0442\u043e\u043a\u043e\u0432 (\u043d\u0435 \u043f\u0440\u043e\u0432\u0435\u0440\u0435\u043d\u043e): <pre><code>net.isr.maxthreads: -1\n</code></pre></li> <li>\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0440\u0435\u0436\u0438\u043c \u043f\u043e\u0441\u0442\u043e\u044f\u043d\u043d\u043e\u0433\u043e \u0440\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u044f \u043f\u043e\u0442\u043e\u043a\u0430 \u043f\u043e \u043e\u0447\u0435\u0440\u0435\u0434\u044f\u043c \u044f\u0434\u0435\u0440: <pre><code>net.isr.dispatch: deferred\n</code></pre> \u0415\u0441\u0442\u044c \u0440\u0435\u0436\u0438\u043c <code>hybrid</code> \u043f\u043e \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u0438 \u0434\u043e\u043b\u0436\u0435\u043d \u043d\u0430\u0447\u0438\u043d\u0430\u0442\u044c \u0440\u0430\u0441\u043a\u0438\u0434\u044b\u0432\u0430\u0442\u044c \u043f\u043e\u0442\u043e\u043a \u043f\u043e \u044f\u0434\u0440\u0430\u043c \u0442\u043e\u043b\u044c\u043a\u043e \u0435\u0441\u043b\u0438 \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0435 \u044f\u0434\u0440\u043e \u043f\u043e\u0442\u043e\u043a\u0430 \u0437\u0430\u043d\u044f\u0442\u043e (\u043d\u0435 \u043f\u0440\u043e\u0432\u0435\u0440\u0435\u043d\u043e)</li> </ol>"},{"location":"Networks/Vendors/pfSense/#pf","title":"\u041f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 pf","text":"<p>\u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u0432 \u0444\u0430\u0439\u043b <code>/boot/loader.conf</code> \u0441\u0442\u0440\u043e\u043a\u0438: <pre><code>net.isr.bindthreads=\"1\"\nnet.isr.maxthreads=\"-1\"\nnet.isr.dispatch=\"hybrid\"\n</code></pre> </p>"},{"location":"Networks/Vendors/pfSense/#arp-","title":"\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c arp-\u0442\u0430\u0431\u043b\u0438\u0446\u0443:","text":"<pre><code>arp -a | grep &lt;MAC address&gt;\narp -a | grep &lt;hostname&gt;\n</code></pre>"},{"location":"Networks/Vendors/cisco/IOS-XE/netflow/","title":"Cisco \u2192 IOS XE \u2192 Netflow","text":""},{"location":"Networks/Vendors/cisco/IOS-XE/netflow/#asr-ios-xe-classic-record","title":"\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u0439 \u0440\u0430\u0431\u043e\u0447\u0438\u0439 \u043a\u043e\u043d\u0444\u0438\u0433 ASR IOS XE (classic record)","text":"<p><pre><code>flow exporter &lt;EXPORTER-NAME&gt;\n destination &lt;ip_netflow_\u043a\u043e\u043b\u043b\u0435\u043a\u0442\u043e\u0440\u0430&gt;\n transport udp &lt;\u043f\u043e\u0440\u0442_netflow_\u043a\u043e\u043b\u043b\u0435\u043a\u0442\u043e\u0440\u0430&gt;\n template data timeout 60   # \u043f\u043e\u043a\u0430 \u043a\u043e\u043b\u043b\u0435\u043a\u0442\u043e\u0440 \u043d\u0435 \u043f\u043e\u043b\u0443\u0447\u0438\u0442 \u0448\u0430\u0431\u043b\u043e\u043d, \u043e\u043d \u043d\u0435 \u0441\u043c\u043e\u0436\u0435\u0442 \u043f\u0430\u0440\u0441\u0438\u0442\u044c \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u043c\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435\n\nflow monitor &lt;MON-NAME&gt;\n exporter &lt;EXPORTER-NAME&gt;\n record netflow-original    # \u0432\u044b\u0431\u043e\u0440 \u0448\u0430\u0431\u043b\u043e\u043d\u0430 \u0441\u043e\u0431\u0438\u0440\u0430\u0435\u043c\u044b\u0445 \u043f\u043e\u043b\u0435\u0439\n\ninterface &lt;IF-NAME&gt;\n ip flow monitor &lt;MON-NAME&gt; input   # \u0432\u0435\u0448\u0430\u0435\u043c \u043d\u0430 \u0442\u0440\u0430\u0444\u0438\u043a, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0442\u0435\u0440\u043c\u0438\u043d\u0438\u0440\u0443\u0435\u0442\u0441\u044f \u043d\u0430 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0435\n</code></pre> <code>sh flow exporter &lt;EXPORTER-NAME&gt;</code> \u043f\u043e\u043a\u0430\u0436\u0435\u0442 <code>Source IP address</code>, \u0435\u0441\u043b\u0438 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e</p>"},{"location":"Networks/Vendors/cisco/IOS-XE/ospf/","title":"Cisco \u2192 IOS XE \u2192 OSPF","text":""},{"location":"Networks/Vendors/cisco/IOS-XE/ospf/#redistribute-static","title":"Redistribute static","text":"<pre><code>ip route &lt;\u043d\u043e\u043c\u0435\u0440_\u043f\u043e\u0434\u0441\u0435\u0442\u0438&gt; 255.255.255.0 &lt;\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u0439_ip_connected_\u043f\u043e\u0434\u0441\u0435\u0442\u0438&gt; name AWS\n\nip prefix-list s2o seq 5 permit &lt;\u043d\u043e\u043c\u0435\u0440_\u043f\u043e\u0434\u0441\u0435\u0442\u0438&gt;/24\n\nroute-map s2o permit 10\n match ip address prefix-list s2o\n\nrouter ospf 156\n redistribute static subnets route-map s2o\n</code></pre>"},{"location":"Networks/Vendors/cisco/NX-OS/multicast/","title":"Cisco \u2192 NX-OS \u2192 Multicast","text":""},{"location":"Networks/Vendors/cisco/NX-OS/multicast/#_1","title":"\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u043f\u043e\u0434\u043f\u0438\u0441\u043e\u043a:","text":"<p><pre><code>show ip igmp groups\n</code></pre> \u041c\u043e\u0436\u043d\u043e \u0438\u0441\u043a\u0430\u0442\u044c \u043f\u043e \u0430\u0434\u0440\u0435\u0441\u0443 \u0433\u0440\u0443\u043f\u043f\u044b, ip \u043f\u0440\u0438\u0435\u043c\u043d\u0438\u043a\u0430, \u0435\u0433\u043e \u0432\u0438\u043b\u0430\u043d\u0443 \u0438 \u0442.\u0434.</p>"},{"location":"Networks/Vendors/cisco/NX-OS/multicast/#igmp-snooping","title":"\u0422\u0440\u0430\u0431\u043b\u0448\u0443\u0442\u0438\u043d\u0433 (\u043f\u0440\u0435\u0434\u043f\u043e\u043b\u0430\u0433\u0430\u0435\u0442\u0441\u044f, \u0447\u0442\u043e igmp snooping \u0432\u043a\u043b\u044e\u0447\u0435\u043d)","text":"<ol> <li>\u0418\u043c\u0435\u044e\u0449\u0438\u043c\u0438\u0441\u044f \u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0430\u043c\u0438 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u043c \u0432 \u043a\u0430\u043a\u043e\u043c vlan \u0436\u0438\u0432\u0451\u0442 \u043f\u0440\u0438\u0451\u043c\u043d\u0438\u043a (ip arp \u0438 \u0442.\u043f.)</li> <li>\u0421\u043c\u043e\u0442\u0440\u0438\u043c \u0435\u0441\u0442\u044c \u043b\u0438 \u043e\u0442 \u043d\u0435\u0433\u043e Join (reports). \u0422\u0430\u043c \u043c\u044b \u0434\u043e\u043b\u0436\u043d\u044b \u0432\u0438\u0434\u0435\u0442\u044c ip \u043f\u0440\u0438\u0435\u043c\u043d\u0438\u043a\u0430, \u0430\u0434\u0440\u0435\u0441 \u0433\u0440\u0443\u043f\u043f\u044b, \u0441 \u043a\u0430\u043a\u043e\u0433\u043e \u043f\u043e\u0440\u0442\u0430 \u043f\u0440\u0438\u0448\u0435\u043b \u0437\u0430\u043f\u0440\u043e\u0441, \u043d\u0430\u0448\u043b\u0438\u0441\u044c \u043b\u0438 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u0438 <pre><code>show ip igmp snooping groups vlan &lt;vlan_id&gt; det     # \u043b\u0443\u0447\u0448\u0435 \u044d\u0442\u043e \u0434\u0435\u043b\u0430\u0442\u044c \u0441\u0440\u0430\u0437\u0443 \u043f\u043e\u0441\u043b\u0435 \u0438\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0438, \u0442.\u043a. \u0435\u0441\u043b\u0438 \u043e\u043d\u0430 \u043d\u0435 \u0443\u0434\u0430\u0447\u043d\u0430, \u0442\u043e \u0447\u0435\u0440\u0435\u0437 no-querier-timer (3 \u043c\u0438\u043d\u0443\u0442\u044b by default) \u0432\u044b\u0432\u043e\u0434 \u0441\u0442\u0430\u043d\u0435\u0442 \u043f\u0443\u0441\u0442\u044b\u043c\n</code></pre></li> <li>\u0415\u0441\u043b\u0438 \u043d\u0443\u0436\u043d\u0430\u044f \u0437\u0430\u043f\u0438\u0441\u044c \u0435\u0441\u0442\u044c, \u043f\u0435\u0440\u0435\u0445\u043e\u0434\u0438\u043c \u043a \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0435 \u0437\u043d\u0430\u0435\u0442 \u043b\u0438 \u043a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440 \u043a\u0443\u0434\u0430 \u0441\u043b\u0430\u0442\u044c \u0440\u0435\u043f\u043e\u0440\u0442\u044b <pre><code>show ip igmp snooping mrouter vlan &lt;vlan_id&gt;        # \u0432 \u0432\u044b\u0432\u043e\u0434\u0435 \u043c\u044b \u0434\u043e\u043b\u0436\u043d\u044b \u0443\u0432\u0438\u0434\u0435\u0442\u044c \u043f\u043e\u0440\u0442, \u0432 \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043c\u044b \u0441\u0447\u0438\u0442\u0430\u0435\u043c \u0434\u043e\u043b\u0436\u043d\u044b \u0443\u0445\u043e\u0434\u0438\u0442\u044c igmp reports. \u0415\u0441\u043b\u0438 \u043f\u043e\u0440\u0442 \u0432 \u0441\u043f\u0438\u0441\u043a\u0435 \u0435\u0441\u0442\u044c, \u0437\u043d\u0430\u0447\u0438\u0442 \u043a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440 \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u0442 \u0441 \u043d\u0435\u0433\u043e PIM Hellos, \u0441\u0447\u0438\u0442\u0430\u0435\u0442 \u0435\u0433\u043e igmp-\u0430\u043a\u0442\u0438\u0432\u043d\u044b\u043c \u0438 \u0431\u0443\u0434\u0435\u0442 \u043f\u0435\u0440\u0435\u0441\u044b\u043b\u0430\u0442\u044c \u0432 \u043d\u0435\u0433\u043e reports\n</code></pre></li> <li>\u0422\u0430\u043a\u0436\u0435 \u043c\u043e\u0436\u043d\u043e \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0441\u0447\u0435\u0442\u0447\u0438\u043a\u0438 igmp \u043f\u043e \u0432\u0438\u043b\u0430\u043d <pre><code>show ip igmp snooping statistics vlan &lt;vlan_id&gt;\n# \u0441\u0431\u0440\u043e\u0441 \u0441\u0447\u0435\u0442\u0447\u0438\u043a\u043e\u0432\nclear ip igmp snooping statistics vlan &lt;vlan_id&gt;\n</code></pre></li> </ol>"},{"location":"Networks/Vendors/huawei/firmware/","title":"\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0440\u043e\u0448\u0438\u0432\u043a\u0438 \u043d\u0430 \u043a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440\u0430\u0445 Huawei","text":""},{"location":"Networks/Vendors/huawei/firmware/#_1","title":"\u0428\u0430\u0433\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f","text":""},{"location":"Networks/Vendors/huawei/firmware/#1-tftp","title":"1. \u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0444\u0430\u0439\u043b\u043e\u0432 \u043f\u0440\u043e\u0448\u0438\u0432\u043a\u0438 \u0438 \u043f\u0430\u0442\u0447\u0430 \u0447\u0435\u0440\u0435\u0437 TFTP","text":"<p>\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 TFTP \u0434\u043b\u044f \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0438 \u0444\u0430\u0439\u043b\u043e\u0432 \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u043d\u0430 \u043a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440. \u042d\u0442\u043e \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0432\u0430\u0435\u0442 \u0446\u0435\u043b\u043e\u0441\u0442\u043d\u043e\u0441\u0442\u044c \u0444\u0430\u0439\u043b\u043e\u0432 \u043f\u043e \u0441\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u044e \u0441 \u0432\u0435\u0431-\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u043e\u0439.</p> <p>\u0412\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043a\u043e\u043c\u0430\u043d\u0434\u044b \u0432 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u043c \u0440\u0435\u0436\u0438\u043c\u0435 CLI:</p> <pre><code>tftp &lt;ip_\u0441\u0435\u0440\u0432\u0435\u0440\u0430&gt; get &lt;\u0438\u043c\u044f_\u0444\u0430\u0439\u043b\u0430_\u043f\u0440\u043e\u0448\u0438\u0432\u043a\u0438&gt;  # \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: tftp 192.168.1.100 get s1720-gw_v200r022c00spc500.cc\ntftp &lt;ip_\u0441\u0435\u0440\u0432\u0435\u0440\u0430&gt; get &lt;\u0438\u043c\u044f_\u0444\u0430\u0439\u043b\u0430_\u043f\u0430\u0442\u0447\u0430&gt;    # \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: tftp 192.168.1.100 get s1720-gw_v200r022sph1b0.pat\n</code></pre> <p>\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430: \u041f\u043e\u0441\u043b\u0435 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 <code>dir</code> \u0434\u043b\u044f \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u044f \u043d\u0430\u043b\u0438\u0447\u0438\u044f \u0444\u0430\u0439\u043b\u043e\u0432 \u0432 \u0445\u0440\u0430\u043d\u0438\u043b\u0438\u0449\u0435 \u043a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440\u0430.</p>"},{"location":"Networks/Vendors/huawei/firmware/#2","title":"2. \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u043f\u0440\u043e\u0448\u0438\u0432\u043a\u0438","text":"<p>\u0417\u0430\u0434\u0430\u0439\u0442\u0435 \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u043d\u044b\u0439 \u0444\u0430\u0439\u043b \u043a\u0430\u043a \u0441\u0438\u0441\u0442\u0435\u043c\u043d\u043e\u0435 \u041f\u041e \u0434\u043b\u044f \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0439 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438. \u042d\u0442\u043e \u043d\u0435 \u0432\u043b\u0438\u044f\u0435\u0442 \u043d\u0430 \u0442\u0435\u043a\u0443\u0449\u0443\u044e \u0441\u0435\u0441\u0441\u0438\u044e \u0434\u043e \u043f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438.</p> <p>\u0412 \u0440\u0435\u0436\u0438\u043c\u0435 \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438:</p> <pre><code>startup system-software s1720-gw_v200r022c00spc500.cc\n</code></pre> <p>\u041e\u0436\u0438\u0434\u0430\u0435\u043c\u044b\u0439 \u0432\u044b\u0432\u043e\u0434: <pre><code>Info: Succeeded in setting the software for booting system.\n</code></pre></p>"},{"location":"Networks/Vendors/huawei/firmware/#3","title":"3. \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u043f\u0430\u0442\u0447\u0430","text":"<p>\u0417\u0430\u0434\u0430\u0439\u0442\u0435 \u043f\u0430\u0442\u0447 \u0434\u043b\u044f \u043f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u043f\u043e\u0441\u043b\u0435 \u043f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438. \u041f\u0430\u0442\u0447 \u0438\u0441\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442 \u0441\u043f\u0435\u0446\u0438\u0444\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u044b \u0432 \u043f\u0440\u043e\u0448\u0438\u0432\u043a\u0435.</p> <pre><code>startup patch s1720-gw_v200r022sph1b0.pat\n</code></pre> <p>\u041e\u0436\u0438\u0434\u0430\u0435\u043c\u044b\u0439 \u0432\u044b\u0432\u043e\u0434: <pre><code>Info: Succeeded in setting main board resource file for system.\n</code></pre></p>"},{"location":"Networks/Vendors/huawei/firmware/#4","title":"4. \u041f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430","text":"<p>\u041f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0435 \u043a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440 \u0434\u043b\u044f \u043f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439. \u0421\u0438\u0441\u0442\u0435\u043c\u0430 \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u0442 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e \u0438 \u043e\u0431\u043d\u043e\u0432\u0438\u0442 firmware.</p> <pre><code>reboot\n</code></pre> <p>\u041e\u0436\u0438\u0434\u0430\u0435\u043c\u044b\u0439 \u0432\u044b\u0432\u043e\u0434 \u0438 \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435: <pre><code>Info: The system is now comparing the configuration, please wait.\nInfo: If want to reboot with saving diagnostic information, input 'N' and then execute 'reboot save diagnostic-information'.\nSystem will reboot! Continue?[Y/N]:y\nComparing the firmware versions........................................\nWarning: It will take a few minutes to upgrade firmware. Please do not switchover, reset, remove, or power off the board when upgrade is being performed. Please keep system stable...........................................................................................................\nInfo: Online upgrade firmware on slot 0 successfully.\nInfo: System is rebooting, please wait...\n</code></pre></p> <p>\u0412\u0440\u0435\u043c\u044f \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f: \u041f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043c\u043e\u0436\u0435\u0442 \u0437\u0430\u043d\u044f\u0442\u044c \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043c\u0438\u043d\u0443\u0442. \u041c\u043e\u043d\u0438\u0442\u043e\u0440\u044c\u0442\u0435 \u043a\u043e\u043d\u0441\u043e\u043b\u044c \u0434\u043b\u044f \u043f\u0440\u043e\u0433\u0440\u0435\u0441\u0441\u0430.</p>"},{"location":"Networks/Vendors/huawei/firmware/#-","title":"\u041f\u043e\u0441\u0442-\u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f","text":"<ul> <li>\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0432\u0435\u0440\u0441\u0438\u044e: <code>display version</code>.</li> <li>\u0422\u0435\u0441\u0442\u0438\u0440\u0443\u0439\u0442\u0435 \u043a\u043b\u044e\u0447\u0435\u0432\u044b\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 (\u043f\u043e\u0440\u0442\u044b, VLAN, routing).</li> <li>\u0415\u0441\u043b\u0438 \u0432\u043e\u0437\u043d\u0438\u043a\u043b\u0438 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u044b, \u043e\u0442\u043a\u0430\u0442\u0438\u0442\u0435\u0441\u044c \u043a \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0435\u0439 \u043f\u0440\u043e\u0448\u0438\u0432\u043a\u0435: \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 <code>startup system-software &lt;\u0441\u0442\u0430\u0440\u0430\u044f_\u043f\u0440\u043e\u0448\u0438\u0432\u043a\u0430&gt;</code> \u0438 \u043f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0435.</li> </ul>"},{"location":"Networks/Vendors/huawei/radius/","title":"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 RADIUS \u043d\u0430 \u043a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440\u0430\u0445 Huawei (VRP)","text":"<p>\u041f\u0440\u0435\u0434\u0432\u0430\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f: - \u0414\u043e\u0441\u0442\u0443\u043f \u043a CLI \u043a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440\u0430 \u0432 \u0440\u0435\u0436\u0438\u043c\u0435 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 (\u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 <code>&lt; &gt;</code> \u0434\u043b\u044f \u0432\u0445\u043e\u0434\u0430 \u0432 \u0440\u0435\u0436\u0438\u043c \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430, <code>system-view</code> \u0434\u043b\u044f \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f). - RADIUS-\u0441\u0435\u0440\u0432\u0435\u0440 (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u043d\u0430 \u0431\u0430\u0437\u0435 FreeRADIUS \u0438\u043b\u0438 Windows NPS) \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043d \u0438 \u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d. - \u0423\u0431\u0435\u0434\u0438\u0442\u0435\u0441\u044c, \u0447\u0442\u043e \u0441\u0435\u0442\u044c \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0442\u0440\u0430\u0444\u0438\u043a UDP \u043d\u0430 \u043f\u043e\u0440\u0442 RADIUS (\u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e 1812 \u0434\u043b\u044f \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438). - \u041f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u044c\u0442\u0435 shared-key (\u043e\u0431\u0449\u0438\u0439 \u0441\u0435\u043a\u0440\u0435\u0442) \u0434\u043b\u044f \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0433\u043e \u043e\u0431\u043c\u0435\u043d\u0430 \u0434\u0430\u043d\u043d\u044b\u043c\u0438 \u043c\u0435\u0436\u0434\u0443 \u043a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440\u043e\u043c \u0438 \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u043c.</p>"},{"location":"Networks/Vendors/huawei/radius/#1-radius-","title":"1. \u041e\u0431\u044a\u044f\u0432\u043b\u0435\u043d\u0438\u0435 RADIUS-\u0441\u0435\u0440\u0432\u0435\u0440\u0430","text":"<p>\u0421\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u0448\u0430\u0431\u043b\u043e\u043d RADIUS-\u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u0434\u043b\u044f \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u044f \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f. \u042d\u0442\u043e \u0432\u043a\u043b\u044e\u0447\u0430\u0435\u0442 IP-\u0430\u0434\u0440\u0435\u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u0430, \u043f\u043e\u0440\u0442 \u0438 shared-key.</p> <p>\u0412 \u0440\u0435\u0436\u0438\u043c\u0435 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438:</p> <pre><code>radius-server template default\n radius-server shared-key cipher &lt;encrypted_shared_key&gt;  # \u0417\u0430\u043c\u0435\u043d\u0438\u0442\u0435 \u043d\u0430 \u0437\u0430\u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u043a\u043b\u044e\u0447\n radius-server authentication &lt;radius_server_ip&gt; 1812  # IP \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u0438 \u043f\u043e\u0440\u0442 (\u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e 1812)\n undo radius-server user-name domain-included  # \u0423\u0434\u0430\u043b\u044f\u0435\u0442 \u0441\u0443\u0444\u0444\u0438\u043a\u0441 \u0434\u043e\u043c\u0435\u043d\u0430 \u0438\u0437 \u0438\u043c\u0435\u043d\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0432 \u0437\u0430\u043f\u0440\u043e\u0441\u0430\u0445 (\u0435\u0441\u043b\u0438 \u0441\u0435\u0440\u0432\u0435\u0440\u0443 \u043e\u043d \u043d\u0435 \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f)\n</code></pre>"},{"location":"Networks/Vendors/huawei/radius/#2-aaa","title":"2. \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u043c\u043e\u0434\u0435\u043b\u0438 AAA","text":"<p>\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u0442\u0435 \u0441\u0445\u0435\u043c\u044b \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 \u0438 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438, \u0430 \u0442\u0430\u043a\u0436\u0435 \u0434\u043e\u043c\u0435\u043d \u0434\u043b\u044f \u043f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u044f RADIUS. \u042d\u0442\u043e \u0438\u043d\u0442\u0435\u0433\u0440\u0438\u0440\u0443\u0435\u0442 RADIUS \u0441 \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e\u0439 \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0435\u0439 \u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 fallback.</p> <p>\u0412 \u0440\u0435\u0436\u0438\u043c\u0435 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438:</p> <pre><code>aaa\n authentication-scheme radius-local\n  authentication-mode radius local  # \u0421\u043d\u0430\u0447\u0430\u043b\u0430 RADIUS, \u0437\u0430\u0442\u0435\u043c \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u0430\u044f \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f\n authorization-scheme radius-local\n  authorization-mode if-authenticated local  # \u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f \u043f\u043e\u0441\u043b\u0435 \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438, \u0441 fallback \u043d\u0430 \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u0443\u044e\n domain corp.example.com  # \u0421\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u0434\u043e\u043c\u0435\u043d (\u0437\u0430\u043c\u0435\u043d\u0438\u0442\u0435 \u043d\u0430 \u0432\u0430\u0448, e.g., corp.example.com)\n  authentication-scheme radius-local\n  authorization-scheme radius-local\n  radius-server default  # \u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u0435 \u0448\u0430\u0431\u043b\u043e\u043d RADIUS\n</code></pre> <p>\u041f\u043e\u044f\u0441\u043d\u0435\u043d\u0438\u0435:  - <code>authentication-scheme</code> \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u0442 \u043f\u043e\u0440\u044f\u0434\u043e\u043a: RADIUS \u043a\u0430\u043a primary, \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u0430\u044f \u043a\u0430\u043a secondary. - <code>authorization-scheme</code> \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044e \u043f\u043e\u0441\u043b\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e\u0439 \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438. - \u0414\u043e\u043c\u0435\u043d \u0433\u0440\u0443\u043f\u043f\u0438\u0440\u0443\u0435\u0442 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0438 \u043f\u0440\u0438\u043c\u0435\u043d\u044f\u0435\u0442\u0441\u044f \u043a \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c.</p> <p>\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430: <code>display aaa configuration</code> \u0438\u043b\u0438 <code>display domain name corp.example.com</code>.</p>"},{"location":"Networks/Vendors/huawei/radius/#3-vendor-specific-radius-","title":"3. \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 vendor-specific \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 \u043d\u0430 RADIUS-\u0441\u0435\u0440\u0432\u0435\u0440\u0435","text":"<p>\u0414\u043b\u044f \u043f\u043e\u0432\u044b\u0448\u0435\u043d\u0438\u044f \u043f\u0440\u0430\u0432 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u044f admin-\u043f\u0440\u0438\u0432\u0438\u043b\u0435\u0433\u0438\u0439) \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u0442\u0435 vendor-specific \u0430\u0442\u0440\u0438\u0431\u0443\u0442\u044b (VSA) \u043d\u0430 RADIUS-\u0441\u0435\u0440\u0432\u0435\u0440\u0435. Huawei \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442 Vendor ID 2011.</p> <ul> <li>\u041f\u0440\u0438\u043c\u0435\u0440 \u0434\u043b\u044f FreeRADIUS \u0438\u043b\u0438 \u043f\u043e\u0434\u043e\u0431\u043d\u043e\u0433\u043e: \u0412 \u0444\u0430\u0439\u043b\u0435 users \u0434\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0430\u0442\u0440\u0438\u0431\u0443\u0442, \u0442\u0430\u043a\u043e\u0439 \u043a\u0430\u043a <code>Huawei-Priv-Level = 3</code> (\u0433\u0434\u0435 3 \u2014 \u0443\u0440\u043e\u0432\u0435\u043d\u044c \u043f\u0440\u0438\u0432\u0438\u043b\u0435\u0433\u0438\u0439 \u0434\u043b\u044f \u043f\u043e\u043b\u043d\u043e\u0433\u043e \u0434\u043e\u0441\u0442\u0443\u043f\u0430).</li> <li>\u041f\u0440\u0438\u043c\u0435\u0440 \u0434\u043b\u044f Windows NPS: \u0412 \u043f\u043e\u043b\u0438\u0442\u0438\u043a\u0435 \u0441\u0435\u0442\u0438 \u0434\u043e\u0431\u0430\u0432\u044c\u0442\u0435 Vendor-Specific \u0430\u0442\u0440\u0438\u0431\u0443\u0442 \u0441 Vendor ID 2011 \u0438 \u0430\u0442\u0440\u0438\u0431\u0443\u0442\u043e\u043c \u0434\u043b\u044f \u0443\u0440\u043e\u0432\u043d\u044f \u043f\u0440\u0438\u0432\u0438\u043b\u0435\u0433\u0438\u0439 (\u0441\u043c. \u0441\u043a\u0440\u0438\u043d\u0448\u043e\u0442\u044b \u043d\u0438\u0436\u0435).</li> </ul> <p> </p> <p>\u041f\u043e\u044f\u0441\u043d\u0435\u043d\u0438\u0435: \u042d\u0442\u043e \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0441\u0435\u0440\u0432\u0435\u0440\u0443 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0442\u044c \u0430\u0442\u0440\u0438\u0431\u0443\u0442\u044b, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 Huawei \u0438\u043d\u0442\u0435\u0440\u043f\u0440\u0435\u0442\u0438\u0440\u0443\u0435\u0442 \u0434\u043b\u044f \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0440\u043e\u043b\u0435\u0439. \u0411\u0435\u0437 \u044d\u0442\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438 \u043c\u043e\u0433\u0443\u0442 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0431\u0430\u0437\u043e\u0432\u044b\u0439 \u0434\u043e\u0441\u0442\u0443\u043f</p>"},{"location":"Networks/Vendors/huawei/radius/#4","title":"4. \u0423\u043f\u0440\u043e\u0449\u0435\u043d\u0438\u0435 \u043b\u043e\u0433\u0438\u043d\u0430 (\u0431\u0435\u0437 \u0441\u0443\u0444\u0444\u0438\u043a\u0441\u0430 \u0434\u043e\u043c\u0435\u043d\u0430)","text":"<p>\u0427\u0442\u043e\u0431\u044b \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438 \u043d\u0435 \u0432\u0432\u043e\u0434\u0438\u043b\u0438 \u0434\u043e\u043c\u0435\u043d\u043d\u044b\u0439 \u0441\u0443\u0444\u0444\u0438\u043a\u0441 \u043f\u0440\u0438 \u043b\u043e\u0433\u0438\u043d\u0435 (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u043f\u0440\u043e\u0441\u0442\u043e \"username\" \u0432\u043c\u0435\u0441\u0442\u043e \"username@corp.example.com\"), \u043f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u0435 \u0434\u043e\u043c\u0435\u043d \u043a\u0430\u043a \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u0438\u0432\u043d\u044b\u0439. \u042d\u0442\u043e \u043e\u0442\u043a\u043b\u044e\u0447\u0430\u0435\u0442 \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u0443\u044e \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044e admin-\u0430\u043a\u043a\u0430\u0443\u043d\u0442\u043e\u0432.</p> <pre><code>domain corp.example.com admin\n</code></pre> <p>\u041f\u043e\u044f\u0441\u043d\u0435\u043d\u0438\u0435: \u041f\u043e\u043b\u0435\u0437\u043d\u043e \u0434\u043b\u044f \u0443\u0434\u043e\u0431\u0441\u0442\u0432\u0430, \u043d\u043e \u0442\u0435\u0440\u044f\u0435\u0442\u0441\u044f \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043b\u043e\u0433\u0438\u043d\u0430 \u043f\u043e\u0434 \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u044b\u043c\u0438 \u0443\u0447\u0435\u0442\u043a\u0430\u043c\u0438. \u0415\u0441\u043b\u0438 \u043d\u0443\u0436\u043d\u043e, \u0441\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u044b\u0435 \u0434\u043e\u043c\u0435\u043d\u044b \u0438\u043b\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 fallback.</p>"},{"location":"Networks/Vendors/huawei/radius/#5-ssh-telnet","title":"5. \u0412\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 SSH \u0438 \u043e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 Telnet","text":"<pre><code>stelnet server enable  # \u0412\u043a\u043b\u044e\u0447\u0430\u0435\u0442 SSH-\u0441\u0435\u0440\u0432\u0435\u0440\nssh server-source -i Vlanif3518  # \u041e\u0433\u0440\u0430\u043d\u0438\u0447\u0438\u0432\u0430\u0435\u0442 \u043f\u0440\u043e\u0441\u043b\u0443\u0448\u0438\u0432\u0430\u043d\u0438\u0435 \u043d\u0430 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u043e\u043c \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0435 (\u0437\u0430\u043c\u0435\u043d\u0438\u0442\u0435 \u043d\u0430 \u0432\u0430\u0448, e.g., VlanifX)\nundo telnet server enable  # \u041e\u0442\u043a\u043b\u044e\u0447\u0430\u0435\u0442 Telnet\n</code></pre> <p>\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430: <code>display ssh server status</code> \u0438 <code>display telnet server status</code>.</p>"},{"location":"Networks/Vendors/huawei/snmp/","title":"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 SNMP \u043d\u0430 \u043a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440\u0430\u0445 Huawei (VRP)","text":"<p>\u041f\u0440\u0435\u0434\u0432\u0430\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f: - \u0414\u043e\u0441\u0442\u0443\u043f \u043a CLI \u043a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440\u0430 \u0432 \u0440\u0435\u0436\u0438\u043c\u0435 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 (\u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 <code>&lt; &gt;</code> \u0434\u043b\u044f \u0432\u0445\u043e\u0434\u0430 \u0432 \u0440\u0435\u0436\u0438\u043c \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430, <code>system-view</code> \u0434\u043b\u044f \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f). - SNMP-\u0441\u0435\u0440\u0432\u0435\u0440 (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, PRTG, Zabbix \u0438\u043b\u0438 Nagios) \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043d \u0438 \u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d. - \u0423\u0431\u0435\u0434\u0438\u0442\u0435\u0441\u044c, \u0447\u0442\u043e \u0441\u0435\u0442\u044c \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 UDP-\u0442\u0440\u0430\u0444\u0438\u043a \u043d\u0430 \u043f\u043e\u0440\u0442 SNMP (\u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e 161). - \u041f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u044c\u0442\u0435 community string (\u0430\u043d\u0430\u043b\u043e\u0433 \u043f\u0430\u0440\u043e\u043b\u044f) \u0434\u043b\u044f \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438. \u0418\u0437\u0431\u0435\u0433\u0430\u0439\u0442\u0435 \u043f\u0440\u043e\u0441\u0442\u044b\u0445 \u0441\u0442\u0440\u043e\u043a, \u0442\u0430\u043a\u0438\u0445 \u043a\u0430\u043a \"public\", \u0434\u043b\u044f \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438. - \u0417\u043d\u0430\u043d\u0438\u0435 \u0432\u0435\u0440\u0441\u0438\u0439 SNMP: v1/v2c (\u043d\u0435\u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435, \u0443\u0441\u0442\u0430\u0440\u0435\u0432\u0448\u0438\u0435) vs. v3 (\u0441 \u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u0438\u0435\u043c \u0438 \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0435\u0439). \u0417\u0434\u0435\u0441\u044c \u0444\u043e\u043a\u0443\u0441 \u043d\u0430 v1/v2c, \u043a\u0430\u043a \u0432 \u043f\u0440\u0438\u043c\u0435\u0440\u0435.</p> <p>Trade-offs: - SNMP v1/v2c \u043f\u0440\u043e\u0441\u0442 \u0432 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0435, \u043d\u043e \u043f\u0435\u0440\u0435\u0434\u0430\u0451\u0442 \u0434\u0430\u043d\u043d\u044b\u0435 \u0432 plaintext (\u0440\u0438\u0441\u043a \u043f\u0435\u0440\u0435\u0445\u0432\u0430\u0442\u0430). \u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f v3 \u0434\u043b\u044f production. - \u041e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u0435 ACL \u0438 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u043e\u0432 \u043f\u043e\u0432\u044b\u0448\u0430\u0435\u0442 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u044c, \u043d\u043e \u043c\u043e\u0436\u0435\u0442 \u0443\u0441\u043b\u043e\u0436\u043d\u0438\u0442\u044c \u043e\u0442\u043b\u0430\u0434\u043a\u0443, \u0435\u0441\u043b\u0438 \u043f\u0440\u0430\u0432\u0438\u043b\u0430 \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u0441\u0442\u0440\u043e\u0433\u0438\u0435. - \u0412\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 SNMP \u0443\u0432\u0435\u043b\u0438\u0447\u0438\u0432\u0430\u0435\u0442 \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0443 \u043d\u0430 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u043e (\u043c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u043e), \u043d\u043e \u043a\u0440\u0438\u0442\u0438\u0447\u043d\u043e \u0434\u043b\u044f \u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433\u0430.</p>"},{"location":"Networks/Vendors/huawei/snmp/#1-acl-snmp","title":"1. \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 ACL \u0434\u043b\u044f SNMP","text":"<p>\u0421\u043e\u0437\u0434\u0430\u0439\u0442\u0435 ACL (Access Control List) \u0434\u043b\u044f \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u044f \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u043e\u0432, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043c\u043e\u0433\u0443\u0442 \u0437\u0430\u043f\u0440\u0430\u0448\u0438\u0432\u0430\u0442\u044c SNMP. \u042d\u0442\u043e \u043f\u0440\u0435\u0434\u043e\u0442\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u043d\u0435\u0441\u0430\u043d\u043a\u0446\u0438\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u0434\u043e\u0441\u0442\u0443\u043f.</p> <p>\u0412 \u0440\u0435\u0436\u0438\u043c\u0435 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438:</p> <pre><code>acl name SNMP 3999  # \u0421\u043e\u0437\u0434\u0430\u0451\u0442 \u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u043d\u044b\u0439 ACL \u0441 \u043d\u043e\u043c\u0435\u0440\u043e\u043c 3999 (\u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d advanced ACL: 3000-3999)\n rule 5 permit ip source 198.51.200.8 0  # \u0420\u0430\u0437\u0440\u0435\u0448\u0430\u0435\u0442 \u0442\u0440\u0430\u0444\u0438\u043a \u0442\u043e\u043b\u044c\u043a\u043e \u043e\u0442 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u043e\u0433\u043e IP (\u043c\u0430\u0441\u043a\u0430 0 \u2014 \u0442\u043e\u0447\u043d\u044b\u0439 \u043c\u0430\u0442\u0447). \u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0431\u043e\u043b\u044c\u0448\u0435 \u043f\u0440\u0430\u0432\u0438\u043b \u0434\u043b\u044f \u0434\u0440\u0443\u0433\u0438\u0445 \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u0432.\n</code></pre> <p>\u041f\u043e\u044f\u0441\u043d\u0435\u043d\u0438\u0435:  - \u041d\u043e\u043c\u0435\u0440 ACL (3999) \u2014 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u043b\u044c\u043d\u044b\u0439 \u0432 \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d\u0435. \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 <code>deny</code> \u0434\u043b\u044f \u044f\u0432\u043d\u043e\u0433\u043e \u0437\u0430\u043f\u0440\u0435\u0442\u0430 \u0434\u0440\u0443\u0433\u0438\u0445 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u043e\u0432 (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, <code>rule 10 deny ip</code> \u0432 \u043a\u043e\u043d\u0446\u0435). - \u0418\u0441\u0442\u043e\u0447\u043d\u0438\u043a \u2014 IP \u0432\u0430\u0448\u0435\u0433\u043e SNMP-\u0441\u0435\u0440\u0432\u0435\u0440\u0430. \u0414\u043b\u044f \u043f\u043e\u0434\u0441\u0435\u0442\u0435\u0439 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u043c\u0430\u0441\u043a\u0443 (e.g., <code>source 198.51.200.0 0.0.0.255</code> \u0434\u043b\u044f /24). - ACL \u043f\u0440\u0438\u043c\u0435\u043d\u044f\u0435\u0442\u0441\u044f \u043f\u043e\u0437\u0436\u0435 \u043a SNMP-\u0430\u0433\u0435\u043d\u0442\u0443.</p> <p>\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430: <code>display acl name SNMP</code> \u0434\u043b\u044f \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430 \u043f\u0440\u0430\u0432\u0438\u043b.</p>"},{"location":"Networks/Vendors/huawei/snmp/#2-snmp-","title":"2. \u0412\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 SNMP-\u0430\u0433\u0435\u043d\u0442\u0430","text":"<p>\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u0435 SNMP-\u0430\u0433\u0435\u043d\u0442, \u043f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u0435 ACL, \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u0442\u0435 community string \u0438 \u0441\u0438\u0441\u0442\u0435\u043c\u043d\u0443\u044e \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e. \u041e\u0433\u0440\u0430\u043d\u0438\u0447\u044c\u0442\u0435 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u044b \u0434\u043b\u044f \u043f\u0440\u043e\u0441\u043b\u0443\u0448\u0438\u0432\u0430\u043d\u0438\u044f.</p> <p>\u0412 \u0440\u0435\u0436\u0438\u043c\u0435 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438:</p> <pre><code>snmp-agent  # \u0412\u043a\u043b\u044e\u0447\u0430\u0435\u0442 SNMP-\u0430\u0433\u0435\u043d\u0442 \u043d\u0430 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0435\nsnmp-agent acl 3999  # \u041f\u0440\u0438\u043c\u0435\u043d\u044f\u0435\u0442 ACL \u0434\u043b\u044f \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u044f \u0434\u043e\u0441\u0442\u0443\u043f\u0430 (\u0437\u0430\u043c\u0435\u043d\u0438\u0442\u0435 \u043d\u0430 \u0432\u0430\u0448 \u043d\u043e\u043c\u0435\u0440 ACL)\nsnmp-agent community read cipher %^%#&lt;encrypted_community_string&gt;%^%#  # \u0423\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u0442 community string \u0434\u043b\u044f \u0447\u0442\u0435\u043d\u0438\u044f (\u0432 \u0437\u0430\u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u043c \u0432\u0438\u0434\u0435; \u0443\u043a\u0430\u0436\u0438\u0442\u0435 plaintext \u043f\u0440\u0438 \u0432\u0432\u043e\u0434\u0435 \u2014 \u0441\u0438\u0441\u0442\u0435\u043c\u0430 \u0437\u0430\u0448\u0438\u0444\u0440\u0443\u0435\u0442)\nsnmp-agent sys-info contact &lt;your_contact_info&gt;  # \u0423\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u0442 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u043d\u0443\u044e \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e (e.g., \"admin@example.com\")\nsnmp-agent sys-info location &lt;your_location_info&gt;  # \u0423\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u0442 \u043c\u0435\u0441\u0442\u043e\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435 (e.g., \"Data Center Rack 5\")\nsnmp-agent sys-info version v1 v2c  # \u0423\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u043c\u044b\u0435 \u0432\u0435\u0440\u0441\u0438\u0438 (v1 \u0438 v2c; \u0434\u043e\u0431\u0430\u0432\u044c\u0442\u0435 v3 \u043f\u0440\u0438 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0441\u0442\u0438)\n\n# \u041e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u0435 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u043e\u0432 \u0434\u043b\u044f \u043f\u0440\u043e\u0441\u043b\u0443\u0448\u0438\u0432\u0430\u043d\u0438\u044f SNMP\nundo snmp-agent protocol source-status all-interface  # \u041e\u0442\u043a\u043b\u044e\u0447\u0430\u0435\u0442 \u043f\u0440\u043e\u0441\u043b\u0443\u0448\u0438\u0432\u0430\u043d\u0438\u0435 \u043d\u0430 \u0432\u0441\u0435\u0445 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430\u0445 (IPv4)\nsnmp-agent protocol source-interface Vlanif3518  # \u041e\u0433\u0440\u0430\u043d\u0438\u0447\u0438\u0432\u0430\u0435\u0442 \u043d\u0430 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u0439 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441 (\u0437\u0430\u043c\u0435\u043d\u0438\u0442\u0435 \u043d\u0430 \u0432\u0430\u0448, e.g., VlanifX)\nundo snmp-agent protocol source-status ipv6 all-interface  # \u041e\u0442\u043a\u043b\u044e\u0447\u0430\u0435\u0442 \u0434\u043b\u044f IPv6 (\u0435\u0441\u043b\u0438 \u043d\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f)\n</code></pre> <p>\u041f\u043e\u044f\u0441\u043d\u0435\u043d\u0438\u0435:  - <code>snmp-agent community read</code> \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0438\u0432\u0430\u0435\u0442 \u043d\u0430 \u0447\u0442\u0435\u043d\u0438\u0435 (\u0434\u043b\u044f \u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433\u0430). \u0414\u043b\u044f \u0437\u0430\u043f\u0438\u0441\u0438 \u0434\u043e\u0431\u0430\u0432\u044c\u0442\u0435 <code>write</code>. - Community string \u0448\u0438\u0444\u0440\u0443\u0435\u0442\u0441\u044f \u0432 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 \u0434\u043b\u044f \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438. \u041f\u0440\u0438 \u0432\u0432\u043e\u0434\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 plaintext \u2014 Huawei \u0437\u0430\u0448\u0438\u0444\u0440\u0443\u0435\u0442. - \u041e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u0435 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u043e\u0432 (e.g., management VLAN) \u043f\u0440\u0435\u0434\u043e\u0442\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u044d\u043a\u0441\u043f\u043e\u0437\u0438\u0446\u0438\u044e SNMP \u043d\u0430 \u043f\u0443\u0431\u043b\u0438\u0447\u043d\u044b\u0445 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430\u0445. - \u0412\u0435\u0440\u0441\u0438\u0438: v1/v2c \u0441\u043e\u0432\u043c\u0435\u0441\u0442\u0438\u043c\u044b \u0441 \u0431\u043e\u043b\u044c\u0448\u0438\u043d\u0441\u0442\u0432\u043e\u043c \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u043e\u0432, \u043d\u043e \u043d\u0435\u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u044b. \u0414\u043b\u044f v3 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u0442\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u0441 <code>snmp-agent usm-user v3</code>.</p> <p>\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430: <code>display snmp-agent sys-info</code> \u0434\u043b\u044f \u0441\u0438\u0441\u0442\u0435\u043c\u043d\u043e\u0439 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u0438 <code>display snmp-agent community</code> \u0434\u043b\u044f community strings.</p>"},{"location":"Networks/Vendors/huawei/snmp/#-","title":"\u041f\u043e\u0441\u0442-\u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f","text":"<ul> <li>\u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435: \u0421 SNMP-\u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0437\u0430\u043f\u0440\u043e\u0441 (e.g., <code>snmpwalk -v 1 -c &lt;community&gt; -On -Cc &lt;device_ip&gt; 1.3.6.1.2.1.1.5.0</code>). \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435, \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u043b\u0438 \u0441 \u0440\u0430\u0437\u0440\u0435\u0448\u0451\u043d\u043d\u043e\u0433\u043e IP \u0438 \u0431\u043b\u043e\u043a\u0438\u0440\u0443\u0435\u0442\u0441\u044f \u0441 \u0434\u0440\u0443\u0433\u0438\u0445.</li> <li>\u041c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433 \u0438 \u043b\u043e\u0433\u0438: \u041f\u0440\u043e\u0441\u043c\u0430\u0442\u0440\u0438\u0432\u0430\u0439\u0442\u0435 \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0443 \u0441 <code>display snmp-agent statistics</code>. \u0412\u043a\u043b\u044e\u0447\u0438\u0442\u0435 traps \u0434\u043b\u044f \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0439: <code>snmp-agent trap enable</code>.</li> <li>\u0411\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u044c: \u0420\u0435\u0433\u0443\u043b\u044f\u0440\u043d\u043e \u0440\u043e\u0442\u0438\u0440\u0443\u0439\u0442\u0435 community strings. \u041f\u0435\u0440\u0435\u0439\u0434\u0438\u0442\u0435 \u043d\u0430 SNMPv3 \u0434\u043b\u044f \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438/\u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u0438\u044f: <code>snmp-agent usm-user v3 &lt;user&gt; group &lt;group&gt; authentication-mode sha &lt;password&gt; privacy-mode aes-128 &lt;privacy_password&gt;</code>.</li> <li>\u041e\u0442\u043a\u0430\u0442: \u041e\u0442\u043a\u043b\u044e\u0447\u0438\u0442\u0435 SNMP \u0441 <code>undo snmp-agent</code>. \u0423\u0434\u0430\u043b\u0438\u0442\u0435 ACL \u0441 <code>undo acl name SNMP</code>.</li> <li>\u0420\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u0438\u044f: \u0414\u043b\u044f \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0439 (traps) \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u0442\u0435 <code>snmp-agent target-host trap address udp-domain &lt;server_ip&gt; params securityname &lt;community&gt; v2c</code>.</li> </ul>"},{"location":"Networks/Vendors/mikrotik/ros/","title":"RouterOS","text":""},{"location":"Networks/Vendors/mikrotik/ros/#ipsec-gre-over-ipsec","title":"IPsec (GRE over IPsec)","text":"<p>\u0412 \u043e\u0431\u044b\u0447\u043d\u043e\u0439 \u0441\u0438\u0442\u0443\u0430\u0446\u0438\u0438 \u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441 \u0442\u0438\u043f\u0430 GRE Tunnel - \u0432\u0441\u0451 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0435 \u0431\u0443\u0434\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c\u0441\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0415\u0441\u043b\u0438 \u0436\u0435 \u044d\u0442\u043e \u043d\u0435 \u043f\u043e\u0434\u0445\u043e\u0434\u0438\u0442, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 \u043c\u044b \u0445\u043e\u0442\u0438\u043c \u0432\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0440\u0435\u0436\u0438\u043c response-only (passive), \u0442\u043e \u043f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430 GRE Tunnel \u043d\u0435 \u0437\u0430\u0434\u0430\u0451\u043c \u043f\u0430\u0440\u043e\u043b\u044c ipsec \u0438 \u043f\u0440\u0435\u0434\u0432\u0430\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u0451\u043c \u0432\u0440\u0443\u0447\u043d\u0443\u044e \u0434\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0441\u0443\u0449\u043d\u043e\u0441\u0442\u0438 \u0434\u043b\u044f \u0442\u0443\u043d\u0435\u043b\u044f:  </p> <p><pre><code>/ip ipsec peer\nadd name=new-peer address=X.X.X.X/32 local-address=Y.Y.Y.Y passive=yes\n</code></pre> <pre><code>/ip ipsec identity\nadd peer=new-peer auth-method=pre-shared-key secret=\"\u0412\u0410\u0428_PSK\"\n</code></pre> <pre><code>/ip ipsec policy\nadd src-address=Y.Y.Y.Y/32 dst-address=X.X.X.X/32 protocol=gre \\\n    action=encrypt tunnel=no peer=new-peer proposal=default\n</code></pre></p>"},{"location":"Networks/Vendors/mikrotik/ros/#bgp","title":"BGP","text":"<ol> <li>\u0421\u043e\u0437\u0434\u0430\u0451\u043c \u043f\u0440\u0435\u0444\u0438\u043a\u0441-\u043b\u0438\u0441\u0442\u044b     <pre><code>/routing filter rule\nadd chain=bgp-in disabled=no rule=\\\n    \"if ((dst in &lt;\u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u043c\u044b\u0439_\u043f\u0440\u0435\u0444\u0438\u043a\u0441&gt;/15) || (dst in &lt;\u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u043c\u044b\u0439_\u043f\u0440\u0435\u0444\u0438\u043a\u0441&gt;/15)) { accept }\"\n</code></pre></li> <li>\u041d\u0430\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0435\u043c \u043d\u0430\u0448\u0443 ASN     <pre><code>/routing bgp template\nset default as=&lt;\u043d\u043e\u043c\u0435\u0440_\u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e\u0439_asn&gt; disabled=no router-id=&lt;ip_\u0430\u0434\u0440\u0435\u0441_\u0440\u043e\u0443\u0442\u0435\u0440\u0430&gt; routing-table=main\n</code></pre></li> <li>\u0421\u043e\u0437\u0434\u0430\u0451\u043c \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 \u0441 \u0441\u043e\u0441\u0435\u0434\u043e\u043c     <pre><code>/routing bgp connection\nadd as=&lt;\u043d\u043e\u043c\u0435\u0440_\u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e\u0439_asn&gt; disabled=no input.filter=bgp-in local.address=\\\n    &lt;\u043b\u043e\u043a\u0430\u043b\u044c\u043d\u044b\u0439_\u0442\u0443\u043d\u0435\u043b\u044c\u043d\u044b\u0439_ip&gt; .role=ebgp name=connection-name output.network=&lt;\u0430\u0434\u0440\u0435\u0441-\u043b\u0438\u0441\u0442_\u0430\u043d\u043e\u043d\u0441\u0438\u0440\u0443\u0435\u043c\u044b\u0445_\u043f\u043e\u0434\u0441\u0435\u0442\u0435\u0439&gt; \\\n    remote.address=&lt;\u0442\u0443\u043d\u0435\u043b\u044c\u043d\u044b\u0439_ip_\u0441\u043e\u0435\u0441\u0434\u0430&gt;/32 .as=&lt;asn_\u0441\u043e\u0441\u0435\u0434\u0430&gt; \\\n    templates=default\n</code></pre></li> </ol>"},{"location":"Windows/drivers/","title":"Drivers","text":""},{"location":"Windows/drivers/#intel-i225-vi226-v-windows-server","title":"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u0434\u0440\u0430\u0439\u0432\u0435\u0440\u0430 \u043d\u0430 \u0441\u0435\u0442\u0435\u0432\u0443\u044e \u043a\u0430\u0440\u0442\u0443 \u043f\u043e\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e \u043a\u043b\u0430\u0441\u0441\u0430 (Intel I225-V/I226-V) \u0432 Windows Server","text":"<ol> <li>\u0421\u043a\u0430\u0447\u0438\u0432\u0430\u0435\u043c \u043c\u043e\u0434\u0438\u0444\u0438\u0446\u0438\u0440\u043e\u0432\u0430\u043d\u044b\u0435 \u0434\u0440\u0430\u0439\u0432\u0435\u0440\u0430: https://www.quarkbook.com/wp-content/uploads/2022/11/PRO2500_Winx64_WS2022_RELEASE_29.2.zip  </li> <li>\u0427\u0435\u0440\u0435\u0437 F8 \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u043c\u0441\u044f \u0432 \u0440\u0435\u0436\u0438\u043c\u0435 \u0431\u0435\u0437 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438 \u043f\u043e\u0434\u043f\u0438\u0441\u0438 \u0434\u0440\u0430\u0439\u0432\u0435\u0440\u043e\u0432</li> <li>\u0423\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u043c \u0434\u0440\u0430\u0439\u0432\u0435\u0440: <pre><code>cd .\\PRO2500_Winx64_WS2022_RELEASE_29.2\\\npnputil.exe -i -a .\\e2f.inf\n</code></pre></li> </ol>"},{"location":"Windows/file_server/","title":"File Server","text":""},{"location":"Windows/file_server/#file-permissions","title":"File permissions","text":"<p>\u0415\u0441\u0442\u044c \u0434\u0432\u0430 \u0432\u0438\u0434\u0430 \u043f\u0440\u0430\u0432: NTFS \u0438 shared </p>"},{"location":"Windows/file_server/#_1","title":"\u041b\u043e\u043a\u0430\u043b\u044c\u043d\u044b\u0435","text":"<p>\u041b\u043e\u043a\u0430\u043b\u044c\u043d\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0443\u044e\u0442 \u0442\u043e\u043b\u044c\u043a\u043e \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u0438\u044f NTFS (\u0432\u043a\u043b\u0430\u0434\u043a\u0430 Security). \u0415\u0441\u043b\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0432\u0445\u043e\u0434\u0438\u0442 \u0432 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e security group \u0441 \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u043c\u0438 \u043f\u0440\u0430\u0432\u0430\u043c\u0438, \u0442\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0443\u044e\u0442 \u043f\u0440\u0430\u0432\u0430 \u0441 \u043d\u0430\u0438\u0431\u043e\u043b\u044c\u0448\u0438\u043c\u0438 \u043f\u0440\u0438\u0432\u0438\u043b\u0435\u0433\u0438\u044f\u043c\u0438 </p>"},{"location":"Windows/file_server/#_2","title":"\u0423\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0435","text":"<p>\u041f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u043e\u043c \u0434\u043e\u0441\u0442\u0443\u043f\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0443\u044e\u0442 \u0438 \u043f\u0440\u0430\u0432\u0430 NTFS, \u0438 shared \u043f\u0440\u0430\u0432\u0430. \u041f\u0440\u0438\u043e\u0440\u0438\u0442\u0435\u0442 \u0438\u043c\u0435\u044e\u0442 \u043c\u0435\u043d\u044c\u0448\u0438\u0435 \u043f\u0440\u0438\u0432\u0435\u043b\u0435\u0433\u0438\u0438 </p>"},{"location":"Windows/file_server/#example","title":"Example","text":"<p> \u0412 \u044d\u0442\u043e\u043c \u043f\u0440\u0438\u043c\u0435\u0440\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e \u043f\u043e\u043b\u0443\u0447\u0438\u0442 \u043f\u0440\u0430\u0432\u0438\u043b\u0430 \u0441 \u043d\u0430\u0438\u0431\u043e\u043b\u044c\u0448\u0438\u043c \u043f\u0440\u0438\u043e\u0440\u0438\u0442\u0435\u0442\u043e\u043c \u0438\u0437 \u043f\u043e\u0434\u0445\u043e\u0434\u044f\u0449\u0438\u0445 \u0432 NTFS - FC, \u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u043e - \u043d\u0430\u0438\u043c\u0435\u043d\u044c\u0448\u0438\u0435 \u0438\u0437 \u043f\u043e\u0434\u0445\u043e\u0434\u044f\u0449\u0438\u0445 \u0432 shared \u0438 NTFS - R </p>"},{"location":"Windows/file_server/#best-practice","title":"Best practice","text":"<ol> <li>\u041d\u0430 \u043f\u0430\u043f\u043a\u0443 namespace \u0437\u0430\u0434\u0430\u0435\u043c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u043f\u0440\u0430\u0432\u0430:  </li> </ol> <p>NOTE:  \u041d\u0430\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u043d\u0438\u0435 \u0432\u044b\u043a\u043b\u044e\u0447\u0435\u043d\u043e * \u0413\u0440\u0443\u043f\u043f\u0430 Users (\u044d\u0442\u043e \u0438 \u0434\u043e\u043c\u0435\u043d\u043d\u044b\u0435 \u0438 \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u044b\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438) \u043f\u043e\u043b\u0443\u0447\u0430\u044e\u0442 \u043f\u0440\u0430\u0432\u0430, \u0442\u043e\u043b\u044c\u043a\u043e \u0434\u043b\u044f \u0434\u0430\u043d\u043d\u043e\u0439 \u043f\u0430\u043f\u043a\u0438. \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438 \u0434\u043e\u043b\u0436\u043d\u044b \u0438\u043c\u0435\u0442\u044c \u0434\u043e\u0441\u0442\u0443\u043f \u043d\u0430 \u0441\u0430\u043c namespace, \u043d\u043e \u043d\u0435 \u0438\u043c\u0435\u0442\u044c \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438 \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u043f\u0430\u043f\u043a\u0438 \u0432 \u043a\u043e\u0440\u043d\u0435 - \u044d\u0442\u043e \u0434\u0435\u043b\u0430\u044e\u0442 \u0430\u0434\u043c\u0438\u043d\u044b 2. Shared \u043f\u0440\u0430\u0432\u0430 \u0434\u0430\u0451\u043c \u0432\u0441\u0435\u043c FC:  3. \u0412 \u043a\u043e\u0440\u043d\u0435 \u0441\u043e\u0437\u0434\u0430\u0435\u043c \u043f\u0430\u043f\u043a\u0443 \u0441 \u043d\u0443\u0436\u043d\u044b\u043c\u0438 \u043f\u0440\u0430\u0432\u0430\u043c\u0438 (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u043d\u0430 \u043e\u0442\u0434\u0435\u043b)  \u0417\u0434\u0435\u0441\u044c \u043d\u0443\u0436\u043d\u043e\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0439 \u0433\u0440\u0443\u043f\u043f\u0435 \u0437\u0430\u0434\u0430\u0435\u043c \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0435 \u043f\u0440\u0430\u0432\u0430 \u043d\u0430 \u0441\u0430\u043c\u0443 \u043f\u0430\u043f\u043a\u0443 \u0438 FC \u043d\u0430 \u0432\u0441\u0435 \u0444\u0430\u0439\u043b\u044b \u0438 \u043f\u043e\u0434\u043f\u0430\u043f\u043a\u0438. \u0421\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0435 \u043f\u0440\u0430\u0432\u0430 \u0432\u043a\u043b\u044e\u0447\u0430\u044e\u0442 \u0432 \u0441\u0435\u0431\u044f RX \u043f\u043b\u044e\u0441 \u043f\u0440\u0430\u0432\u0430 \u043d\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0444\u0430\u0439\u043b\u043e\u0432 \u0438 \u043f\u0430\u043f\u043e\u043a* \u0422\u0430\u043a\u0438\u043c \u043e\u0431\u0440\u0430\u0437\u043e\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438 \u0432\u0438\u0434\u044f\u0442 \u043f\u0430\u043f\u043a\u0443 \u0441\u0432\u043e\u0435\u0433\u043e \u043e\u0442\u0434\u0435\u043b\u0430, \u043d\u043e \u043d\u0435 \u043c\u043e\u0433\u0443\u0442 \u0435\u0435 \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 \u0443\u0434\u0430\u043b\u0438\u0442\u044c. \u041f\u0440\u0438 \u044d\u0442\u043e\u043c \u043e\u043d\u0438 \u043c\u043e\u0433\u0443\u0442 \u0441\u0432\u043e\u0431\u043e\u0434\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u0438 \u043c\u0430\u043d\u0438\u043f\u0443\u043b\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0444\u0430\u0439\u043b\u0430\u043c\u0438 \u0438 \u043f\u043e\u0434\u043f\u0430\u043f\u043a\u0430\u043c\u0438 </p>"},{"location":"Windows/file_server/#vss","title":"\u0422\u0435\u043d\u0435\u0432\u043e\u0435 \u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 (VSS)","text":""},{"location":"Windows/file_server/#usefull-commands","title":"Usefull commands:","text":"<pre><code>vssadmin add shadowstorage /for=C: /on=D: /maxsize=200MB    # \u0441\u043e\u0437\u0434\u0430\u0451\u043c \u0445\u0440\u0430\u043d\u0438\u043b\u0438\u0449\u0435 \u0442\u0435\u043d\u0435\u0432\u044b\u0445 \u043a\u043e\u043f\u0438\u0439\nvssadmin list shadowstorage         # \u0441\u043c\u043e\u0442\u0440\u0438\u043c \u0441\u043f\u0438\u0441\u043e\u043a \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u044b\u0445 \u0445\u0440\u0430\u043d\u0438\u043b\u0438\u0449\nvssadmin create shadow /for=C:     # \u0441\u043e\u0437\u0434\u0430\u0451\u043c \u0442\u0435\u043d\u0435\u0432\u0443\u044e \u043a\u043e\u043f\u0438\u044e \u0440\u0430\u0437\u0434\u0435\u043b\u0430\nvssadmin list shadows               # \u0441\u043f\u0438\u0441\u043e\u043a \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0445 \u0442\u0435\u043d\u0435\u0432\u044b\u0445 \u043a\u043e\u043f\u0438\u0439\n\n# \u041c\u0435\u043d\u0435\u0434\u0436\u043c\u0435\u043d\u0442 \u043a\u043e\u043c\u0430\u043d\u0434\u044b\nvssadmin delete shadows /for=C: /all        # \u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0432\u0441\u0435\u0445 \u0442\u0435\u043d\u0435\u0432\u044b\u0445 \u043a\u043e\u043f\u0438\u0439 \u0434\u043b\u044f \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0451\u043d\u043d\u043e\u0433\u043e \u0442\u043e\u043c\u0430\nvssadmin delete shadows /for=C: /oldest     # \u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0441\u0430\u043c\u043e\u0439 \u0441\u0442\u0430\u0440\u043e\u0439 \u0442\u0435\u043d\u0435\u0432\u043e\u0439 \u043a\u043e\u043f\u0438\u0438\nvssadmin delete shadows /shadow={ID \u0442\u0435\u043d\u0435\u0432\u043e\u0439 \u043a\u043e\u043f\u0438\u0438}      # \u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0442\u0435\u043d\u0435\u0432\u043e\u0439 \u043a\u043e\u043f\u0438\u0438 \u043f\u043e \u0435\u0451 ID\nvssadmin delete shadowstorage /for=ForVolumeSpec [/on=OnVolumeSpec]     # \u0423\u0434\u0430\u043b\u044f\u0435\u0442 \u0430\u0441\u0441\u043e\u0446\u0438\u0430\u0446\u0438\u044e \u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u0442\u0435\u043d\u0435\u0432\u044b\u0445 \u043a\u043e\u043f\u0438\u0439\n</code></pre>"},{"location":"Windows/hyper-v/","title":"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u0414\u0438\u0441\u043f\u0435\u0442\u0447\u0435\u0440\u0430 Hyper-V \u0438 \u0443\u0434\u0430\u043b\u0451\u043d\u043d\u043e\u0435 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u043c \u0432 \u043d\u0435\u0434\u043e\u043c\u0435\u043d\u043d\u043e\u0439 \u0441\u0440\u0435\u0434\u0435","text":""},{"location":"Windows/hyper-v/#_1","title":"\u0421\u0435\u0440\u0432\u0435\u0440","text":"<ol> <li>\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0441\u043e\u0432\u043c\u0435\u0441\u0442\u0438\u043c\u043e\u0441\u0442\u0438 \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u044f: \u0423\u0431\u0435\u0434\u0438\u0442\u0435\u0441\u044c, \u0447\u0442\u043e \u0441\u0435\u0440\u0432\u0435\u0440 \u0443\u0434\u043e\u0432\u043b\u0435\u0442\u0432\u043e\u0440\u044f\u0435\u0442 \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f\u043c \u0434\u043b\u044f \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0438 \u0440\u043e\u043b\u0438 Hyper-V. \u0412\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043a\u043e\u043c\u0430\u043d\u0434\u0443:</li> </ol> <pre><code>systeminfo\n</code></pre> <p>\u0412 \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \"\u0422\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f \u043a Hyper-V\" \u0434\u043e\u043b\u0436\u043d\u044b \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0442\u044c\u0441\u044f \u0432\u0441\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u0438.</p> <ol> <li>\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u0440\u043e\u043b\u0438 Hyper-V: \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0435 \u0440\u043e\u043b\u044c Hyper-V \u0441 \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435\u043c \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u043e\u0432 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0438 \u043f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u043e\u0439 \u0441\u0435\u0440\u0432\u0435\u0440\u0430:</li> </ol> <pre><code>Install-WindowsFeature -Name Hyper-V -IncludeManagementTools -Restart\n</code></pre> <ol> <li>\u0410\u043a\u0442\u0438\u0432\u0430\u0446\u0438\u044f Windows: \u0410\u043a\u0442\u0438\u0432\u0438\u0440\u0443\u0439\u0442\u0435 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u0443\u044e \u0441\u0438\u0441\u0442\u0435\u043c\u0443 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u043a\u043e\u043c\u0430\u043d\u0434:</li> </ol> <pre><code>slmgr /ipk &lt;\u043a\u043b\u044e\u0447_\u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0439_\u0432\u0435\u0440\u0441\u0438\u0438_\u041e\u0421&gt;\nslmgr /skms &lt;\u0430\u0434\u0440\u0435\u0441_kms_\u0441\u0435\u0440\u0432\u0435\u0440\u0430&gt;:&lt;\u043f\u043e\u0440\u0442&gt;\nslmgr /ato\n</code></pre> <ol> <li>\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0438 \u0440\u043e\u043b\u0438: \u0423\u0431\u0435\u0434\u0438\u0442\u0435\u0441\u044c, \u0447\u0442\u043e \u0440\u043e\u043b\u044c Hyper-V \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0430:</li> </ol> <pre><code>Get-WindowsFeature -Name Hyper-V\n</code></pre> <ol> <li> <p>\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e <code>sconfig</code>:</p> </li> <li> <p>\u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u0435 \u0443\u0442\u0438\u043b\u0438\u0442\u0443:</p> <pre><code>sconfig\n</code></pre> </li> <li> <p>\u0412\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f:</p> <ul> <li> <p>\u0417\u0430\u0434\u0430\u0439\u0442\u0435 \u0438\u043c\u044f \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440\u0430 (hostname).</p> </li> <li> <p>\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0451\u043d\u043d\u043e\u0435 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435.</p> </li> <li> <p>\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u0435 ICMP-\u043e\u0442\u0432\u0435\u0442\u044b (\u043f\u0438\u043d\u0433\u0438).</p> </li> <li> <p>\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u0447\u0430\u0441\u043e\u0432\u043e\u0439 \u043f\u043e\u044f\u0441.</p> </li> </ul> </li> <li> <p>\u0412\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0443\u0434\u0430\u043b\u0451\u043d\u043d\u043e\u0433\u043e \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f: \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u0442\u0435 \u0441\u0435\u0440\u0432\u0435\u0440 \u0434\u043b\u044f \u0443\u0434\u0430\u043b\u0451\u043d\u043d\u043e\u0433\u043e \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f:</p> </li> </ol> <pre><code>Enable-PSRemoting\nEnable-WSManCredSSP -Role Server\nwinrm quickconfig\n</code></pre> <ol> <li> <p>\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a:</p> </li> <li> <p>\u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u0441 \u043a\u0430\u043a\u0438\u043c\u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430\u043c\u0438 \u0441\u043b\u0443\u0448\u0430\u0435\u0442 WinRM:</p> <pre><code>winrm enumerate winrm/config/listener\n</code></pre> </li> <li> <p>\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u0441\u043b\u0443\u0436\u0431\u044b \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0432\u0438\u0440\u0442\u0443\u0430\u043b\u044c\u043d\u044b\u043c\u0438 \u043c\u0430\u0448\u0438\u043d\u0430\u043c\u0438:</p> <pre><code>Get-Service -Name vmms\n</code></pre> </li> </ol>"},{"location":"Windows/hyper-v/#_2","title":"\u041a\u043b\u0438\u0435\u043d\u0442","text":"<ol> <li> <p>\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u0414\u0438\u0441\u043f\u0435\u0442\u0447\u0435\u0440\u0430 Hyper-V:</p> </li> <li> <p>\u041e\u0442\u043a\u0440\u043e\u0439\u0442\u0435 \"\u041f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u044b \u0438 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u044b\" \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u043a\u043e\u043c\u0430\u043d\u0434\u044b:</p> <pre><code>appwiz.cpl\n</code></pre> </li> <li> <p>\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \"\u0412\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0438\u043b\u0438 \u043e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u043e\u0432 Windows\".</p> </li> <li> <p>\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0435 \u0444\u043b\u0430\u0436\u043e\u043a \"\u0421\u0440\u0435\u0434\u0441\u0442\u0432\u0430 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f Hyper-V\".</p> </li> <li> <p>\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e\u0441\u0442\u0438 \u0441\u0435\u0440\u0432\u0435\u0440\u0430: \u0423\u0431\u0435\u0434\u0438\u0442\u0435\u0441\u044c, \u0447\u0442\u043e \u0441\u0435\u0440\u0432\u0435\u0440 \u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d \u043f\u043e \u043f\u043e\u0440\u0442\u0443 5985:</p> </li> </ol> <pre><code>Test-NetConnection -ComputerName 192.168.21.30 -Port 5985\n</code></pre> <ol> <li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0437\u0430\u043f\u0438\u0441\u0438 \u0432 \u0444\u0430\u0439\u043b hosts: \u0415\u0441\u043b\u0438 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u044b\u0439 DNS, \u0434\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0437\u0430\u043f\u0438\u0441\u044c \u0432 \u0444\u0430\u0439\u043b hosts:</li> </ol> <pre><code>Add-Content -Path \"C:\\Windows\\System32\\drivers\\etc\\hosts\" -Value \"192.168.21.30 hv19\"\n</code></pre> <ol> <li>\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u0443\u0447\u0435\u0442\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445 \u0434\u043b\u044f \u0434\u043e\u0441\u0442\u0443\u043f\u0430 \u043a \u0441\u0435\u0440\u0432\u0435\u0440\u0443: \u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u0435 \u0443\u0447\u0435\u0442\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0434\u043b\u044f \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u043a \u0441\u0435\u0440\u0432\u0435\u0440\u0443:</li> </ol> <pre><code>cmdkey /add:hv19 /user:Administrator /pass:HVpa66w0ddr\n</code></pre> <ol> <li> <p>\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0438 \u0437\u0430\u043f\u0443\u0441\u043a \u0441\u043b\u0443\u0436\u0431\u044b WinRM:</p> </li> <li> <p>\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u0441\u043b\u0443\u0436\u0431\u044b:</p> <pre><code>Get-Service -Name WinRM\n</code></pre> </li> <li> <p>\u041f\u0440\u0438 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0441\u0442\u0438 \u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u0435 \u0441\u043b\u0443\u0436\u0431\u0443:</p> <pre><code>Start-Service -Name WinRM\n</code></pre> </li> <li> <p>\u0412\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 CredSSP: \u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u0435 \u0434\u0435\u043b\u0435\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0443\u0447\u0435\u0442\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445 \u0434\u043b\u044f \u0441\u0435\u0440\u0432\u0435\u0440\u0430:</p> </li> </ol> <pre><code>Enable-WSManCredSSP -Role Client -DelegateComputer \"hv19\"\n</code></pre> <ol> <li>\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a WinRM: \u0423\u0431\u0435\u0434\u0438\u0442\u0435\u0441\u044c, \u0447\u0442\u043e \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u043a\u043b\u0438\u0435\u043d\u0442\u0430 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b:</li> </ol> <pre><code>winrm get winrm/config/client\n</code></pre> <ol> <li> <p>\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0433\u0440\u0443\u043f\u043f\u043e\u0432\u044b\u0445 \u043f\u043e\u043b\u0438\u0442\u0438\u043a:</p> </li> <li> <p>\u041e\u0442\u043a\u0440\u043e\u0439\u0442\u0435 \u0440\u0435\u0434\u0430\u043a\u0442\u043e\u0440 \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e\u0439 \u0433\u0440\u0443\u043f\u043f\u043e\u0432\u043e\u0439 \u043f\u043e\u043b\u0438\u0442\u0438\u043a\u0438:</p> <pre><code>gpedit.msc\n</code></pre> </li> <li> <p>\u041f\u0435\u0440\u0435\u0439\u0434\u0438\u0442\u0435 \u0432 \u0440\u0430\u0437\u0434\u0435\u043b:</p> <pre><code>\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440\u0430 -&gt; \u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u0438\u0432\u043d\u044b\u0435 \u0448\u0430\u0431\u043b\u043e\u043d\u044b -&gt; \u0421\u0438\u0441\u0442\u0435\u043c\u0430 -&gt; \u041f\u0435\u0440\u0435\u0434\u0430\u0447\u0430 \u0443\u0447\u0435\u0442\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445\n</code></pre> </li> <li> <p>\"\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c \u0434\u0435\u043b\u0435\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043d\u043e\u0432\u044b\u0445 \u0443\u0447\u0435\u0442\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445\" - \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u0430</p> </li> <li> <p>\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u0435 \u043f\u043e\u043b\u0438\u0442\u0438\u043a\u0443 \"\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c \u0434\u0435\u043b\u0435\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043d\u043e\u0432\u044b\u0445 \u0443\u0447\u0435\u0442\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445 \u0441 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u043e\u0439 \u043f\u043e\u0434\u043b\u0438\u043d\u043d\u043e\u0441\u0442\u0438 \u0442\u043e\u043b\u044c\u043a\u043e NTLM\" \u0438 \u0434\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0441\u0435\u0440\u0432\u0435\u0440 \u0432 \u0441\u043f\u0438\u0441\u043e\u043a, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440:</p> <pre><code>WSMAN/hv19\nWSMAN/*.example.com\nWSMAN/192.168.21.30\nWSMAN/*\n</code></pre> </li> <li> <p>\u041f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u0438\u0442\u0438\u043a: \u041e\u0431\u043d\u043e\u0432\u0438\u0442\u0435 \u0433\u0440\u0443\u043f\u043f\u043e\u0432\u044b\u0435 \u043f\u043e\u043b\u0438\u0442\u0438\u043a\u0438:</p> </li> </ol> <pre><code>gpupdate /force\n</code></pre> <p>\u041f\u0440\u0438\u043c\u0435\u0447\u0430\u043d\u0438\u0435: \u0421\u0435\u0442\u0435\u0432\u043e\u0435 \u0438\u043c\u044f, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u043e\u0435 \u0434\u043b\u044f \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f, \u0434\u043e\u043b\u0436\u043d\u043e \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u0442\u044c \u0441 \u0438\u043c\u0435\u043d\u0435\u043c \u0445\u043e\u0441\u0442\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430.</p>"},{"location":"Windows/rdp/","title":"RDP","text":""},{"location":"Windows/rdp/#shadow-session","title":"Shadow session","text":"<p>\u0421\u043c\u043e\u0442\u0440\u0438\u043c \u043d\u043e\u043c\u0435\u0440 \u0441\u0435\u0441\u0441\u0438\u0438 (\u043c\u043e\u0436\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u043e): <pre><code>qwinsta /server &lt;\u0438\u043c\u044f_\u043a\u043e\u043c\u043f\u0430&gt;\n</code></pre> \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u044f\u0440\u043b\u044b\u043a: <pre><code>C:\\Windows\\System32\\mstsc.exe -v &lt;\u0438\u043c\u044f_\u043a\u043e\u043c\u043f\u0430&gt; /shadow:&lt;\u043d\u043e\u043c\u0435\u0440_\u0441\u0435\u0441\u0441\u0438\u0438&gt; /control /noConsentPrompt\n</code></pre></p>"},{"location":"Windows/tcp_settings/","title":"Network settings","text":""},{"location":"Windows/tcp_settings/#tcp-windows-delay-smb","title":"\u0422\u044e\u043d\u0438\u043c \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 TCP Windows \u0434\u043b\u044f \u043a\u0430\u043d\u0430\u043b\u043e\u0432 \u0441 \u0432\u044b\u0441\u043e\u043a\u0438\u043c delay (\u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043b\u043e\u0441\u044c \u043d\u0430 \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0435 SMB)","text":"<pre><code># \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 SMB\nSet-SmbClientConfiguration -EnableBandwidthThrottling $false  # \u041e\u0442\u043a\u043b\u044e\u0447\u0430\u0435\u0442 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u0435 \u043f\u0440\u043e\u043f\u0443\u0441\u043a\u043d\u043e\u0439 \u0441\u043f\u043e\u0441\u043e\u0431\u043d\u043e\u0441\u0442\u0438 SMB, \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0432\u0441\u044e \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0443\u044e \u043f\u043e\u043b\u043e\u0441\u0443\n\n# \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 TCP\n# \u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0435\nnetsh int tcp set global pacingprofile=always  # \u0410\u043a\u0442\u0438\u0432\u0438\u0440\u0443\u0435\u0442 \u0440\u0430\u0432\u043d\u043e\u043c\u0435\u0440\u043d\u043e\u0435 \u0440\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u043a\u0435\u0442\u043e\u0432 \u0432\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0438, \u0441\u043d\u0438\u0436\u0430\u044f \u043f\u0435\u0440\u0435\u0433\u0440\u0443\u0437\u043a\u0438 \u043f\u0440\u0438 \u0432\u044b\u0441\u043e\u043a\u043e\u043c RTT\nnetsh int tcp set global autotuninglevel=experimental  # \u0423\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u0442 \u0430\u0433\u0440\u0435\u0441\u0441\u0438\u0432\u043d\u0443\u044e \u043e\u043f\u0442\u0438\u043c\u0438\u0437\u0430\u0446\u0438\u044e TCP-\u043e\u043a\u043d\u0430 \u0434\u043b\u044f \u0432\u044b\u0441\u043e\u043a\u043e\u043b\u0430\u0442\u0435\u043d\u0442\u043d\u044b\u0445 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0439\n\n# \u0412\u0442\u043e\u0440\u043e\u0441\u0442\u0435\u043f\u0435\u043d\u043d\u044b\u0435 - \u0443\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u0435 \u043d\u0435 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u043e\nnetsh int tcp set global prr=disable  # \u041e\u0442\u043a\u043b\u044e\u0447\u0430\u0435\u0442 \u0430\u043b\u0433\u043e\u0440\u0438\u0442\u043c \u043f\u0440\u043e\u043f\u043e\u0440\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u0441\u043d\u0438\u0436\u0435\u043d\u0438\u044f \u0441\u043a\u043e\u0440\u043e\u0441\u0442\u0438, \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u044f \u0431\u044b\u0441\u0442\u0440\u0435\u0435 \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0442\u044c\u0441\u044f \u043f\u043e\u0441\u043b\u0435 \u043f\u043e\u0442\u0435\u0440\u044c\nnetsh int tcp set global timestamps=enable  # \u0423\u043b\u0443\u0447\u0448\u0430\u0435\u0442 \u0438\u0437\u043c\u0435\u0440\u0435\u043d\u0438\u0435 \u0432\u0440\u0435\u043c\u0435\u043d\u0438 RTT \u0438 \u0442\u043e\u0447\u043d\u043e\u0441\u0442\u044c \u043f\u043e\u0432\u0442\u043e\u0440\u043d\u044b\u0445 \u043f\u0435\u0440\u0435\u0434\u0430\u0447\nnetsh int tcp set global nonsackrttresiliency=enabled  # \u041f\u043e\u0432\u044b\u0448\u0430\u0435\u0442 \u0443\u0441\u0442\u043e\u0439\u0447\u0438\u0432\u043e\u0441\u0442\u044c \u043f\u0440\u0438 \u0440\u0430\u0441\u0447\u0451\u0442\u0435 RTT \u0431\u0435\u0437 \u0432\u044b\u0431\u043e\u0440\u043e\u0447\u043d\u043e\u0433\u043e \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u044f\n\n# \u0421\u043f\u043e\u0440\u043d\u044b\u0435\nnetsh int tcp set global ecncapability=enable  # \u0412\u043a\u043b\u044e\u0447\u0430\u0435\u0442 \u044f\u0432\u043d\u043e\u0435 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0435 \u043e \u043f\u0435\u0440\u0435\u0433\u0440\u0443\u0437\u043a\u0435 \u0431\u0435\u0437 \u043e\u0442\u0431\u0440\u0430\u0441\u044b\u0432\u0430\u043d\u0438\u044f \u043f\u0430\u043a\u0435\u0442\u043e\u0432\nnetsh int tcp set global rss=enable  # \u0412\u043a\u043b\u044e\u0447\u0430\u0435\u0442 Receive Side Scaling - \u0440\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u0442 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0443 \u0441\u0435\u0442\u0435\u0432\u044b\u0445 \u043f\u0430\u043a\u0435\u0442\u043e\u0432 \u043c\u0435\u0436\u0434\u0443 \u044f\u0434\u0440\u0430\u043c\u0438 CPU\n</code></pre>"},{"location":"%D0%9C%D0%BE%D0%BD%D0%B8%D1%82%D0%BE%D1%80%D0%B8%D0%BD%D0%B3/netflow/","title":"Netflow","text":""},{"location":"%D0%9C%D0%BE%D0%BD%D0%B8%D1%82%D0%BE%D1%80%D0%B8%D0%BD%D0%B3/netflow/#flow-nfdump-nfcapd","title":"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 flow-\u043a\u043e\u043b\u043b\u0435\u043a\u0442\u043e\u0440\u0430 (nfdump / nfcapd)","text":"<p>nfcapd \u2014 \u0434\u0435\u043c\u043e\u043d-\u043a\u043e\u043b\u043b\u0435\u043a\u0442\u043e\u0440, nfdump \u2014 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442 \u0430\u043d\u0430\u043b\u0438\u0437\u0430.</p>"},{"location":"%D0%9C%D0%BE%D0%BD%D0%B8%D1%82%D0%BE%D1%80%D0%B8%D0%BD%D0%B3/netflow/#ubuntudebian","title":"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 (Ubuntu/Debian)","text":"<pre><code>sudo apt update\nsudo apt install nfdump\n</code></pre>"},{"location":"%D0%9C%D0%BE%D0%BD%D0%B8%D1%82%D0%BE%D1%80%D0%B8%D0%BD%D0%B3/netflow/#_1","title":"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043f\u0430\u043f\u043a\u0438","text":"<pre><code>sudo mkdir -p /var/log/netflow\nsudo chown $USER:$USER /var/log/netflow\n</code></pre>"},{"location":"%D0%9C%D0%BE%D0%BD%D0%B8%D1%82%D0%BE%D1%80%D0%B8%D0%BD%D0%B3/netflow/#nfcapd","title":"\u0417\u0430\u043f\u0443\u0441\u043a nfcapd \u043a\u0430\u043a \u0441\u0435\u0440\u0432\u0438\u0441\u0430","text":"<pre><code>sudo nfcapd -D -p 2055 -w /var/log/netflow -t 14400 # \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442 \u043f\u0435\u0440\u0438\u043e\u0434\u0438\u0447\u043d\u043e\u0441\u0442\u044c \u0432 \u0441\u0435\u043a\u0443\u043d\u0434\u0430\u0445 (4 \u0447\u0430\u0441\u0430 \u0432 \u0434\u0430\u043d\u043d\u043e\u043c \u043f\u0440\u0438\u043c\u0435\u0440\u0435), \u0441 \u043a\u043e\u0442\u043e\u0440\u043e\u0439 \u0431\u0443\u0434\u0443\u0442 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0442\u0441\u044f \u0444\u0430\u0439\u043b\u044b\n</code></pre>"},{"location":"%D0%9C%D0%BE%D0%BD%D0%B8%D1%82%D0%BE%D1%80%D0%B8%D0%BD%D0%B3/netflow/#nfdump","title":"\u041f\u0440\u0438\u043c\u0435\u0440\u044b \u0430\u043d\u0430\u043b\u0438\u0437\u0430 \u0441 nfdump","text":"<pre><code># \u0422\u043e\u043f-10 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u043e\u0432 \u043f\u043e \u0431\u0430\u0439\u0442\u0430\u043c \u0437\u0430 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439 \u0444\u0430\u0439\u043b\nnfdump -r /var/netflow/nfcapd.* -s srcip/bytes -n 10\n\n# \u0424\u0438\u043b\u044c\u0442\u0440 \u043f\u043e \u043f\u043e\u0440\u0442\u0443 443\nnfdump -r /var/netflow/nfcapd.* 'port 443' -s record -n 20\n</code></pre>"},{"location":"%D0%9C%D0%BE%D0%BD%D0%B8%D1%82%D0%BE%D1%80%D0%B8%D0%BD%D0%B3/prtg/","title":"PRTG","text":""},{"location":"%D0%9C%D0%BE%D0%BD%D0%B8%D1%82%D0%BE%D1%80%D0%B8%D0%BD%D0%B3/prtg/#ssh-script","title":"SSH Script","text":"<ol> <li>\u0417\u0430\u043a\u0438\u0434\u044b\u0432\u0430\u0435\u043c \u0444\u0430\u0439\u043b \u0441\u043a\u0440\u0438\u043f\u0442\u0430 \u043f\u043e \u043f\u0443\u0442\u0438 <code>/var/prtg/scripts</code></li> <li>\u041f\u0440\u0438\u043c\u0435\u0440 \u0441\u043a\u0440\u0438\u043f\u0442\u0430 \u0434\u043b\u044f \u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433\u0430 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 \u0432\u043e FreeBSD: <pre><code>#!/bin/sh\n# \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c, \u0431\u044b\u043b \u043b\u0438 \u043f\u0435\u0440\u0435\u0434\u0430\u043d \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442 \u0441 \u0438\u043c\u0435\u043d\u0435\u043c \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430\nif [ $# -eq 0 ]; then\n  echo \"0:0:Bad argument\"\n  exit 1\nfi\nprocess_name=$1\nstatus=$( /bin/pgrep \"$process_name\" )\n# \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c, \u0435\u0441\u0442\u044c \u043b\u0438 \u0442\u0430\u043a\u043e\u0439 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\nif [ -n \"$status\" ]; then\n  # \u041f\u0440\u043e\u0446\u0435\u0441\u0441 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442\n  echo \"2:$status:OK\"\nelse\n  # \u041f\u0440\u043e\u0446\u0435\u0441\u0441 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\n  echo \"0:0:Down\"\nfi\n</code></pre> \u0412 \u043e\u0431\u0449\u0435\u043c \u0441\u043b\u0443\u0447\u0430\u0435 \u0441\u043a\u0440\u0438\u043f\u0442 \u043c\u043e\u0436\u0435\u0442 \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0442\u044c \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u044b \u0438 \u0434\u043e\u043b\u0436\u0435\u043d \u0432\u044b\u0432\u043e\u0434\u0438\u0442\u044c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 <code>returncode:value:message</code>  2.1 \u0421 \u0446\u0435\u043b\u044c\u044e \u0442\u0440\u0430\u0431\u043b\u0448\u0443\u0442\u0438\u043d\u0433\u0430 \u043c\u043e\u0436\u043d\u043e \u043f\u043e\u043f\u0440\u043e\u0431\u043e\u0432\u0430\u0442\u044c \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0446\u0435\u043b\u0435\u0432\u0443\u044e \u043a\u043e\u043c\u0430\u043d\u0434\u0443 \u0438\u0437-\u043f\u043e\u0434 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f <code>prtg</code>: <code>su prtg</code> \u0412\u044b\u043f\u043e\u043b\u043d\u0438\u0432 \u043a\u043e\u043c\u0430\u043d\u0434\u0443, \u043f\u043e\u043f\u0430\u0434\u0430\u0435\u0448\u044c \u0432 \u043a\u043e\u043c\u0430\u043d\u0434\u043d\u0443\u044e \u0441\u0442\u0440\u043e\u043a\u0443 \u043f\u043e\u0434 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u043c  </li> <li>\u0414\u0430\u0442\u044c \u0444\u0430\u0439\u043b\u0443 \u043f\u0440\u0430\u0432\u0430 0755</li> <li>\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043f\u0440\u0435\u0434\u0443\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f, \u043f\u043e\u0434 \u043a\u043e\u0442\u043e\u0440\u044b\u043c \u0431\u0443\u0434\u0435\u0442 \u0437\u0430\u0445\u043e\u0434\u0438\u0442\u044c PRTG. \u0423 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0434\u043e\u043b\u0436\u043d\u044b \u0431\u044b\u0442\u044c \u043f\u0440\u0430\u0432\u0430 \u043d\u0430 \u0434\u043e\u0441\u0442\u0443\u043f \u043f\u043e SSH \u0438 \u043f\u0440\u0430\u0432\u0430 \u043d\u0430 \u0438\u0441\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0444\u0430\u0439\u043b\u043e\u0432 (\u0441\u043a\u0440\u0438\u043f\u0442\u0430) 5.1 \u041f\u043e\u043b\u0443\u0447\u0430\u0435\u043c \u0441\u043f\u0438\u0441\u043e\u043a \u043e\u0431\u043e\u043b\u043e\u0447\u0435\u043a \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0435: <code>cat /etc/shells</code> 5.2 \u0423\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044e \u0434\u043b\u044f PRTG \u043e\u0431\u043e\u043b\u043e\u0447\u043a\u0443 <code>sh</code>: <code>chsh -s /bin/sh &lt;\u0438\u043c\u044f_\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f&gt;</code> 5.3 \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c, \u0447\u0442\u043e \u043e\u0431\u043e\u043b\u043e\u0447\u043a\u0430 \u043f\u043e-\u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0438\u043b\u0430\u0441\u044c: <code>cat /etc/passwd | grep &lt;\u0438\u043c\u044f_\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f&gt;</code></li> <li>\u041a\u0440\u0435\u0434\u044b \u043d\u0443\u0436\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044f \u0441\u0435\u043d\u0441\u043e\u0440\u0430 (\u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u043e \u0438\u043b\u0438 \u0433\u0440\u0443\u043f\u043f\u0443)</li> <li>\u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u0441\u0435\u043d\u0441\u043e\u0440 <code>SSH Script</code></li> <li>\u0412 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430\u0445 \u043f\u0440\u0438 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0441\u0442\u0438 \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u043c Sensor Name, Parameters (\u043f\u0435\u0440\u0435\u0434\u0430\u0432\u0430\u0435\u043c\u044b\u0435 \u0441\u043a\u0440\u0438\u043f\u0442\u0443 \u0430\u0440\u0443\u0433\u043c\u0435\u043d\u0442\u044b) \u0438 Channel Name</li> </ol>"},{"location":"%D0%9C%D0%BE%D0%BD%D0%B8%D1%82%D0%BE%D1%80%D0%B8%D0%BD%D0%B3/%D0%A1%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5%20TLS%20%D1%81%D0%B5%D1%80%D1%82%D0%B8%D1%84%D0%B8%D0%BA%D0%B0%D1%82%D0%BE%D0%B2%20%D0%B4%D0%BB%D1%8F%20%D0%BF%D0%BE%D0%B4%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D1%8F%20%D0%BA%20Docker/","title":"Docker TLS","text":"<p>Links: - Official Documentation - Stackoverflow</p> <p>\u0421\u043e\u0437\u0434\u0430\u0435\u043c \u043f\u0430\u043f\u043a\u0443 \u043f\u043e\u0434 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u044b: <pre><code>mkdir /docker/certs/\n</code></pre></p> <pre><code>cd /docker/certs/\n</code></pre> <p>\u0421\u043e\u0437\u0434\u0430\u0435\u043c \u043a\u043e\u0440\u043d\u0435\u0432\u043e\u0439 \u043a\u043b\u044e\u0447 \u0438 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442: <pre><code>openssl genrsa -aes256 -out ca-key.pem 4096\n</code></pre></p> <pre><code>openssl req -new -x509 -days 3650 -key ca-key.pem -sha256 -out ca.pem\n</code></pre> <p>\u0423\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u043c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u0434\u043b\u044f \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u0430: <pre><code>Country Name (2 letter code) [AU]:EX\nState or Province Name (full name) [Some-State]:Example\nLocality Name (eg, city) []:Example City\nOrganization Name (eg, company) [Internet Widgits Pty Ltd]:Example Company\nOrganizational Unit Name (eg, section) []:Example Department\nCommon Name (e.g. server FQDN or YOUR name) []:example.server.com\nEmail Address []:example@example.com\n</code></pre></p> <pre><code>openssl genrsa -out server-key.pem 4096\n</code></pre> <pre><code>openssl req -subj \"/CN=example.server.com\" -sha256 -new -key server-key.pem -out server.csr\n</code></pre> <p>\u0414\u0435\u043b\u0430\u0435\u043c \u043a\u043e\u043d\u0444\u0438\u0433: <pre><code>echo subjectAltName = DNS:example.server.com,IP:192.168.1.100 &gt;&gt; extfile.cnf\n</code></pre></p> <pre><code>echo extendedKeyUsage = serverAuth &gt;&gt; extfile.cnf\n</code></pre> <p>\u0413\u0435\u043d\u0435\u0440\u0438\u043c \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442 \u0441\u0435\u0440\u0432\u0435\u0440\u0430: <pre><code>openssl x509 -req -days 3650 -sha256 -in server.csr -CA ca.pem -CAkey ca-key.pem -CAcreateserial -out server-cert.pem -extfile extfile.cnf\n</code></pre></p> <p>\u0413\u0435\u043d\u0435\u0440\u0438\u043c \u043a\u043b\u044e\u0447 \u0438 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442 \u0438 \u043a\u043b\u044e\u0447 \u0434\u043b\u044f \u043a\u043b\u0438\u0435\u043d\u0442\u0430: <pre><code>openssl genrsa -out key.pem 4096\n</code></pre></p> <pre><code>openssl req -subj '/CN=client' -new -key key.pem -out client.csr\n</code></pre> <pre><code>echo extendedKeyUsage = clientAuth &gt; extfile-client.cnf\n</code></pre> <pre><code>openssl x509 -req -days 3650 -sha256 -in client.csr -CA ca.pem -CAkey ca-key.pem -CAcreateserial -out cert.pem -extfile extfile-client.cnf\n</code></pre> <p>\u0423\u0434\u0430\u043b\u044f\u0435\u043c \u043d\u0435\u043d\u0443\u0436\u043d\u044b\u0435 \u0444\u0430\u0439\u043b\u044b: <pre><code>rm -v client.csr server.csr extfile.cnf extfile-client.cnf\n</code></pre></p> <p>\u0423\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u043c \u043f\u0440\u0430\u0432\u0430: <pre><code>chmod -v 0400 ca-key.pem key.pem server-key.pem\n</code></pre></p> <p>\u0421\u043e\u0437\u0434\u0430\u0435\u043c \u043f\u0430\u043f\u043a\u0443 \u0434\u043b\u044f \u043f\u0435\u0440\u0435\u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u044f \u0434\u0435\u043c\u043e\u043d\u0430 \u0434\u043e\u043a\u0435\u0440\u0430: <pre><code>mkdir /etc/systemd/system/docker.service.d\n</code></pre></p> <p>\u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0444\u0430\u0439\u043b \u043f\u0435\u0440\u0435\u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u044f: <pre><code>nano /etc/systemd/system/docker.service.d/docker.conf\n</code></pre></p> <p>\u0418 \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u043c \u0432 \u043d\u0435\u043c: <pre><code>[Service]\nExecStart=\nExecStart=/usr/bin/dockerd\n</code></pre></p> <p>\u0414\u0430\u043b\u0435\u0435 \u0441\u043e\u0437\u0434\u0430\u0435\u043c \u043f\u0430\u043f\u043a\u0443, \u0435\u0441\u043b\u0438 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442: <pre><code>mkdir /etc/docker\n</code></pre></p> <p>\u0421\u043e\u0437\u0434\u0430\u0435\u043c \u043a\u043e\u043d\u0444\u0438\u0433 \u0434\u043e\u043a\u0435\u0440\u0430: <pre><code>nano /etc/docker/daemon.json\n</code></pre></p> <p>\u0423\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u043c \u043a\u043e\u043d\u0444\u0438\u0433: <pre><code>{\n    \"hosts\": [\"unix:///var/run/docker.sock\", \"tcp://0.0.0.0:2376\"],\n    \"tls\": true,\n    \"tlscacert\": \"/docker/certs/ca.pem\",\n    \"tlscert\": \"/docker/certs/server-cert.pem\",\n    \"tlskey\": \"/docker/certs/server-key.pem\",\n    \"tlsverify\": true\n}\n</code></pre></p> <p>\u0414\u0435\u043b\u0430\u0435\u043c reload \u0434\u0435\u043c\u043e\u043d\u0430: <pre><code>systemctl daemon-reload\n</code></pre></p> <p>\u041f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u043c docker: <pre><code>systemctl restart docker\n</code></pre></p>"},{"location":"%D0%9C%D0%BE%D0%BD%D0%B8%D1%82%D0%BE%D1%80%D0%B8%D0%BD%D0%B3/%D0%A1%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5%20TLS%20%D1%81%D0%B5%D1%80%D1%82%D0%B8%D1%84%D0%B8%D0%BA%D0%B0%D1%82%D0%BE%D0%B2%20%D0%B4%D0%BB%D1%8F%20%D0%BF%D0%BE%D0%B4%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D1%8F%20%D0%BA%20Docker/#_1","title":"\u0414\u043b\u044f \u0441\u0438\u0441\u0442\u0435\u043c, \u0442\u0440\u0435\u0431\u0443\u044e\u0449\u0438\u0445 \u0440\u0443\u0447\u043d\u043e\u0439 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0444\u0430\u0439\u0440\u0432\u043e\u043b\u0430","text":""},{"location":"%D0%9C%D0%BE%D0%BD%D0%B8%D1%82%D0%BE%D1%80%D0%B8%D0%BD%D0%B3/%D0%A1%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5%20TLS%20%D1%81%D0%B5%D1%80%D1%82%D0%B8%D1%84%D0%B8%D0%BA%D0%B0%D1%82%D0%BE%D0%B2%20%D0%B4%D0%BB%D1%8F%20%D0%BF%D0%BE%D0%B4%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D1%8F%20%D0%BA%20Docker/#iptables","title":"\u041f\u0440\u0438\u043c\u0435\u0440 \u0434\u043b\u044f \u0441\u0438\u0441\u0442\u0435\u043c \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 iptables:","text":"<p>\u041e\u0442\u043a\u0440\u044b\u0432\u0430\u0435\u043c \u043f\u043e\u0440\u0442 2376 (\u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0434\u043b\u044f TLS \u0437\u0430\u0449\u0438\u0449\u0435\u043d\u043d\u044b\u0445 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0439 Docker): <pre><code>nano /etc/iptables/rules.v4\n</code></pre> \u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u043f\u0440\u0430\u0432\u0438\u043b\u043e: <pre><code>-A INPUT -p tcp -m tcp --dport 2376 -j ACCEPT\n</code></pre> \u041f\u0440\u0438\u043c\u0435\u043d\u044f\u0435\u043c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0438 \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u043c \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0435 \u0441\u043b\u0443\u0436\u0431\u044b (\u043f\u0440\u0438\u043c\u0435\u0440 \u0434\u043b\u044f Debian/Ubuntu): <pre><code>iptables-restore &lt; /etc/iptables/rules.v4 &amp;&amp; systemctl restart docker\n</code></pre> \u0422\u0435\u043f\u0435\u0440\u044c Docker \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043d \u0434\u043b\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u0437\u0430\u0449\u0438\u0449\u0435\u043d\u043d\u043e\u0433\u043e \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f, \u0438 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043d\u0430\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0442\u044c \u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0430 \u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433\u0430, \u0442\u0430\u043a\u0438\u0435 \u043a\u0430\u043a PRTG, \u0434\u043b\u044f \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0433\u043e \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f \u0441 \u0432\u0430\u0448\u0438\u043c Docker \u0445\u043e\u0441\u0442\u043e\u043c.</p>"}]}